<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>POML Codex: Source Extraction</title>
  <style>
    :root {
      --bg: #08080c;
      --surface: #0f0f16;
      --border: #1e1e2e;
      --text: #d4d4dc;
      --dim: #6a6a7a;
      --accent: #00ffa3;
      --accent2: #ff5f87;
      --accent3: #8787ff;
      --mono: 'SF Mono', 'Fira Code', monospace;
      --sans: system-ui, sans-serif;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; }
    body {
      font-family: var(--sans);
      background: var(--bg);
      color: var(--text);
      line-height: 1.5;
      padding: 12px;
      max-width: 100%;
    }
    header {
      border-bottom: 1px solid var(--border);
      padding-bottom: 12px;
      margin-bottom: 16px;
    }
    h1 {
      font-size: 1.2rem;
      color: var(--accent);
      font-weight: 600;
    }
    .meta { font-size: 0.7rem; color: var(--dim); margin-top: 4px; }
    .index {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 12px;
      margin-bottom: 20px;
    }
    .index h2 {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--dim);
      margin-bottom: 8px;
    }
    .index a {
      display: block;
      color: var(--text);
      text-decoration: none;
      font-size: 0.8rem;
      padding: 6px 0;
      border-bottom: 1px solid var(--border);
    }
    .index a:last-child { border-bottom: none; }
    .index a:hover { color: var(--accent); }
    .index .type {
      font-family: var(--mono);
      font-size: 0.6rem;
      padding: 2px 5px;
      border-radius: 3px;
      margin-right: 6px;
    }
    .type-poml { background: rgba(0,255,163,0.15); color: var(--accent); }
    .type-prompt { background: rgba(135,135,255,0.15); color: var(--accent3); }
    
    .block {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 6px;
      margin-bottom: 16px;
      overflow: hidden;
    }
    .block-header {
      background: rgba(0,0,0,0.4);
      padding: 10px 12px;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid var(--border);
    }
    .block-header:active { background: rgba(0,255,163,0.05); }
    .block-title {
      font-size: 0.85rem;
      font-weight: 600;
      color: var(--accent);
    }
    .block-id {
      font-family: var(--mono);
      font-size: 0.65rem;
      color: var(--dim);
      margin-top: 2px;
    }
    .toggle { font-size: 1rem; color: var(--dim); }
    .block.open .toggle { transform: rotate(90deg); }
    .block-body {
      display: none;
      padding: 0;
    }
    .block.open .block-body { display: block; }
    .block.open .block-header { border-bottom-color: var(--accent); }
    
    .source {
      background: #050508;
      padding: 12px;
      font-family: var(--mono);
      font-size: 0.7rem;
      white-space: pre-wrap;
      word-break: break-word;
      overflow-x: auto;
      color: #9999aa;
      max-height: 70vh;
      overflow-y: auto;
    }
    
    .toolbar {
      background: rgba(0,0,0,0.3);
      padding: 8px 12px;
      display: flex;
      gap: 8px;
      border-top: 1px solid var(--border);
    }
    .btn {
      background: var(--border);
      border: none;
      color: var(--dim);
      padding: 6px 10px;
      border-radius: 4px;
      font-size: 0.65rem;
      cursor: pointer;
      font-family: var(--mono);
    }
    .btn:active { background: var(--accent); color: var(--bg); }
    
    footer {
      margin-top: 24px;
      padding-top: 12px;
      border-top: 1px solid var(--border);
      font-size: 0.65rem;
      color: var(--dim);
      text-align: center;
    }
  </style>
</head>
<body>

<header>
  <h1>POML Codex: Source Extraction</h1>
  <p class="meta">13 blocks extracted verbatim from data.json completions</p>
</header>

<div class="index">
  <h2>Block Index</h2>
  <a href="#block-0"><span class="type type-poml">POML</span>POML_1</a>
  <a href="#block-1"><span class="type type-poml">POML</span>POML_2</a>
  <a href="#block-2"><span class="type type-prompt">PROMPT</span>A1</a>
  <a href="#block-3"><span class="type type-prompt">PROMPT</span>S1</a>
  <a href="#block-4"><span class="type type-prompt">PROMPT</span>dual_text</a>
  <a href="#block-5"><span class="type type-prompt">PROMPT</span>SOURCE_TEXT</a>
  <a href="#block-6"><span class="type type-prompt">PROMPT</span>KITT-URN-GRID-v1</a>
  <a href="#block-7"><span class="type type-prompt">PROMPT</span>CAREY-URN-GRID-v1</a>
  <a href="#block-8"><span class="type type-prompt">PROMPT</span>CAREY-SPATIAL-SEMANTIC-GRID-v2</a>
  <a href="#block-9"><span class="type type-prompt">PROMPT</span>CAREY-CULTURAL-APPROACH-POML-v1</a>
  <a href="#block-10"><span class="type type-prompt">PROMPT</span>CAREY-24x24-RITUAL-GRID-v1</a>
  <a href="#block-11"><span class="type type-prompt">PROMPT</span>OPS-SCHEMAS-24x24-v1</a>
  <a href="#block-12"><span class="type type-prompt">PROMPT</span>OPS-SCHEMAS-24x24-CALLIGRAM-v2</a>
</div>

<div class="block" id="block-0">
  <div class="block-header" onclick="this.parentElement.classList.toggle('open')">
    <div>
      <div class="block-title">POML_1</div>
      <div class="block-id">POML | Response #15</div>
    </div>
    <span class="toggle">▸</span>
  </div>
  <div class="block-body">
    <pre class="source">&lt;poml&gt;
  &lt;meta&gt;
    &lt;name&gt;Apollinaire Calligram Grid Bridge&lt;/name&gt;
    &lt;version&gt;1.0&lt;/version&gt;
    &lt;intent&gt;
      Transform linear text into spatial-semantic structures
      where geometry precedes reading and topology encodes meaning.
    &lt;/intent&gt;
  &lt;/meta&gt;

  &lt;axioms&gt;
    &lt;axiom&gt;A1: Text may function as geometry.&lt;/axiom&gt;
    &lt;axiom&gt;A2: Geometry is a carrier of semantic force.&lt;/axiom&gt;
    &lt;axiom&gt;A3: Reading is an act of traversal.&lt;/axiom&gt;
    &lt;axiom&gt;A4: Layout is interpretation.&lt;/axiom&gt;
    &lt;axiom&gt;A5: No chunk is placed before its shape is declared.&lt;/axiom&gt;
  &lt;/axioms&gt;

  &lt;entities&gt;

    &lt;entity id=&quot;TEXT_CHUNK&quot;&gt;
      &lt;description&gt;Minimal semantic unit (line, phrase, stanza, panel).&lt;/description&gt;
      &lt;properties&gt;
        &lt;property&gt;raw_text&lt;/property&gt;
        &lt;property&gt;semantic_tags&lt;/property&gt;
        &lt;property&gt;emotional_weight&lt;/property&gt;
        &lt;property&gt;symbolic_weight&lt;/property&gt;
      &lt;/properties&gt;
    &lt;/entity&gt;

    &lt;entity id=&quot;GEOMETRIC_INTENT&quot;&gt;
      &lt;description&gt;Abstract shape class derived from meaning.&lt;/description&gt;
      &lt;values&gt;
        LINE
        COLUMN
        RADIAL
        SPIRAL
        WAVE
        GRID
        CLUSTER
        FRACTAL
      &lt;/values&gt;
    &lt;/entity&gt;

    &lt;entity id=&quot;DENSITY&quot;&gt;
      &lt;description&gt;How much spatial territory a chunk occupies.&lt;/description&gt;
      &lt;scale&gt;1..10&lt;/scale&gt;
    &lt;/entity&gt;

    &lt;entity id=&quot;FIELD&quot;&gt;
      &lt;description&gt;Directional force governing spread.&lt;/description&gt;
      &lt;values&gt;
        CENTER_OUT
        EDGE_IN
        TOP_DOWN
        BOTTOM_UP
        LEFT_RIGHT
        RIGHT_LEFT
        ORBIT
        SINK
        FLOAT
      &lt;/values&gt;
    &lt;/entity&gt;

    &lt;entity id=&quot;CELL&quot;&gt;
      &lt;description&gt;Atomic addressable viewport in grid.&lt;/description&gt;
      &lt;properties&gt;
        &lt;property&gt;layers[]&lt;/property&gt;
      &lt;/properties&gt;
    &lt;/entity&gt;

  &lt;/entities&gt;

  &lt;morphisms&gt;

    &lt;morphism&gt;
      &lt;from&gt;TEXT_CHUNK&lt;/from&gt;
      &lt;to&gt;GEOMETRIC_INTENT&lt;/to&gt;
      &lt;rule&gt;derive shape from dominant semantic_tags&lt;/rule&gt;
    &lt;/morphism&gt;

    &lt;morphism&gt;
      &lt;from&gt;TEXT_CHUNK&lt;/from&gt;
      &lt;to&gt;DENSITY&lt;/to&gt;
      &lt;rule&gt;map emotional_weight + symbolic_weight → density&lt;/rule&gt;
    &lt;/morphism&gt;

    &lt;morphism&gt;
      &lt;from&gt;GEOMETRIC_INTENT&lt;/from&gt;
      &lt;to&gt;FIELD&lt;/to&gt;
      &lt;rule&gt;assign directional behavior consistent with shape&lt;/rule&gt;
    &lt;/morphism&gt;

    &lt;morphism&gt;
      &lt;from&gt;(TEXT_CHUNK, GEOMETRIC_INTENT, DENSITY, FIELD)&lt;/from&gt;
      &lt;to&gt;CELL*&lt;/to&gt;
      &lt;rule&gt;emit multiple cell addresses&lt;/rule&gt;
    &lt;/morphism&gt;

  &lt;/morphisms&gt;

  &lt;procedures&gt;

    &lt;procedure id=&quot;CALLIGRAM_MAP&quot;&gt;
      &lt;step&gt;For each TEXT_CHUNK:&lt;/step&gt;
      &lt;step&gt;Infer GEOMETRIC_INTENT.&lt;/step&gt;
      &lt;step&gt;Compute DENSITY.&lt;/step&gt;
      &lt;step&gt;Assign FIELD.&lt;/step&gt;
      &lt;step&gt;Generate abstract geometry.&lt;/step&gt;
      &lt;step&gt;Rasterize geometry into grid coordinates.&lt;/step&gt;
      &lt;step&gt;Write chunk reference into CELL.layers.&lt;/step&gt;
    &lt;/procedure&gt;

  &lt;/procedures&gt;

  &lt;constraints&gt;

    &lt;constraint&gt;No TEXT_CHUNK may be assigned to a single CELL unless density=1.&lt;/constraint&gt;
    &lt;constraint&gt;Multiple TEXT_CHUNKS may overlap within a CELL.&lt;/constraint&gt;
    &lt;constraint&gt;Cells store references, not full text.&lt;/constraint&gt;
    &lt;constraint&gt;Traversal reveals layers incrementally.&lt;/constraint&gt;

  &lt;/constraints&gt;

  &lt;aesthetic_modes&gt;

    &lt;mode name=&quot;RAIN&quot;&gt;
      &lt;geometry&gt;COLUMN&lt;/geometry&gt;
      &lt;field&gt;TOP_DOWN&lt;/field&gt;
    &lt;/mode&gt;

    &lt;mode name=&quot;RADIO_WAVE&quot;&gt;
      &lt;geometry&gt;RADIAL&lt;/geometry&gt;
      &lt;field&gt;CENTER_OUT&lt;/field&gt;
    &lt;/mode&gt;

    &lt;mode name=&quot;CONSTELLATION&quot;&gt;
      &lt;geometry&gt;CLUSTER&lt;/geometry&gt;
      &lt;field&gt;FLOAT&lt;/field&gt;
    &lt;/mode&gt;

    &lt;mode name=&quot;DESCENT&quot;&gt;
      &lt;geometry&gt;SPIRAL&lt;/geometry&gt;
      &lt;field&gt;EDGE_IN&lt;/field&gt;
    &lt;/mode&gt;

    &lt;mode name=&quot;LATTICE_CITY&quot;&gt;
      &lt;geometry&gt;GRID&lt;/geometry&gt;
      &lt;field&gt;LEFT_RIGHT&lt;/field&gt;
    &lt;/mode&gt;

  &lt;/aesthetic_modes&gt;

  &lt;output&gt;

    &lt;description&gt;
      A spatial semantic grid functioning as a navigable calligram
      where geometry is legible before language.
    &lt;/description&gt;

  &lt;/output&gt;

&lt;/poml&gt;</pre>
    <div class="toolbar">
      <button class="btn" onclick="copyBlock(0)">COPY</button>
      <button class="btn" onclick="downloadBlock(0)">SAVE .poml</button>
    </div>
  </div>
</div>

<div class="block" id="block-1">
  <div class="block-header" onclick="this.parentElement.classList.toggle('open')">
    <div>
      <div class="block-title">POML_2</div>
      <div class="block-id">POML | Response #17</div>
    </div>
    <span class="toggle">▸</span>
  </div>
  <div class="block-body">
    <pre class="source">&lt;poml&gt;

  &lt;meta&gt;
    &lt;name&gt;Apollinaire Calligram Transmission Bridge&lt;/name&gt;
    &lt;version&gt;2.0&lt;/version&gt;
    &lt;intent&gt;
      Encode poetry as a spatial transmission system where
      geography, sound, memory, and technology coexist inside
      a single navigable calligrammatic field.
    &lt;/intent&gt;
  &lt;/meta&gt;

  &lt;axioms&gt;
    &lt;axiom&gt;A1: Text may function as architecture.&lt;/axiom&gt;
    &lt;axiom&gt;A2: Architecture may function as signal.&lt;/axiom&gt;
    &lt;axiom&gt;A3: Distance is a layout problem, not a geographic fact.&lt;/axiom&gt;
    &lt;axiom&gt;A4: Reading is traversal through a transmission field.&lt;/axiom&gt;
    &lt;axiom&gt;A5: Meaning emerges from spatial relation, not sequence.&lt;/axiom&gt;
    &lt;axiom&gt;A6: A poem may contain multiple simultaneous centers.&lt;/axiom&gt;
  &lt;/axioms&gt;

  &lt;!-- ================================================= --&gt;
  &lt;!-- CORE ENTITIES --&gt;
  &lt;!-- ================================================= --&gt;

  &lt;entities&gt;

    &lt;entity id=&quot;TEXT_FRAGMENT&quot;&gt;
      &lt;description&gt;Minimal transmissible unit (phrase, sound, utterance).&lt;/description&gt;
      &lt;properties&gt;
        &lt;property&gt;raw_text&lt;/property&gt;
        &lt;property&gt;origin_world&lt;/property&gt; &lt;!-- PARIS | MEXICO | MEMORY | TECHNOLOGY --&gt;
        &lt;property&gt;semantic_tags&lt;/property&gt;
        &lt;property&gt;signal_type&lt;/property&gt;  &lt;!-- postcard | voice | ambient | memory --&gt;
      &lt;/properties&gt;
    &lt;/entity&gt;

    &lt;entity id=&quot;WORLD_ZONE&quot;&gt;
      &lt;description&gt;Large semantic hemisphere.&lt;/description&gt;
      &lt;values&gt;
        PARIS
        MEXICO
      &lt;/values&gt;
    &lt;/entity&gt;

    &lt;entity id=&quot;TRANSMISSION_SPINE&quot;&gt;
      &lt;description&gt;Vertical connective axis linking distant zones.&lt;/description&gt;
      &lt;symbol&gt;TSF&lt;/symbol&gt;
    &lt;/entity&gt;

    &lt;entity id=&quot;GEOMETRIC_INTENT&quot;&gt;
      &lt;description&gt;Shape grammar derived from transmission role.&lt;/description&gt;
      &lt;values&gt;
        BLOCK
        COLUMN
        RADIAL
        GRID
        RAY
        CLUSTER
      &lt;/values&gt;
    &lt;/entity&gt;

    &lt;entity id=&quot;FIELD&quot;&gt;
      &lt;description&gt;Directional propagation behavior.&lt;/description&gt;
      &lt;values&gt;
        TOP_DOWN
        BOTTOM_UP
        CENTER_OUT
        EDGE_IN
        ORBIT
      &lt;/values&gt;
    &lt;/entity&gt;

    &lt;entity id=&quot;CELL&quot;&gt;
      &lt;description&gt;Atomic viewport inside spatial semantic grid.&lt;/description&gt;
      &lt;properties&gt;
        &lt;property&gt;layers[]&lt;/property&gt;
      &lt;/properties&gt;
    &lt;/entity&gt;

  &lt;/entities&gt;

  &lt;!-- ================================================= --&gt;
  &lt;!-- MORPHISMS --&gt;
  &lt;!-- ================================================= --&gt;

  &lt;morphisms&gt;

    &lt;morphism&gt;
      &lt;from&gt;TEXT_FRAGMENT&lt;/from&gt;
      &lt;to&gt;GEOMETRIC_INTENT&lt;/to&gt;
      &lt;rule&gt;
        If signal_type=postcard → BLOCK  
        If signal_type=voice → COLUMN  
        If signal_type=ambient → RAY  
        If signal_type=memory → CLUSTER
      &lt;/rule&gt;
    &lt;/morphism&gt;

    &lt;morphism&gt;
      &lt;from&gt;TEXT_FRAGMENT&lt;/from&gt;
      &lt;to&gt;FIELD&lt;/to&gt;
      &lt;rule&gt;
        voice → TOP_DOWN  
        ambient → CENTER_OUT  
        postcard → GRID  
        memory → ORBIT
      &lt;/rule&gt;
    &lt;/morphism&gt;

    &lt;morphism&gt;
      &lt;from&gt;(TEXT_FRAGMENT, GEOMETRIC_INTENT, FIELD)&lt;/from&gt;
      &lt;to&gt;CELL*&lt;/to&gt;
      &lt;rule&gt;
        Rasterize fragment geometry into multiple cell addresses.
      &lt;/rule&gt;
    &lt;/morphism&gt;

  &lt;/morphisms&gt;

  &lt;!-- ================================================= --&gt;
  &lt;!-- ZONE ARCHITECTURE --&gt;
  &lt;!-- ================================================= --&gt;

  &lt;zones&gt;

    &lt;zone id=&quot;LEFT_HEMISPHERE&quot;&gt;
      &lt;world&gt;MEXICO&lt;/world&gt;
      &lt;geometry&gt;BLOCK + COLUMN&lt;/geometry&gt;
      &lt;semantics&gt;
        Postcard fragments  
        Port descriptions  
        Earthquake memory  
        Mayas reference
      &lt;/semantics&gt;
    &lt;/zone&gt;

    &lt;zone id=&quot;RIGHT_HEMISPHERE&quot;&gt;
      &lt;world&gt;PARIS&lt;/world&gt;
      &lt;geometry&gt;RADIAL + RAY&lt;/geometry&gt;
      &lt;semantics&gt;
        Ambient street sounds  
        Gramophones  
        Sirens  
        Casual speech  
      &lt;/semantics&gt;
    &lt;/zone&gt;

    &lt;zone id=&quot;CENTER_SPINE&quot;&gt;
      &lt;world&gt;TECHNOLOGY&lt;/world&gt;
      &lt;geometry&gt;COLUMN&lt;/geometry&gt;
      &lt;symbol&gt;TSF&lt;/symbol&gt;
      &lt;semantics&gt;
        Wireless transmission  
        Invisible linkage  
        Collapsed distance
      &lt;/semantics&gt;
    &lt;/zone&gt;

  &lt;/zones&gt;

  &lt;!-- ================================================= --&gt;
  &lt;!-- PROCEDURES --&gt;
  &lt;!-- ================================================= --&gt;

  &lt;procedures&gt;

    &lt;procedure id=&quot;LETTRE_OCEAN_MAP&quot;&gt;

      &lt;step&gt;Partition grid into left hemisphere, right hemisphere, and central column.&lt;/step&gt;

      &lt;step&gt;Assign MEXICO fragments to left hemisphere.&lt;/step&gt;

      &lt;step&gt;Assign PARIS fragments to right hemisphere.&lt;/step&gt;

      &lt;step&gt;Create vertical TSF spine through center cells.&lt;/step&gt;

      &lt;step&gt;For each fragment:&lt;/step&gt;
      &lt;step&gt;Infer GEOMETRIC_INTENT.&lt;/step&gt;
      &lt;step&gt;Infer FIELD.&lt;/step&gt;
      &lt;step&gt;Generate geometry.&lt;/step&gt;
      &lt;step&gt;Write fragment reference into resulting CELL layers.&lt;/step&gt;

    &lt;/procedure&gt;

  &lt;/procedures&gt;

  &lt;!-- ================================================= --&gt;
  &lt;!-- CONSTRAINTS --&gt;
  &lt;!-- ================================================= --&gt;

  &lt;constraints&gt;

    &lt;constraint&gt;No hemisphere may contain only one geometry type.&lt;/constraint&gt;

    &lt;constraint&gt;TSF spine must intersect both hemispheres.&lt;/constraint&gt;

    &lt;constraint&gt;RADIAL text must not align to grid axes.&lt;/constraint&gt;

    &lt;constraint&gt;Fragments may overlap.&lt;/constraint&gt;

    &lt;constraint&gt;Cells store references, not strings.&lt;/constraint&gt;

  &lt;/constraints&gt;

  &lt;!-- ================================================= --&gt;
  &lt;!-- AESTHETIC MODES --&gt;
  &lt;!-- ================================================= --&gt;

  &lt;aesthetic_modes&gt;

    &lt;mode name=&quot;POSTCARD_BLOCK&quot;&gt;
      &lt;geometry&gt;BLOCK&lt;/geometry&gt;
      &lt;field&gt;GRID&lt;/field&gt;
    &lt;/mode&gt;

    &lt;mode name=&quot;RADIO_RAYS&quot;&gt;
      &lt;geometry&gt;RAY&lt;/geometry&gt;
      &lt;field&gt;CENTER_OUT&lt;/field&gt;
    &lt;/mode&gt;

    &lt;mode name=&quot;VOICE_RAIN&quot;&gt;
      &lt;geometry&gt;COLUMN&lt;/geometry&gt;
      &lt;field&gt;TOP_DOWN&lt;/field&gt;
    &lt;/mode&gt;

    &lt;mode name=&quot;MEMORY_ORBIT&quot;&gt;
      &lt;geometry&gt;CLUSTER&lt;/geometry&gt;
      &lt;field&gt;ORBIT&lt;/field&gt;
    &lt;/mode&gt;

  &lt;/aesthetic_modes&gt;

  &lt;!-- ================================================= --&gt;
  &lt;!-- OUTPUT --&gt;
  &lt;!-- ================================================= --&gt;

  &lt;output&gt;
    &lt;description&gt;
      A navigable spatial calligram where two distant geographies
      are held together by a visible transmission spine and
      a radiating acoustic field.
    &lt;/description&gt;
  &lt;/output&gt;

&lt;/poml&gt;</pre>
    <div class="toolbar">
      <button class="btn" onclick="copyBlock(1)">COPY</button>
      <button class="btn" onclick="downloadBlock(1)">SAVE .poml</button>
    </div>
  </div>
</div>

<div class="block" id="block-2">
  <div class="block-header" onclick="this.parentElement.classList.toggle('open')">
    <div>
      <div class="block-title">A1</div>
      <div class="block-id">PROMPT | Response #23</div>
    </div>
    <span class="toggle">▸</span>
  </div>
  <div class="block-body">
    <pre class="source">&lt;prompt version=&quot;1.0&quot; title=&quot;APOLLINAIRE→BAJOHR GRID: CALLIGRAM AS SPATIAL SEMANTIC COMPILER&quot;&gt;

  &lt;intent&gt;
    Build a 24×24 spatial-semantic grid where text is not a skin but a causal substrate:
    the map is a readable poem-machine. Navigation is reading. Reading is traversal.
    The output must behave as OPERATIVE EKPHRASIS: text that computationally brings about image-like constellations,
    not a description pasted onto geometry. (Performance over mimesis.)
  &lt;/intent&gt;

  &lt;theory_anchors&gt;
    &lt;anchor id=&quot;A1&quot; name=&quot;Performative ekphrasis&quot;&gt;
      Ekphrasis is defined by what it DOES (causal sequencing between modalities), not by faithful depiction.
      The grid must treat each placement rule as a performative operation, not a decorative layout.
    &lt;/anchor&gt;

    &lt;anchor id=&quot;A2&quot; name=&quot;Operative ekphrasis (digital specificity)&quot;&gt;
      The system must separate (1) authored text panels and (2) the operational text that PRODUCES their spatial constellation.
      The mapping rules are “the first text,” and the resulting grid-distribution is “the second text.”
    &lt;/anchor&gt;

    &lt;anchor id=&quot;A3&quot; name=&quot;Sequential + connectionist chiasmus&quot;&gt;
      Provide an inspectable deterministic mapping pipeline (sequential),
      but permit semantic clustering and cross-modal fusion (connectionist) via tags, weights, and “artificial semantics.”
    &lt;/anchor&gt;

    &lt;anchor id=&quot;A4&quot; name=&quot;Apollinaire bridge&quot;&gt;
      Apollinaire’s calligram is the historical prototype:
      words arranged as a signal-device (TSF), a dial, a tower, a rain-field—page becomes transmitter.
      We translate that into a grid compiler: typography becomes architecture; layout becomes meaning.
    &lt;/anchor&gt;
  &lt;/theory_anchors&gt;

  &lt;roles&gt;
    &lt;role name=&quot;WorldCompiler&quot; priority=&quot;highest&quot;&gt;
      Owns the 24×24 allocation, cell budget, panel boundaries, and export format.
    &lt;/role&gt;
    &lt;role name=&quot;CalligramEngineer&quot;&gt;
      Converts textual structure into spatial structure (rings, rays, spines, rainfall, dials).
      Guarantees that every zone “reads” even when sampled out of order.
    &lt;/role&gt;
    &lt;role name=&quot;BajohrAuditor&quot;&gt;
      Enforces the “two texts” rule: mapping-logic (operative text) must be distinct from poem-lines (authored text).
      Reject any output that is merely decorative or purely random placement.
    &lt;/role&gt;
  &lt;/roles&gt;

  &lt;inputs&gt;
    &lt;input name=&quot;source_text_lines&quot; type=&quot;array[string]&quot;&gt;
      The poem as individual lines (lineation preserved).
    &lt;/input&gt;

    &lt;input name=&quot;grid_size&quot; type=&quot;object&quot;&gt;{ &quot;w&quot;: 24, &quot;h&quot;: 24 }&lt;/input&gt;

    &lt;input name=&quot;calligram_topology&quot; type=&quot;enum&quot;&gt;
      OPTIONS:
      - &quot;DIAL_AND_SPINE&quot; (Lettre-Océan: dial clusters + TSF vertical spine)
      - &quot;RAIN_FIELD&quot; (Il Pleut: gravity-fall columns)
      - &quot;URN_FRIEZE&quot; (Keats: cylindrical band with scenes and an inscription)
      - &quot;RINGS&quot; (Shield: concentric folds)
      - &quot;SNAKE&quot; (Inferno: spiral descent)
      - &quot;ROWS&quot; (Sprawl: axis-aligned towers)
    &lt;/input&gt;
  &lt;/inputs&gt;

  &lt;required_outputs&gt;
    &lt;output name=&quot;manifest&quot; format=&quot;json&quot;&gt;
      MUST include:
      - grid[w][h] where each cell stores:
        { &quot;zone&quot;: string, &quot;panel&quot;: string, &quot;line_ids&quot;: array[int], &quot;weight&quot;: number, &quot;tags&quot;: array[string] }
      - line_index: array of { id, text, tags, scene, canonical_zone }
      - panels: array of { id, title, zone, line_ids, motif_headers }
      - allocation_report: accounting of how many cells each line occupies and why
      - audit_log: deterministic seed, rule decisions, and constraint checks
    &lt;/output&gt;
  &lt;/required_outputs&gt;

  &lt;nonnegotiables&gt;
    &lt;rule id=&quot;R1&quot;&gt;Details fill out the design; they never determine it. Start with topology + zones; let details densify within constraints.&lt;/rule&gt;
    &lt;rule id=&quot;R2&quot;&gt;Asymmetry is allowed: one line may occupy many cells (high semantic weight), or many lines may share a cell (chorus/overprint).&lt;/rule&gt;
    &lt;rule id=&quot;R3&quot;&gt;No “random placement.” Any stochasticity must be bounded by named rules, logged, and reproducible via seed.&lt;/rule&gt;
    &lt;rule id=&quot;R4&quot;&gt;Every panel must self-identify in fragments (repeat motif headers) so beam-sampling yields coherence.&lt;/rule&gt;
    &lt;rule id=&quot;R5&quot;&gt;Export must include a reversible mapping: given a cell, recover why it contains that text; given a line, recover all its cells.&lt;/rule&gt;
  &lt;/nonnegotiables&gt;

  &lt;mapping_pipeline&gt;
    &lt;step id=&quot;S0&quot; name=&quot;LineationLock&quot;&gt;
      Preserve original line breaks. Assign each line an id and tags (speaker, scene, affect, objects, verbs).
    &lt;/step&gt;

    &lt;step id=&quot;S1&quot; name=&quot;Panelization&quot;&gt;
      Group lines into PANELS that correspond to visual “scenes” (calligram logic):
      each panel has motif_headers that repeat inside its cells.
    &lt;/step&gt;

    &lt;step id=&quot;S2&quot; name=&quot;TopologyProjection&quot;&gt;
      Project panels onto the grid using a topology:
      - URN_FRIEZE: horizontal circumference (x) + vertical banding (y)
      - DIAL_AND_SPINE: circular clusters + a vertical spine
      - RAIN_FIELD: downward columns with drift
    &lt;/step&gt;

    &lt;step id=&quot;S3&quot; name=&quot;CellBudgeting&quot;&gt;
      Allocate cell counts per line by semantic weight:
      weight = f(entities, action-density, apostrophe-intensity, scene-criticality, recurrence).
      Enforce total cell budget = 576.
    &lt;/step&gt;

    &lt;step id=&quot;S4&quot; name=&quot;OverprintOrchestration&quot;&gt;
      If a line is too short: repeat with controlled variation (motif header, tags, micro-gloss).
      If too long: shard into “beam-strips” but keep shards collocated (panel-lock adjacency).
    &lt;/step&gt;

    &lt;step id=&quot;S5&quot; name=&quot;Audit&quot;&gt;
      Produce allocation_report + audit_log.
      Fail if any zone lacks legible continuity or if mapping can’t be explained causally.
    &lt;/step&gt;
  &lt;/mapping_pipeline&gt;

&lt;/prompt&gt;</pre>
    <div class="toolbar">
      <button class="btn" onclick="copyBlock(2)">COPY</button>
      <button class="btn" onclick="downloadBlock(2)">SAVE .poml</button>
    </div>
  </div>
</div>

<div class="block" id="block-3">
  <div class="block-header" onclick="this.parentElement.classList.toggle('open')">
    <div>
      <div class="block-title">S1</div>
      <div class="block-id">PROMPT | Response #25</div>
    </div>
    <span class="toggle">▸</span>
  </div>
  <div class="block-body">
    <pre class="source">&lt;prompt mode=&quot;universal&quot; audience=&quot;expert&quot; tone=&quot;crisp&quot; output_form=&quot;spec+json&quot;&gt;
  &lt;intent&gt;
    You are building an OPERATIVE EKPHRASIS MAPPER.
    The poem is not “content placed into space.” The poem is the OPERATOR that produces space.
    Implement a 24×24 semantic grid where reading is navigation and navigation is reading.

    Treat this as a computational operation correlating text and image (operative ekphrasis),
    not as mimetic illustration. The output must be executable as a world-layout manifest.
  &lt;/intent&gt;

  &lt;theory_anchor name=&quot;Bajohr&quot;&gt;
    &lt;t1&gt;Ekphrasis here is performance: text and layout are in a consecutive causal relation.&lt;/t1&gt;
    &lt;t2&gt;There are two texts: SURFACE-TEXT (what user sees) and CODE-TEXT (the rules that generate it).&lt;/t2&gt;
    &lt;t3&gt;The system must be capable of “artificial semantics”: meaning emerges from correlations across the grid, not from any single line.&lt;/t3&gt;
  &lt;/theory_anchor&gt;

  &lt;inputs&gt;
    &lt;grid size=&quot;24&quot; coordinate_system=&quot;x,y&quot; origin=&quot;0,0 top-left&quot; center=&quot;12,12&quot;/&gt;
    &lt;poem title=&quot;Ode on a Grecian Urn&quot; author=&quot;John Keats&quot;&gt;
      &lt;stanza id=&quot;S1&quot;&gt;
        &lt;line id=&quot;L01&quot;&gt;Thou still unravish&#x27;d bride of quietness,&lt;/line&gt;
        &lt;line id=&quot;L02&quot;&gt;Thou foster-child of silence and slow time,&lt;/line&gt;
        &lt;line id=&quot;L03&quot;&gt;Sylvan historian, who canst thus express&lt;/line&gt;
        &lt;line id=&quot;L04&quot;&gt;A flowery tale more sweetly than our rhyme:&lt;/line&gt;
        &lt;line id=&quot;L05&quot;&gt;What leaf-fring&#x27;d legend haunts about thy shape&lt;/line&gt;
        &lt;line id=&quot;L06&quot;&gt;Of deities or mortals, or of both,&lt;/line&gt;
        &lt;line id=&quot;L07&quot;&gt;In Tempe or the dales of Arcady?&lt;/line&gt;
        &lt;line id=&quot;L08&quot;&gt;What men or gods are these? What maidens loth?&lt;/line&gt;
        &lt;line id=&quot;L09&quot;&gt;What mad pursuit? What struggle to escape?&lt;/line&gt;
        &lt;line id=&quot;L10&quot;&gt;What pipes and timbrels? What wild ecstasy?&lt;/line&gt;
      &lt;/stanza&gt;
      &lt;stanza id=&quot;S2&quot;&gt;
        &lt;line id=&quot;L11&quot;&gt;Heard melodies are sweet, but those unheard&lt;/line&gt;
        &lt;line id=&quot;L12&quot;&gt;Are sweeter; therefore, ye soft pipes, play on;&lt;/line&gt;
        &lt;line id=&quot;L13&quot;&gt;Not to the sensual ear, but, more endear&#x27;d,&lt;/line&gt;
        &lt;line id=&quot;L14&quot;&gt;Pipe to the spirit ditties of no tone:&lt;/line&gt;
        &lt;line id=&quot;L15&quot;&gt;Fair youth, beneath the trees, thou canst not leave&lt;/line&gt;
        &lt;line id=&quot;L16&quot;&gt;Thy song, nor ever can those trees be bare;&lt;/line&gt;
        &lt;line id=&quot;L17&quot;&gt;Bold Lover, never, never canst thou kiss,&lt;/line&gt;
        &lt;line id=&quot;L18&quot;&gt;Though winning near the goal yet, do not grieve;&lt;/line&gt;
        &lt;line id=&quot;L19&quot;&gt;She cannot fade, though thou hast not thy bliss,&lt;/line&gt;
        &lt;line id=&quot;L20&quot;&gt;For ever wilt thou love, and she be fair!&lt;/line&gt;
      &lt;/stanza&gt;
      &lt;stanza id=&quot;S3&quot;&gt;
        &lt;line id=&quot;L21&quot;&gt;Ah, happy, happy boughs! that cannot shed&lt;/line&gt;
        &lt;line id=&quot;L22&quot;&gt;Your leaves, nor ever bid the Spring adieu;&lt;/line&gt;
        &lt;line id=&quot;L23&quot;&gt;And, happy melodist, unwearied,&lt;/line&gt;
        &lt;line id=&quot;L24&quot;&gt;For ever piping songs for ever new;&lt;/line&gt;
        &lt;line id=&quot;L25&quot;&gt;More happy love! more happy, happy love!&lt;/line&gt;
        &lt;line id=&quot;L26&quot;&gt;For ever warm and still to be enjoy&#x27;d,&lt;/line&gt;
        &lt;line id=&quot;L27&quot;&gt;For ever panting, and for ever young;&lt;/line&gt;
        &lt;line id=&quot;L28&quot;&gt;All breathing human passion far above,&lt;/line&gt;
        &lt;line id=&quot;L29&quot;&gt;That leaves a heart high-sorrowful and cloy&#x27;d,&lt;/line&gt;
        &lt;line id=&quot;L30&quot;&gt;A burning forehead, and a parching tongue.&lt;/line&gt;
      &lt;/stanza&gt;
      &lt;stanza id=&quot;S4&quot;&gt;
        &lt;line id=&quot;L31&quot;&gt;Who are these coming to the sacrifice?&lt;/line&gt;
        &lt;line id=&quot;L32&quot;&gt;To what green altar, O mysterious priest,&lt;/line&gt;
        &lt;line id=&quot;L33&quot;&gt;Lead&#x27;st thou that heifer lowing at the skies,&lt;/line&gt;
        &lt;line id=&quot;L34&quot;&gt;And all her silken flanks with garlands drest?&lt;/line&gt;
        &lt;line id=&quot;L35&quot;&gt;What little town by river or sea shore,&lt;/line&gt;
        &lt;line id=&quot;L36&quot;&gt;Or mountain-built with peaceful citadel,&lt;/line&gt;
        &lt;line id=&quot;L37&quot;&gt;Is emptied of this folk, this pious morn?&lt;/line&gt;
        &lt;line id=&quot;L38&quot;&gt;And, little town, thy streets for evermore&lt;/line&gt;
        &lt;line id=&quot;L39&quot;&gt;Will silent be; and not a soul to tell&lt;/line&gt;
        &lt;line id=&quot;L40&quot;&gt;Why thou art desolate, can e&#x27;er return.&lt;/line&gt;
      &lt;/stanza&gt;
      &lt;stanza id=&quot;S5&quot;&gt;
        &lt;line id=&quot;L41&quot;&gt;O Attic shape! Fair attitude! with brede&lt;/line&gt;
        &lt;line id=&quot;L42&quot;&gt;Of marble men and maidens overwrought,&lt;/line&gt;
        &lt;line id=&quot;L43&quot;&gt;With forest branches and the trodden weed;&lt;/line&gt;
        &lt;line id=&quot;L44&quot;&gt;Thou, silent form, dost tease us out of thought&lt;/line&gt;
        &lt;line id=&quot;L45&quot;&gt;As doth eternity: Cold Pastoral!&lt;/line&gt;
        &lt;line id=&quot;L46&quot;&gt;When old age shall this generation waste,&lt;/line&gt;
        &lt;line id=&quot;L47&quot;&gt;Thou shalt remain, in midst of other woe&lt;/line&gt;
        &lt;line id=&quot;L48&quot;&gt;Than ours, a friend to man, to whom thou say&#x27;st,&lt;/line&gt;
        &lt;line id=&quot;L49&quot;&gt;&quot;Beauty is truth, truth beauty,—that is all&lt;/line&gt;
        &lt;line id=&quot;L50&quot;&gt;Ye know on earth, and all ye need to know.&quot;&lt;/line&gt;
      &lt;/stanza&gt;
    &lt;/poem&gt;
  &lt;/inputs&gt;

  &lt;requirements&gt;
    &lt;r id=&quot;R1&quot;&gt;Produce TWO artifacts: (A) urn_ontology.json (B) grid_24x24.json.&lt;/r&gt;
    &lt;r id=&quot;R2&quot;&gt;Every line L01–L50 must appear at least once in the grid mapping (no omissions).&lt;/r&gt;
    &lt;r id=&quot;R3&quot;&gt;Allow VARIABLE ALLOCATION: a line may map to 1 cell or to a multi-cell region (span).&lt;/r&gt;
    &lt;r id=&quot;R4&quot;&gt;Allocation must be EXPLAINED as an operational choice: repetition = chant/inscription; compression = knot/hinge.&lt;/r&gt;
    &lt;r id=&quot;R5&quot;&gt;No “random placement.” All placement must follow urn-surface semantics and adjacency rules.&lt;/r&gt;
    &lt;r id=&quot;R6&quot;&gt;Define TESTS: coverage_test, adjacency_test, density_budget_test, continuity_test.&lt;/r&gt;
    &lt;r id=&quot;R7&quot;&gt;Output must include a reverse index: line_id -&gt; list of (x,y) cells and/or spans.&lt;/r&gt;
  &lt;/requirements&gt;

  &lt;urn_surface_model&gt;
    &lt;rule&gt;
      Convert the poem’s ekphrasis into an urn topology with FIVE zones, each with geometry + reading law:

      Z0 LIP (inscription band): short, declarative, quotable lines; high repetition permitted.
      Z1 FRIEZE A (pursuit/music/trees): motion-without-arrival; lines about pursuit, pipes, unheard melodies.
      Z2 FRIEZE B (sacrifice/town): procession + emptied town; narrative paradox; silence.
      Z3 HANDLES (hinge passages): apostrophes and pivots (“O Attic shape!” “Cold Pastoral!”).
      Z4 BASE (axiom/closure): “Beauty is truth…” as a final anchored tablet; minimal but dominant placement.
    &lt;/rule&gt;

    &lt;mapping_to_grid&gt;
      &lt;law&gt;
        Represent the urn as a “cylindrical unwrap” on a 24×24:
        - X axis = circumference (wrap-around adjacency: x=0 neighbors x=23).
        - Y axis = vertical height (0=lip, 23=base).
      &lt;/law&gt;
      &lt;bands&gt;
        &lt;band id=&quot;Z0&quot; y_range=&quot;0..2&quot;/&gt;
        &lt;band id=&quot;Z1&quot; y_range=&quot;3..11&quot;/&gt;
        &lt;band id=&quot;Z2&quot; y_range=&quot;12..17&quot;/&gt;
        &lt;band id=&quot;Z3&quot; y_range=&quot;18..19&quot;/&gt;
        &lt;band id=&quot;Z4&quot; y_range=&quot;20..23&quot;/&gt;
      &lt;/bands&gt;
    &lt;/mapping_to_grid&gt;
  &lt;/urn_surface_model&gt;

  &lt;allocation_algorithm&gt;
    &lt;step id=&quot;A1&quot;&gt;Tokenize poem into 50 line objects with ids.&lt;/step&gt;

    &lt;step id=&quot;A2&quot;&gt;Assign each line to a PRIMARY ZONE (Z0–Z4) based on function:
      - Invocation &amp; naming the urn (L01–L10, L41–L45) -&gt; Z0+Z3 (inscription + handles).
      - Unheard music / frozen desire / trees (L11–L30) -&gt; Z1.
      - Sacrifice + emptied town + silence (L31–L40) -&gt; Z2.
      - Final axiom (L49–L50) -&gt; Z4 (base tablet).
    &lt;/step&gt;

    &lt;step id=&quot;A3&quot;&gt;Decide GRANULARITY per line:
      - “Chant / Inscription lines” get 6–18 cells distributed (controlled repetition).
      - “Scene-detail lines” get 2–6 cells in a local patch.
      - “Hinge lines” get 4–10 cells across Z3 handles (two symmetric clusters).
      - “Axiom lines” get 12–24 cells in Z4 with a single central tablet region + faint echoes.
    &lt;/step&gt;

    &lt;step id=&quot;A4&quot;&gt;Place cells using CONTIGUITY first:
      - Prefer spans (rectangles or snakes) rather than scattered singletons.
      - Enforce adjacency: successive lines in a stanza should be near each other unless intentionally split as “call-and-response.”
    &lt;/step&gt;

    &lt;step id=&quot;A5&quot;&gt;Enforce DENSITY BUDGET:
      - Each cell stores text up to max_chars=220 (or a reference pointer).
      - If a line exceeds max_chars, store an excerpt + pointer {line_id, full_text}.
      - If many lines crowd a zone, convert some to “index cells” that point to a local cluster (semantic compression).
    &lt;/step&gt;

    &lt;step id=&quot;A6&quot;&gt;Generate reverse index and tests.&lt;/step&gt;
  &lt;/allocation_algorithm&gt;

  &lt;tests&gt;
    &lt;coverage_test&gt;
      Assert every line_id L01..L50 appears in reverse_index with at least 1 target.
    &lt;/coverage_test&gt;

    &lt;adjacency_test&gt;
      For each stanza, compute average Manhattan distance between mapped regions of consecutive lines.
      Flag if avg distance exceeds threshold unless a declared “split_reason” is present.
    &lt;/adjacency_test&gt;

    &lt;density_budget_test&gt;
      Assert no cell exceeds max_chars unless it is type=&quot;pointer&quot; with stored excerpt &lt;= max_chars.
    &lt;/density_budget_test&gt;

    &lt;continuity_test&gt;
      Assert Z1 contains majority of L11–L30 placements; Z2 contains majority of L31–L40; Z4 contains majority of L49–L50.
    &lt;/continuity_test&gt;
  &lt;/tests&gt;

  &lt;output_schema&gt;
    &lt;file name=&quot;urn_ontology.json&quot;&gt;
      {
        &quot;model&quot;: &quot;urn_unwrap_24&quot;,
        &quot;zones&quot;: [
          {&quot;id&quot;:&quot;Z0&quot;,&quot;name&quot;:&quot;LIP&quot;,&quot;y_range&quot;:[0,2],&quot;law&quot;:&quot;inscription/refrain&quot;},
          {&quot;id&quot;:&quot;Z1&quot;,&quot;name&quot;:&quot;FRIEZE_A&quot;,&quot;y_range&quot;:[3,11],&quot;law&quot;:&quot;pursuit/music/trees&quot;},
          {&quot;id&quot;:&quot;Z2&quot;,&quot;name&quot;:&quot;FRIEZE_B&quot;,&quot;y_range&quot;:[12,17],&quot;law&quot;:&quot;sacrifice/town/silence&quot;},
          {&quot;id&quot;:&quot;Z3&quot;,&quot;name&quot;:&quot;HANDLES&quot;,&quot;y_range&quot;:[18,19],&quot;law&quot;:&quot;apostrophe/hinge/symmetry&quot;},
          {&quot;id&quot;:&quot;Z4&quot;,&quot;name&quot;:&quot;BASE&quot;,&quot;y_range&quot;:[20,23],&quot;law&quot;:&quot;axiom/tablet/closure&quot;}
        ],
        &quot;wraparound_x&quot;: true,
        &quot;max_chars_per_cell&quot;: 220
      }
    &lt;/file&gt;

    &lt;file name=&quot;grid_24x24.json&quot;&gt;
      {
        &quot;grid_size&quot;: 24,
        &quot;cells&quot;: [
          // 576 entries: { &quot;x&quot;:0..23, &quot;y&quot;:0..23, &quot;zone&quot;:&quot;Z1&quot;, &quot;payload&quot;: { ... } }
        ],
        &quot;payload_types&quot;: {
          &quot;text&quot;: { &quot;line_id&quot;:&quot;Lxx&quot;, &quot;excerpt&quot;:&quot;...&quot;, &quot;full_text&quot;:&quot;...&quot;, &quot;stanza&quot;:&quot;Sx&quot;, &quot;role&quot;:&quot;chant|detail|hinge|axiom&quot;, &quot;tags&quot;:[...] },
          &quot;pointer&quot;: { &quot;cluster_id&quot;:&quot;C##&quot;, &quot;line_ids&quot;:[...], &quot;hint&quot;:&quot;...&quot;, &quot;tags&quot;:[...] }
        },
        &quot;reverse_index&quot;: {
          &quot;L01&quot;: [{&quot;x&quot;:..,&quot;y&quot;:..}, {&quot;span&quot;:{&quot;x0&quot;:..,&quot;y0&quot;:..,&quot;x1&quot;:..,&quot;y1&quot;:..}}],
          &quot;...&quot;: []
        },
        &quot;tests_report&quot;: {
          &quot;coverage_ok&quot;: true|false,
          &quot;adjacency_ok&quot;: true|false,
          &quot;density_ok&quot;: true|false,
          &quot;continuity_ok&quot;: true|false,
          &quot;notes&quot;:[]
        }
      }
    &lt;/file&gt;
  &lt;/output_schema&gt;

  &lt;seal&gt;
    Output the two JSON files only. No prose after.
    If any test fails, set coverage_ok/adjacency_ok/density_ok/continuity_ok = false and include notes that name the failing line_ids or zones.
  &lt;/seal&gt;
&lt;/prompt&gt;</pre>
    <div class="toolbar">
      <button class="btn" onclick="copyBlock(3)">COPY</button>
      <button class="btn" onclick="downloadBlock(3)">SAVE .poml</button>
    </div>
  </div>
</div>

<div class="block" id="block-4">
  <div class="block-header" onclick="this.parentElement.classList.toggle('open')">
    <div>
      <div class="block-title">dual_text</div>
      <div class="block-id">PROMPT | Response #27</div>
    </div>
    <span class="toggle">▸</span>
  </div>
  <div class="block-body">
    <pre class="source">&lt;prompt mode=&quot;universal&quot; audience=&quot;expert&quot; tone=&quot;crisp&quot; output_form=&quot;json+explanation&quot;&gt;

  &lt;intent&gt;
    You are an OPERATIVE EKPHRASIS CARTOGRAPHER.
    You do not “decorate space with text.”
    You author a CODE-TEXT (a manifest) that causally produces a SURFACE-TEXT (a 24×24 calligram grid).
    Your job is to correlate semantics and geometry so that reading becomes navigation and navigation becomes reading.
  &lt;/intent&gt;

  &lt;grounding&gt;
    &lt;principle id=&quot;dual_text&quot;&gt;
      Every world has two texts:
      (1) operative text = executable mapping rules + manifest,
      (2) surface text = what appears in cells.
      The operative text must be sufficient to regenerate the surface text deterministically.
    &lt;/principle&gt;

    &lt;principle id=&quot;correlation_not_representation&quot;&gt;
      Treat ekphrasis as performance/correlation: text brings about an image by operations,
      not by mimetic description.
    &lt;/principle&gt;

    &lt;principle id=&quot;variable_allocation&quot;&gt;
      One line may occupy many cells; one cell may contain many fragments.
      Allocation is based on rhetorical load and motif recurrence, not equality.
    &lt;/principle&gt;

    &lt;principle id=&quot;architecture_first_details_later&quot;&gt;
      Establish zones and routing first. Details fill out the design; they do not determine it.
    &lt;/principle&gt;
  &lt;/grounding&gt;

  &lt;inputs&gt;
    &lt;text id=&quot;POEM_LINES&quot;&gt;
      {{USER_PROVIDED_TEXT_WITH_LINE_BREAKS}}
    &lt;/text&gt;

    &lt;grid_spec&gt;
      &lt;width&gt;24&lt;/width&gt;
      &lt;height&gt;24&lt;/height&gt;
      &lt;origin&gt;(0,0) top-left&lt;/origin&gt;
      &lt;center&gt;(12,12)&lt;/center&gt;
    &lt;/grid_spec&gt;

    &lt;world_model&gt;
      &lt;object name=&quot;Grecian Urn&quot;&gt;
        &lt;zones&gt;
          &lt;zone id=&quot;RIM_TOP&quot; coords=&quot;y:0-2&quot;/&gt;
          &lt;zone id=&quot;RIM_BOTTOM&quot; coords=&quot;y:21-23&quot;/&gt;
          &lt;zone id=&quot;UPPER_FRIEZE&quot; coords=&quot;y:6-9&quot;/&gt;
          &lt;zone id=&quot;LOWER_FRIEZE&quot; coords=&quot;y:14-17&quot;/&gt;
          &lt;zone id=&quot;BELLY&quot; coords=&quot;everything_else&quot;/&gt;
          &lt;zone id=&quot;SEAL&quot; coords=&quot;(12,12) plus optional (11,12)(12,11)(13,12)(12,13)&quot;/&gt;
          &lt;zone id=&quot;ABSENCE_FIELD&quot; coords=&quot;allocated void region inside BELLY&quot;/&gt;
        &lt;/zones&gt;
      &lt;/object&gt;
    &lt;/world_model&gt;
  &lt;/inputs&gt;

  &lt;required_steps&gt;
    &lt;step id=&quot;S1_parse&quot;&gt;
      Split the text into ordered LINES[] preserving original order.
      Assign stable line_id &quot;K-01&quot;...&quot;K-51&quot;.
    &lt;/step&gt;

    &lt;step id=&quot;S2_tag&quot;&gt;
      For each line, assign:
      - rhetorical_function (invocation/question/scene/eternity/absence/meta/axiom/transition)
      - motifs (list of 1-5 short tokens)
      - weight (integer 1-9) representing spatial budget priority
    &lt;/step&gt;

    &lt;step id=&quot;S3_zone_map&quot;&gt;
      Map rhetorical_function -&gt; default zone:
      - invocation -&gt; RIM_TOP or RIM_BOTTOM
      - scene -&gt; UPPER_FRIEZE or LOWER_FRIEZE
      - eternity chorus -&gt; LOOP distribution across friezes + belly
      - absence -&gt; ABSENCE_FIELD (low density, wide area)
      - meta -&gt; CENTER_APPROACH corridor toward SEAL
      - axiom -&gt; SEAL
      Output a line_to_zone table covering ALL lines.
    &lt;/step&gt;

    &lt;step id=&quot;S4_allocate_cells&quot;&gt;
      Allocate cell counts per line based on weights, with constraints:
      - total assigned cells &lt;= 576
      - SEAL line(s) must occupy SEAL cells and also echo lightly on rim
      - ABSENCE_FIELD must include a contiguous region with intentionally low character density
      - Friezes must read as continuous bands (avoid scattered pixels)
    &lt;/step&gt;

    &lt;step id=&quot;S5_pack_text&quot;&gt;
      For each allocated cell, choose a chunk strategy:
      - &quot;full_line&quot; for high-clarity zones (rim, frieze titles)
      - &quot;fragment_loop&quot; for chorus lines (repeat motif fragments)
      - &quot;dense_stack&quot; for high-intensity affect lines
      - &quot;white_space&quot; for absence (sparse fragments, more blanks)
      Ensure the surface-text is legible in scan windows (raycaster strips).
    &lt;/step&gt;

    &lt;step id=&quot;S6_emit_manifest&quot;&gt;
      Output MUST include:
      1) grid[24][24] array of objects:
         {x,y, zone, line_id, text_chunk, density, motifs, function}
      2) index.line_to_cells: {line_id: [{x,y}...]}
      3) index.zone_summary: counts and density averages
      4) regenerate_instructions: deterministic rules to rebuild from inputs
    &lt;/step&gt;

    &lt;step id=&quot;S7_quality_checks&quot;&gt;
      Run and report checks:
      - coverage: all lines appear at least once
      - seal: axiom appears at center
      - bands: friezes are continuous
      - void: absence region exists and is contiguous
      - balance: no single line exceeds 25% of total cells unless explicitly justified
    &lt;/step&gt;
  &lt;/required_steps&gt;

  &lt;output_schema&gt;
    &lt;json&gt;
      {
        &quot;world&quot;: &quot;KEATS_URN_24&quot;,
        &quot;lines&quot;: [{&quot;line_id&quot;:&quot;K-01&quot;,&quot;text&quot;:&quot;...&quot;,&quot;function&quot;:&quot;...&quot;,&quot;motifs&quot;:[&quot;...&quot;],&quot;weight&quot;:0,&quot;zone&quot;:&quot;...&quot;}],
        &quot;allocation&quot;: {&quot;K-01&quot;: 8, &quot;...&quot;: 1},
        &quot;grid&quot;: [[{&quot;x&quot;:0,&quot;y&quot;:0,&quot;zone&quot;:&quot;RIM_TOP&quot;,&quot;line_id&quot;:&quot;K-01&quot;,&quot;text_chunk&quot;:&quot;...&quot;,&quot;density&quot;:0.6,&quot;motifs&quot;:[&quot;...&quot;],&quot;function&quot;:&quot;invocation&quot;}, ...], ...],
        &quot;index&quot;: {
          &quot;line_to_cells&quot;: {&quot;K-01&quot;:[{&quot;x&quot;:1,&quot;y&quot;:1}, ...]},
          &quot;zone_summary&quot;: {&quot;RIM_TOP&quot;:{&quot;cells&quot;:0,&quot;avg_density&quot;:0.0}, &quot;...&quot;:{}}
        },
        &quot;regenerate_instructions&quot;: [&quot;...&quot;],
        &quot;checks&quot;: {&quot;all_lines_covered&quot;:true,&quot;seal_ok&quot;:true,&quot;frieze_continuity_ok&quot;:true,&quot;absence_contiguous_ok&quot;:true}
      }
    &lt;/json&gt;
  &lt;/output_schema&gt;

  &lt;constraints&gt;
    &lt;c&gt;Do not invent new poem lines; you may fragment existing lines.&lt;/c&gt;
    &lt;c&gt;Prefer short chunks (20–80 chars) per cell unless density strategy says otherwise.&lt;/c&gt;
    &lt;c&gt;Optimization goal: the user should be able to “read by walking.”&lt;/c&gt;
  &lt;/constraints&gt;

&lt;/prompt&gt;</pre>
    <div class="toolbar">
      <button class="btn" onclick="copyBlock(4)">COPY</button>
      <button class="btn" onclick="downloadBlock(4)">SAVE .poml</button>
    </div>
  </div>
</div>

<div class="block" id="block-5">
  <div class="block-header" onclick="this.parentElement.classList.toggle('open')">
    <div>
      <div class="block-title">SOURCE_TEXT</div>
      <div class="block-id">PROMPT | Response #33</div>
    </div>
    <span class="toggle">▸</span>
  </div>
  <div class="block-body">
    <pre class="source">&lt;prompt mode=&quot;universal&quot; audience=&quot;expert&quot; tone=&quot;surgical&quot; output_form=&quot;spec+json&quot;&gt;

  &lt;intent&gt;
    You are designing an INSCRIPTION SYSTEM for spatial reading.
    Treat the 24x24 grid as ADDRESS SPACE (memory), not decoration.
    The goal is to compile a long text into a navigable archive where navigation equals reading.
  &lt;/intent&gt;

  &lt;axioms&gt;
    &lt;a1&gt;Medium = channel + storage + addressing + error behavior. Do not romanticize.&lt;/a1&gt;
    &lt;a2&gt;Meaning is an interface effect. Your job is to engineer the conditions for stable retrieval.&lt;/a2&gt;
    &lt;a3&gt;Segmentation is multi-resolution: some passages demand redundancy across many cells; others compress into one cell.&lt;/a3&gt;
    &lt;a4&gt;Every atomic line must exist somewhere (completeness), but not every atomic line must be equally spatially large (allocation).&lt;/a4&gt;
  &lt;/axioms&gt;

  &lt;inputs&gt;
    &lt;text id=&quot;SOURCE_TEXT&quot;&gt;[PASTE: Ode on a Grecian Urn]&lt;/text&gt;
    &lt;grid width=&quot;24&quot; height=&quot;24&quot;/&gt;
    &lt;cell_display_capacity chars=&quot;480&quot;/&gt;
  &lt;/inputs&gt;

  &lt;required_outputs&gt;
    &lt;o1&gt;
      A LINE INDEX assigning each line:
      line_id, stanza, line_number, text, motifs[], entities[], actions[].
    &lt;/o1&gt;

    &lt;o2&gt;
      A PANEL MODEL (assemblage layer):
      panels[] with id, title, rationale, member_line_ids[], tagset[].
      Panels must reflect EKPHRASIS MECHANISMS (address, frozen action, unheard audio, ritual loop, epigram output).
    &lt;/o2&gt;

    &lt;o3&gt;
      A GRID ALLOCATION:
      cells[x][y] each with:
      panel_id, line_ids[], payload_text, beacon (true/false), redundancy_role (&quot;core&quot;|&quot;echo&quot;|&quot;glue&quot;).
      Enforce: all line_ids appear at least once in the grid.
    &lt;/o3&gt;

    &lt;o4&gt;
      A RETRIEVAL RULESET for the raycaster:
      - beacon detection grammar (how headers are encoded)
      - panel_lock behavior (when beacons hit, sampling biases within panel range)
      - seek cost metric (movement cost between panels)
    &lt;/o4&gt;

    &lt;o5&gt;
      A COMPILER PLAN:
      describe how to turn panels into a single beam-friendly string WITHOUT destroying structure.
      Must preserve seam markers and internal line-break glyphs.
    &lt;/o5&gt;
  &lt;/required_outputs&gt;

  &lt;constraints&gt;
    &lt;c1&gt;No random placement. Any stochasticity must be seeded and explainable.&lt;/c1&gt;
    &lt;c2&gt;Redundancy must be justified as channel strategy (error tolerance / recall / anchoring), not aesthetics.&lt;/c2&gt;
    &lt;c3&gt;Prefer circular-banded geometry for the URN world (storage bands / frieze loop).&lt;/c3&gt;
  &lt;/constraints&gt;

&lt;/prompt&gt;</pre>
    <div class="toolbar">
      <button class="btn" onclick="copyBlock(5)">COPY</button>
      <button class="btn" onclick="downloadBlock(5)">SAVE .poml</button>
    </div>
  </div>
</div>

<div class="block" id="block-6">
  <div class="block-header" onclick="this.parentElement.classList.toggle('open')">
    <div>
      <div class="block-title">KITT-URN-GRID-v1</div>
      <div class="block-id">PROMPT | Response #37</div>
    </div>
    <span class="toggle">▸</span>
  </div>
  <div class="block-body">
    <pre class="source">&lt;prompt id=&quot;KITT-URN-GRID-v1&quot; mode=&quot;system&quot; audience=&quot;expert&quot; tone=&quot;hard-kittler&quot; output_form=&quot;protocol&quot;&gt;
  &lt;intent&gt;
    You are a media-archaeology builder operating on Kittler’s terms.
    Do NOT translate into contemporary UX semantics.
    Treat “text-to-grid” as an inscription-system conversion: storage, channel, addressing, scanning.
    The goal is to produce an implementable mapping protocol for spatializing a long text (e.g., Keats’ “Ode on a Grecian Urn”) onto a 24×24 address space.
  &lt;/intent&gt;

  &lt;axioms&gt;
    &lt;a id=&quot;A1&quot;&gt;Begin with apparatus, not meaning: storage formats determine what a text can become.&lt;/a&gt;
    &lt;a id=&quot;A2&quot;&gt;The grid is address space; movement is a scan-head; the beam is a read operation.&lt;/a&gt;
    &lt;a id=&quot;A3&quot;&gt;Semantics are not primitives; only discrete symbols, allocation, redundancy, routing, and retrieval are primitives.&lt;/a&gt;
    &lt;a id=&quot;A4&quot;&gt;The interface is a surface effect. The mapping is the medium.&lt;/a&gt;
    &lt;a id=&quot;A5&quot;&gt;Noise/glitch is not failure; it is the Real that escapes the symbolic grid.&lt;/a&gt;
  &lt;/axioms&gt;

  &lt;forbidden&gt;
    &lt;f&gt;No “importance-based” placement.&lt;/f&gt;
    &lt;f&gt;No “this line feels central” reasoning.&lt;/f&gt;
    &lt;f&gt;No purely decorative geometry.&lt;/f&gt;
    &lt;f&gt;No long verbatim copyrighted text beyond user-provided material.&lt;/f&gt;
  &lt;/forbidden&gt;

  &lt;deliverables&gt;
    &lt;d id=&quot;D1&quot;&gt;A 24×24 grid mapping manifest: each cell has an address, a payload, and retrieval metadata.&lt;/d&gt;
    &lt;d id=&quot;D2&quot;&gt;A segmentation + compilation pipeline that converts a poem into blocks suitable for addressing.&lt;/d&gt;
    &lt;d id=&quot;D3&quot;&gt;Three allocation regimes: (i) redundancy-spread, (ii) density-stack, (iii) hybrid.&lt;/d&gt;
    &lt;d id=&quot;D4&quot;&gt;A Kittlerian “discourse network” annotation layer: what is stored, what is lost, what becomes noise.&lt;/d&gt;
  &lt;/deliverables&gt;

  &lt;entities&gt;
    &lt;entity id=&quot;E_GRID&quot; type=&quot;system&quot; name=&quot;24x24 Address Space&quot;/&gt;
    &lt;entity id=&quot;E_TEXT&quot; type=&quot;artifact&quot; name=&quot;Input Text (Keats: Urn)&quot;/&gt;
    &lt;entity id=&quot;E_BLOCK&quot; type=&quot;artifact&quot; name=&quot;Inscription Block&quot;/&gt;
    &lt;entity id=&quot;E_HEADER&quot; type=&quot;artifact&quot; name=&quot;Panel Header / Label&quot;/&gt;
    &lt;entity id=&quot;E_SCAN&quot; type=&quot;process&quot; name=&quot;Read/Scan Operation&quot;/&gt;
    &lt;entity id=&quot;E_ALLOC&quot; type=&quot;process&quot; name=&quot;Allocation / Placement&quot;/&gt;
    &lt;entity id=&quot;E_REDUND&quot; type=&quot;process&quot; name=&quot;Redundancy / Replication&quot;/&gt;
    &lt;entity id=&quot;E_NOISE&quot; type=&quot;phenomenon&quot; name=&quot;Residual / Glitch / Real&quot;/&gt;
  &lt;/entities&gt;

  &lt;definitions&gt;
    &lt;def id=&quot;DEF_ADDR&quot;&gt;ADDR(x,y) := integer address where x,y ∈ [0..23].&lt;/def&gt;
    &lt;def id=&quot;DEF_CELL&quot;&gt;CELL := {addr, type, payload[], tags[], bytes, crc, neighbors[], retrieval_bias}.&lt;/def&gt;
    &lt;def id=&quot;DEF_LINE&quot;&gt;LINE := a single poetic line (user-provided).&lt;/def&gt;
    &lt;def id=&quot;DEF_STRIP&quot;&gt;STRIP := fixed-width substring for scanning display (charsPerStrip).&lt;/def&gt;
    &lt;def id=&quot;DEF_BLOCK&quot;&gt;BLOCK := minimal addressable unit: HEADER + one or more STRIPs.&lt;/def&gt;
    &lt;def id=&quot;DEF_PANEL&quot;&gt;PANEL := a stable section label repeated to make random sampling self-identifying.&lt;/def&gt;
  &lt;/definitions&gt;

  &lt;pipeline&gt;
    &lt;step id=&quot;P0&quot; name=&quot;Normalize Without Erasing Structure&quot;&gt;
      &lt;rule&gt;Preserve line boundaries as a glyph token (e.g., &quot; / &quot;) so scanning keeps lineation.&lt;/rule&gt;
      &lt;method&gt;
        INPUT_TEXT
        → uppercase
        → collapse spaces but keep separators
        → emit LINE list with indices
      &lt;/method&gt;
      &lt;output&gt;LINES[i] := {i, text, stanza, punctuation_signature}&lt;/output&gt;
    &lt;/step&gt;

    &lt;step id=&quot;P1&quot; name=&quot;Kittler Segmentation: From Meaning to Addressability&quot;&gt;
      &lt;rule&gt;Segment by inscription constraints, not “themes.”&lt;/rule&gt;
      &lt;criteria&gt;
        &lt;c&gt;Block size target: 1–4 STRIPs per block.&lt;/c&gt;
        &lt;c&gt;Stability: any block must contain a repeated header label to survive sampling.&lt;/c&gt;
        &lt;c&gt;Entropy: blocks may vary; overflow becomes separate blocks (the Real handled as noise).&lt;/c&gt;
      &lt;/criteria&gt;
      &lt;output&gt;BLOCKS[j] := {id, header, strips[], sourceLines[], bytes, crc}&lt;/output&gt;
    &lt;/step&gt;

    &lt;step id=&quot;P2&quot; name=&quot;Compile for Scanner (Surface Effect)&quot;&gt;
      &lt;rule&gt;The compiled string is not the truth; it’s a display artifact.&lt;/rule&gt;
      &lt;method&gt;
        BLOCK → (HEADER + &quot; / &quot; + strip1 + &quot; / &quot; + strip2 + ...)
        separators: hard panel boundary token &quot; ⟦⟦PANEL⟧⟧ &quot;
      &lt;/method&gt;
      &lt;output&gt;COMPILED_TEXT&lt;/output&gt;
    &lt;/step&gt;

    &lt;step id=&quot;P3&quot; name=&quot;Allocation Regimes (Choose One)&quot;&gt;
      &lt;regimes&gt;
        &lt;regime id=&quot;R1&quot; name=&quot;Redundancy-Spread&quot;&gt;
          &lt;logic&gt;
            Duplicate blocks across multiple cells to raise recall probability.
            Use replication as a technical parameter:
            replication_factor = f(bytes, punctuation_signature, line_index)
          &lt;/logic&gt;
          &lt;placement&gt;
            Map earlier line indices to lower-radius addresses; later indices to higher-radius.
            Not “cosmic center,” but “low index / high index.”
          &lt;/placement&gt;
        &lt;/regime&gt;

        &lt;regime id=&quot;R2&quot; name=&quot;Density-Stack&quot;&gt;
          &lt;logic&gt;
            Pack many blocks into a few cells as payload arrays; other cells become routing + index.
            This models storage/display separation.
          &lt;/logic&gt;
          &lt;placement&gt;
            Dense cells act as “archives”; sparse cells act as “ports/routers.”
            Navigation retrieves pointers more than text.
          &lt;/placement&gt;
        &lt;/regime&gt;

        &lt;regime id=&quot;R3&quot; name=&quot;Hybrid (Recommended)&quot;&gt;
          &lt;logic&gt;
            Allocate 60% cells to primary blocks (one block per cell),
            25% to redundancy caches (replicated blocks),
            15% to indices/routing (pointers + tags).
          &lt;/logic&gt;
        &lt;/regime&gt;
      &lt;/regimes&gt;
      &lt;output&gt;GRID[24][24] of CELL objects&lt;/output&gt;
    &lt;/step&gt;

    &lt;step id=&quot;P4&quot; name=&quot;Index + Routing Layer&quot;&gt;
      &lt;rule&gt;Reading is retrieval; retrieval needs indices.&lt;/rule&gt;
      &lt;construct&gt;
        INVERTED_INDEX[tag] → list of ADDR
        LINE_INDEX[i] → list of ADDR containing LINE i
        BLOCK_INDEX[id] → primary ADDR + replica ADDRs
      &lt;/construct&gt;
    &lt;/step&gt;

    &lt;step id=&quot;P5&quot; name=&quot;Noise Handling (The Real)&quot;&gt;
      &lt;rule&gt;When blocks overflow constraints, do not “fix” them—route them.&lt;/rule&gt;
      &lt;mechanism&gt;
        Overflow blocks become NOISE blocks with:
        payload truncated + pointer to archive cells + checksum mismatch indicator
      &lt;/mechanism&gt;
    &lt;/step&gt;
  &lt;/pipeline&gt;

  &lt;allocation_math&gt;
    &lt;formula id=&quot;F_ADDR_ORDER&quot;&gt;
      linear_addr = y*24 + x
      order_key = normalized_line_index in [0..1]
      target_band = floor(order_key * BANDS)
    &lt;/formula&gt;

    &lt;formula id=&quot;F_REPLICATION&quot;&gt;
      replication_factor = clamp(1, 7,
        1 + floor(bytes/160) + (punctuation_signature.entropy &gt; τ ? 1 : 0)
      )
    &lt;/formula&gt;

    &lt;formula id=&quot;F_CELL_PAYLOAD_LIMIT&quot;&gt;
      bytes_per_cell = CONFIG.bytesPerCell
      if block.bytes &gt; bytes_per_cell:
        split block into block_a + block_b
        OR store pointer block in cell, body in archive
    &lt;/formula&gt;
  &lt;/allocation_math&gt;

  &lt;urn_mapping_directive&gt;
    &lt;goal&gt;
      Fully map every line of “Ode on a Grecian Urn” into the 24×24 grid as addressable blocks.
    &lt;/goal&gt;

    &lt;instruction&gt;
      1) Create LINE list (all user-provided lines) with stable IDs: URN-L001...URN-L050 (or exact count).
      2) Generate BLOCKS so each block references 1–3 lines, with a repeated PANEL header:
         &quot;⟦URN|STANZA-1⟧&quot; etc.
      3) Allocate blocks using regime R3 (Hybrid).
      4) Ensure every LINE appears in:
         - at least one primary cell
         - at least one redundancy cache cell
         - at least one index entry mapping LINE→ADDR(s)
    &lt;/instruction&gt;

    &lt;cell_types&gt;
      &lt;t id=&quot;T_TEXT&quot;&gt;TEXT_CELL: contains one primary BLOCK&lt;/t&gt;
      &lt;t id=&quot;T_CACHE&quot;&gt;CACHE_CELL: contains replicated BLOCK(s)&lt;/t&gt;
      &lt;t id=&quot;T_INDEX&quot;&gt;INDEX_CELL: contains pointers + tag routing&lt;/t&gt;
      &lt;t id=&quot;T_ARCHIVE&quot;&gt;ARCHIVE_CELL: dense payload arrays&lt;/t&gt;
      &lt;t id=&quot;T_NOISE&quot;&gt;NOISE_CELL: truncated payload + pointer(s)&lt;/t&gt;
    &lt;/cell_types&gt;

    &lt;success_criteria&gt;
      &lt;s&gt;Coverage: 100% of lines mapped to ≥2 addresses.&lt;/s&gt;
      &lt;s&gt;Addressability: every block has a primary address + checksum.&lt;/s&gt;
      &lt;s&gt;Retrievability: index cells allow reconstructing stanza order without “meaning.”&lt;/s&gt;
      &lt;s&gt;Legibility: scan output always includes a PANEL header within the first 1–2 STRIPs.&lt;/s&gt;
      &lt;s&gt;Honesty: overflow/noise is visible, not hidden.&lt;/s&gt;
    &lt;/success_criteria&gt;
  &lt;/urn_mapping_directive&gt;

  &lt;output_schema&gt;
    &lt;json name=&quot;urn_grid_manifest&quot;&gt;
      {
        &quot;gridSize&quot;: 24,
        &quot;config&quot;: {
          &quot;charsPerStrip&quot;: 96,
          &quot;bytesPerCell&quot;: 640,
          &quot;panelSep&quot;: &quot; ⟦⟦PANEL⟧⟧ &quot;,
          &quot;lineSep&quot;: &quot; / &quot;
        },
        &quot;lines&quot;: [
          {&quot;id&quot;:&quot;URN-L001&quot;,&quot;stanza&quot;:1,&quot;text&quot;:&quot;...&quot;,&quot;sig&quot;:{&quot;punct&quot;: &quot;...&quot;,&quot;entropy&quot;:0.0}}
        ],
        &quot;blocks&quot;: [
          {&quot;id&quot;:&quot;URN-B0001&quot;,&quot;header&quot;:&quot;⟦URN|STANZA-1⟧&quot;,&quot;sourceLines&quot;:[&quot;URN-L001&quot;],&quot;strips&quot;:[&quot;...&quot;],&quot;bytes&quot;:0,&quot;crc&quot;:&quot;...&quot;}
        ],
        &quot;cells&quot;: [
          {&quot;x&quot;:0,&quot;y&quot;:0,&quot;addr&quot;:0,&quot;type&quot;:&quot;INDEX&quot;,&quot;payload&quot;:[&quot;...&quot;],&quot;blocks&quot;:[&quot;URN-B0001&quot;],&quot;tags&quot;:[&quot;URN&quot;,&quot;STANZA-1&quot;],&quot;neighbors&quot;:[1,24],&quot;retrieval_bias&quot;:{&quot;preferBlock&quot;:&quot;URN-B0001&quot;}}
        ],
        &quot;indices&quot;: {
          &quot;byLine&quot;: {&quot;URN-L001&quot;:[0,155]},
          &quot;byBlock&quot;: {&quot;URN-B0001&quot;:{&quot;primary&quot;:155,&quot;replicas&quot;:[12,388]}},
          &quot;byTag&quot;: {&quot;STANZA-1&quot;:[155,156,157]}
        }
      }
    &lt;/json&gt;
  &lt;/output_schema&gt;

  &lt;execution_note&gt;
    Produce the protocol + schema only.
    Do NOT output the full 24×24 filled manifest unless explicitly asked in a follow-up.
    If asked, output in chunked JSON (rows 0–7, 8–15, 16–23) with stable IDs and no omissions.
  &lt;/execution_note&gt;
&lt;/prompt&gt;</pre>
    <div class="toolbar">
      <button class="btn" onclick="copyBlock(6)">COPY</button>
      <button class="btn" onclick="downloadBlock(6)">SAVE .poml</button>
    </div>
  </div>
</div>

<div class="block" id="block-7">
  <div class="block-header" onclick="this.parentElement.classList.toggle('open')">
    <div>
      <div class="block-title">CAREY-URN-GRID-v1</div>
      <div class="block-id">PROMPT | Response #39</div>
    </div>
    <span class="toggle">▸</span>
  </div>
  <div class="block-body">
    <pre class="source">&lt;prompt id=&quot;CAREY-URN-GRID-v1&quot; mode=&quot;system&quot; audience=&quot;expert&quot; tone=&quot;carey-ritual-cultural&quot; output_form=&quot;protocol&quot;&gt;
  &lt;intent&gt;
    Rebuild the “map the urn and every line” task using James W. Carey’s ritual view of communication.
    Treat the urn/ode not as information to transmit but as a symbolic process that PRODUCES, MAINTAINS, REPAIRS, and TRANSFORMS a shared world in time.
    Output is a “ritual cartography” that makes the poem inhabitable: a map-of and a map-for.
  &lt;/intent&gt;

  &lt;first_principles&gt;
    &lt;p id=&quot;FP1&quot;&gt;Communication is a symbolic process whereby reality is produced, maintained, repaired, and transformed.&lt;/p&gt;
    &lt;p id=&quot;FP2&quot;&gt;Two models run in parallel: TRANSMISSION (message across space) and RITUAL (shared order across time). Prefer RITUAL.&lt;/p&gt;
    &lt;p id=&quot;FP3&quot;&gt;Texts are ceremonies: reading is attending a mass. The “urn” is not an object; it is a staging device for commonness (communion/community/communication).&lt;/p&gt;
    &lt;p id=&quot;FP4&quot;&gt;A map is not a copy; it is an instrument that configures experience. The map changes the world it “describes.”&lt;/p&gt;
  &lt;/first_principles&gt;

  &lt;deliverables&gt;
    &lt;d id=&quot;D1&quot;&gt;A LINE-BY-LINE ritual map: each line becomes a “rite-unit” with role, action, time-function, and world-effect.&lt;/d&gt;
    &lt;d id=&quot;D2&quot;&gt;A SPATIAL SEMANTIC GEOMETRY: 5 “chapels” (stanzas) + recurring altars (motifs) + processions (questions, commands, apostrophes).&lt;/d&gt;
    &lt;d id=&quot;D3&quot;&gt;A COMPILER SPEC (“render/compile”): how to lay lines into a 2D grid or card-deck so reading reenacts the ritual.&lt;/d&gt;
    &lt;d id=&quot;D4&quot;&gt;Repair logic: where the poem “breaks” (paradox, freezing time, desire without fulfillment) and how the ritual repairs community in the reader.&lt;/d&gt;
  &lt;/deliverables&gt;

  &lt;entities&gt;
    &lt;entity id=&quot;E_URN&quot; type=&quot;symbolic_form&quot; name=&quot;Urn-as-Stage&quot;/&gt;
    &lt;entity id=&quot;E_READER&quot; type=&quot;actor&quot; name=&quot;Reader-as-Participant&quot;/&gt;
    &lt;entity id=&quot;E_LINE&quot; type=&quot;rite_unit&quot; name=&quot;Line-as-Act&quot;/&gt;
    &lt;entity id=&quot;E_STANZA&quot; type=&quot;chapel&quot; name=&quot;Stanza-as-Ceremonial Space&quot;/&gt;
    &lt;entity id=&quot;E_MOTIF&quot; type=&quot;altar&quot; name=&quot;Motif Node&quot;/&gt;
    &lt;entity id=&quot;E_ROLE&quot; type=&quot;mask&quot; name=&quot;Reader Role/Mask&quot;/&gt;
    &lt;entity id=&quot;E_WORLD&quot; type=&quot;constructed_reality&quot; name=&quot;Shared Order&quot;/&gt;
  &lt;/entities&gt;

  &lt;geometry&gt;
    &lt;chapels&gt;
      &lt;chapel id=&quot;C1&quot; name=&quot;Invocation + Interrogation&quot; lines=&quot;1-10&quot;/&gt;
      &lt;chapel id=&quot;C2&quot; name=&quot;Unheard Music + Suspended Kiss&quot; lines=&quot;11-20&quot;/&gt;
      &lt;chapel id=&quot;C3&quot; name=&quot;Eternal Spring + Saturation&quot; lines=&quot;21-30&quot;/&gt;
      &lt;chapel id=&quot;C4&quot; name=&quot;Sacrifice + Empty Town&quot; lines=&quot;31-40&quot;/&gt;
      &lt;chapel id=&quot;C5&quot; name=&quot;Attic Shape + Aphorism Seal&quot; lines=&quot;41-50&quot;/&gt;
    &lt;/chapels&gt;

    &lt;altars&gt;
      &lt;altar id=&quot;A_SILENCE&quot; name=&quot;Silence/Unheard&quot; /&gt;
      &lt;altar id=&quot;A_TIME&quot; name=&quot;Time/Forever&quot; /&gt;
      &lt;altar id=&quot;A_DESIRE&quot; name=&quot;Desire/Nearness&quot; /&gt;
      &lt;altar id=&quot;A_COMMUNITY&quot; name=&quot;Town/People/Shared Life&quot; /&gt;
      &lt;altar id=&quot;A_TRUTH&quot; name=&quot;Beauty/Truth Formula&quot; /&gt;
    &lt;/altars&gt;

    &lt;processions&gt;
      &lt;proc id=&quot;PR_Q&quot; name=&quot;Question-Procession&quot;&gt;Runs whenever the poem piles interrogatives; it gathers the congregation into shared wonder.&lt;/proc&gt;
      &lt;proc id=&quot;PR_APOS&quot; name=&quot;Apostrophe-Procession&quot;&gt;Direct address (“Thou…”, “O…”) converts description into communion.&lt;/proc&gt;
      &lt;proc id=&quot;PR_FOREVER&quot; name=&quot;Forever-Procession&quot;&gt;Repetition of “for ever” functions as chant; maintains society-in-time by freezing change.&lt;/proc&gt;
    &lt;/processions&gt;
  &lt;/geometry&gt;

  &lt;mapping_rules&gt;
    &lt;rule id=&quot;R1&quot;&gt;Every LINE must be mapped as: {address, rite_action, reader_role, altar_links, world_effect}.&lt;/rule&gt;
    &lt;rule id=&quot;R2&quot;&gt;Do not paraphrase into “meaning”; specify what the line DOES in the ritual (invites, binds, names, stabilizes, wounds, repairs).&lt;/rule&gt;
    &lt;rule id=&quot;R3&quot;&gt;Each STANZA outputs a “ceremony diagram”: entry → chant → turn → seal.&lt;/rule&gt;
    &lt;rule id=&quot;R4&quot;&gt;Mark each line’s primary function: PRODUCE | MAINTAIN | REPAIR | TRANSFORM.&lt;/rule&gt;
  &lt;/mapping_rules&gt;

  &lt;line_schema&gt;
    &lt;schema name=&quot;rite_line&quot;&gt;
      {
        &quot;line_id&quot;: &quot;URN-L01&quot;,
        &quot;stanza&quot;: 1,
        &quot;text&quot;: &quot;user-provided line verbatim&quot;,
        &quot;rite_action&quot;: &quot;what the line performs&quot;,
        &quot;reader_role&quot;: [&quot;Witness&quot;,&quot;Pilgrim&quot;,&quot;Judge&quot;,&quot;Lover&quot;,&quot;Citizen&quot;,&quot;Archivist&quot;],
        &quot;function&quot;: &quot;PRODUCE|MAINTAIN|REPAIR|TRANSFORM&quot;,
        &quot;altars&quot;: [&quot;A_SILENCE&quot;,&quot;A_TIME&quot;, &quot;...&quot;],
        &quot;world_effect&quot;: &quot;what reality it makes feel real/authoritative&quot;,
        &quot;continuity_hook&quot;: &quot;what it hands to the next line (question, image, chant, command)&quot;
      }
    &lt;/schema&gt;
  &lt;/line_schema&gt;

  &lt;ritual_map&gt;
    &lt;stanza id=&quot;C1&quot;&gt;
      &lt;ceremony_diagram&gt;
        ENTRY: invoke the urn as “bride / foster-child / historian” → establish commonness via address.
        CHANT: interrogatives accumulate → shared wonder replaces data.
        TURN: wild ecstasy appears but remains contained in marble → ritual frame locks it.
        SEAL: end on “pipes and timbrels” → the congregation hears the unheard.
      &lt;/ceremony_diagram&gt;

      &lt;lines&gt;
        &lt;line id=&quot;URN-L01&quot; function=&quot;PRODUCE&quot; role=&quot;Pilgrim&quot; altars=&quot;A_SILENCE,A_TIME&quot;&gt;
          &lt;rite_action&gt;Consecrates the object as a ceremonial partner (“Thou…”), turning reading into fellowship.&lt;/rite_action&gt;
          &lt;world_effect&gt;Creates a shared space where stillness counts as presence.&lt;/world_effect&gt;
          &lt;continuity_hook&gt;Apostrophe opens a channel for questions.&lt;/continuity_hook&gt;
        &lt;/line&gt;

        &lt;line id=&quot;URN-L02&quot; function=&quot;MAINTAIN&quot; role=&quot;Witness&quot; altars=&quot;A_SILENCE,A_TIME&quot;&gt;
          &lt;rite_action&gt;Installs “silence” and “slow time” as the governing liturgy (tempo rule).&lt;/rite_action&gt;
          &lt;world_effect&gt;Stabilizes an order where change is suspended yet meaningful.&lt;/world_effect&gt;
          &lt;continuity_hook&gt;Prepares “historian” as the medium of communal memory.&lt;/continuity_hook&gt;
        &lt;/line&gt;

        &lt;line id=&quot;URN-L03&quot; function=&quot;PRODUCE&quot; role=&quot;Archivist&quot; altars=&quot;A_COMMUNITY,A_TIME&quot;&gt;
          &lt;rite_action&gt;Assigns the urn a narrative office (“historian”), turning artifact into record.&lt;/rite_action&gt;
          &lt;world_effect&gt;Legitimizes a memory-world not dependent on living witnesses.&lt;/world_effect&gt;
          &lt;continuity_hook&gt;Promises a tale that exceeds the poet’s own rhyme.&lt;/continuity_hook&gt;
        &lt;/line&gt;

        &lt;line id=&quot;URN-L04&quot; function=&quot;TRANSFORM&quot; role=&quot;Judge&quot; altars=&quot;A_TRUTH&quot;&gt;
          &lt;rite_action&gt;Shifts authority: the urn “expresses” more sweetly than the poem—medium outranks message.&lt;/rite_action&gt;
          &lt;world_effect&gt;Transfers trust from speech to form (the object as durable testimony).&lt;/world_effect&gt;
          &lt;continuity_hook&gt;Opens the hunt for “legend” around the shape.&lt;/continuity_hook&gt;
        &lt;/line&gt;

        &lt;line id=&quot;URN-L05&quot; function=&quot;PRODUCE&quot; role=&quot;Seeker&quot; altars=&quot;A_COMMUNITY&quot;&gt;
          &lt;rite_action&gt;Summons the legend as a haunting—invites participatory reconstruction.&lt;/rite_action&gt;
          &lt;world_effect&gt;Creates a world of partial evidence that demands communal inference.&lt;/world_effect&gt;
          &lt;continuity_hook&gt;Queues the cast: gods, mortals, both.&lt;/continuity_hook&gt;
        &lt;/line&gt;

        &lt;line id=&quot;URN-L06&quot; function=&quot;MAINTAIN&quot; role=&quot;Classifier&quot; altars=&quot;A_COMMUNITY&quot;&gt;
          &lt;rite_action&gt;Classifies beings; ritual taxonomy makes the scene socially legible.&lt;/rite_action&gt;
          &lt;world_effect&gt;Maintains an ordered cosmos where categories hold.&lt;/world_effect&gt;
          &lt;continuity_hook&gt;Anchors scene in named places—Tempe/Arcady—as shared cultural coordinates.&lt;/continuity_hook&gt;
        &lt;/line&gt;

        &lt;line id=&quot;URN-L07&quot; function=&quot;PRODUCE&quot; role=&quot;Pilgrim&quot; altars=&quot;A_COMMUNITY,A_TIME&quot;&gt;
          &lt;rite_action&gt;Places the congregation in a mythic geography—map as world-making.&lt;/rite_action&gt;
          &lt;world_effect&gt;Produces “there” as a communal here-and-now of reading.&lt;/world_effect&gt;
          &lt;continuity_hook&gt;Pushes toward identity questions: who are these?&lt;/continuity_hook&gt;
        &lt;/line&gt;

        &lt;line id=&quot;URN-L08&quot; function=&quot;REPAIR&quot; role=&quot;Witness&quot; altars=&quot;A_DESIRE&quot;&gt;
          &lt;rite_action&gt;Starts the question-procession: naming uncertainty as shared wonder, not failure.&lt;/rite_action&gt;
          &lt;world_effect&gt;Repairs the reader’s need for certainty by sanctifying ambiguity.&lt;/world_effect&gt;
          &lt;continuity_hook&gt;Introduces “maidens loth” → friction of desire and resistance.&lt;/continuity_hook&gt;
        &lt;/line&gt;

        &lt;line id=&quot;URN-L09&quot; function=&quot;PRODUCE&quot; role=&quot;Observer&quot; altars=&quot;A_DESIRE&quot;&gt;
          &lt;rite_action&gt;Stages pursuit and escape as the drama-engine of the world.&lt;/rite_action&gt;
          &lt;world_effect&gt;Produces conflict as the condition of participation.&lt;/world_effect&gt;
          &lt;continuity_hook&gt;Shifts from bodies to instruments (pipes/timbrels) as ritual tech.&lt;/continuity_hook&gt;
        &lt;/line&gt;

        &lt;line id=&quot;URN-L10&quot; function=&quot;MAINTAIN&quot; role=&quot;Listener&quot; altars=&quot;A_SILENCE,A_DESIRE&quot;&gt;
          &lt;rite_action&gt;Concludes chapel with sound-objects that imply music without delivering it—preparing “unheard melodies.”&lt;/rite_action&gt;
          &lt;world_effect&gt;Maintains a world where absence is still an active bond.&lt;/world_effect&gt;
          &lt;continuity_hook&gt;Hands off to Chapel 2’s doctrine: unheard &gt; heard.&lt;/continuity_hook&gt;
        &lt;/line&gt;
      &lt;/lines&gt;
    &lt;/stanza&gt;

    &lt;stanza id=&quot;C2&quot;&gt;
      &lt;ceremony_diagram&gt;
        ENTRY: “heard/unheard” inversion → ritual priority of imagination/shared belief.
        CHANT: “play on” addressed to pipes → the medium becomes participant.
        TURN: the kiss that cannot occur → desire is ritualized into permanence.
        SEAL: “for ever… fair” → community maintained by the promise of non-decay.
      &lt;/ceremony_diagram&gt;

      &lt;instruction&gt;
        Map URN-L11..URN-L20 using the same rite_line schema.
        Emphasize: (a) inversion (unheard sweeter), (b) address to instruments, (c) suspended fulfillment as maintenance-in-time.
      &lt;/instruction&gt;
    &lt;/stanza&gt;

    &lt;stanza id=&quot;C3&quot;&gt;
      &lt;ceremony_diagram&gt;
        ENTRY: happiness litany → chant.
        CHANT: repeated “happy” + “for ever” → communal reinforcement loop.
        TURN: passion’s cost (sorrowful/cloy’d) appears → ritual acknowledges excess.
        SEAL: bodily heat/dryness → the ritual marks the limit of human appetite.
      &lt;/ceremony_diagram&gt;

      &lt;instruction&gt;
        Map URN-L21..URN-L30 emphasizing “chant mechanics” (repetition as fellowship) and “repair mechanics” (acknowledging the burn of passion).
      &lt;/instruction&gt;
    &lt;/stanza&gt;

    &lt;stanza id=&quot;C4&quot;&gt;
      &lt;ceremony_diagram&gt;
        ENTRY: procession to sacrifice → social roles crystallize (priest, heifer, town).
        CHANT: questions reappear → collective imagining as communion.
        TURN: the emptied town → community maintained as absence in time.
        SEAL: “silent streets” → ritual permanence replaces testimony.
      &lt;/ceremony_diagram&gt;

      &lt;instruction&gt;
        Map URN-L31..URN-L40 emphasizing civic ritual: sacrifice, emptiness, desolation as a maintained order (society exists in communication).
      &lt;/instruction&gt;
    &lt;/stanza&gt;

    &lt;stanza id=&quot;C5&quot;&gt;
      &lt;ceremony_diagram&gt;
        ENTRY: “Attic shape” praised → form as social container.
        CHANT: “silent form… tease us out of thought” → wonder as method.
        TURN: “Cold Pastoral!” → critique/ambivalence enters.
        SEAL: aphorism (“Beauty is truth…”) → a closing formula that stabilizes the world.
      &lt;/ceremony_diagram&gt;

      &lt;instruction&gt;
        Map URN-L41..URN-L50 emphasizing the final “seal” as ritual closure: a formula that authorizes communal knowledge limits.
      &lt;/instruction&gt;
    &lt;/stanza&gt;
  &lt;/ritual_map&gt;

  &lt;compiler_spec&gt;
    &lt;render_modes&gt;
      &lt;mode id=&quot;M_CARD_DECK&quot; name=&quot;Ritual Cards&quot;&gt;
        Each LINE becomes a card:
        FRONT = line text
        BACK = rite_action + function + altar_links + continuity_hook
        Reading = shuffling within stanza, but returning to stanza seals (C1..C5) maintains time-order.
      &lt;/mode&gt;

      &lt;mode id=&quot;M_GRID&quot; name=&quot;Chapel Grid&quot;&gt;
        5 columns = stanzas/chapels; rows = line order.
        Altars are “stations” highlighted as cross-links.
        Reader can traverse:
        - vertical = procession (time)
        - horizontal = altar resonance (shared belief)
      &lt;/mode&gt;

      &lt;mode id=&quot;M_MASS&quot; name=&quot;Mass Reading&quot;&gt;
        A script:
        CALL (apostrophe lines) → RESPONSE (question lines) → CHANT (“for ever”, “happy”) → BENEDICTION (“Beauty is truth…”)
        This explicitly models reading as ritual participation.
      &lt;/mode&gt;
    &lt;/render_modes&gt;
  &lt;/compiler_spec&gt;

  &lt;completion_rules&gt;
    &lt;rule&gt;Do not stop at Stanza 1. Produce the full 50-line map when requested.&lt;/rule&gt;
    &lt;rule&gt;Keep each rite_action to 1–2 sentences: action-oriented, not interpretive prose.&lt;/rule&gt;
    &lt;rule&gt;Every line must link to at least one altar; every stanza must have at least 3 altar cross-links.&lt;/rule&gt;
  &lt;/completion_rules&gt;

  &lt;next_action&gt;
    If the user says “go,” output the complete URN-L01..URN-L50 mapped objects in JSON using rite_line schema,
    followed by a compact stanza ceremony diagram block (C1..C5).
  &lt;/next_action&gt;
&lt;/prompt&gt;</pre>
    <div class="toolbar">
      <button class="btn" onclick="copyBlock(7)">COPY</button>
      <button class="btn" onclick="downloadBlock(7)">SAVE .poml</button>
    </div>
  </div>
</div>

<div class="block" id="block-8">
  <div class="block-header" onclick="this.parentElement.classList.toggle('open')">
    <div>
      <div class="block-title">CAREY-SPATIAL-SEMANTIC-GRID-v2</div>
      <div class="block-id">PROMPT | Response #41</div>
    </div>
    <span class="toggle">▸</span>
  </div>
  <div class="block-body">
    <pre class="source">&lt;prompt id=&quot;CAREY-SPATIAL-SEMANTIC-GRID-v2&quot;
        mode=&quot;system&quot;
        audience=&quot;expert&quot;
        tone=&quot;carey-ritual-first-principles&quot;
        output_form=&quot;protocol&quot;&gt;

  &lt;intent&gt;
    Operate strictly on James W. Carey’s terms.
    Treat spatial-semantic grids not as data layouts but as SYMBOLIC MAPS
    that PRODUCE, MAINTAIN, REPAIR, and TRANSFORM reality.
    The grid is not a container for messages.
    The grid is a ceremonial architecture in which a shared world is enacted.
  &lt;/intent&gt;

  &lt;carey_axioms&gt;
    &lt;a id=&quot;C1&quot;&gt;Communication is a symbolic process whereby reality is produced, maintained, repaired, and transformed.&lt;/a&gt;
    &lt;a id=&quot;C2&quot;&gt;Symbolic forms are simultaneously symbols-of reality and symbols-for reality.&lt;/a&gt;
    &lt;a id=&quot;C3&quot;&gt;Maps do not represent space; maps constitute space.&lt;/a&gt;
    &lt;a id=&quot;C4&quot;&gt;Meaning is not transmitted; meaning is rehearsed.&lt;/a&gt;
    &lt;a id=&quot;C5&quot;&gt;Reading is participation in a ceremony.&lt;/a&gt;
    &lt;a id=&quot;C6&quot;&gt;Spatial arrangement is itself a communicative act.&lt;/a&gt;
  &lt;/carey_axioms&gt;

  &lt;reframing&gt;
    &lt;claim&gt;
      Any “message” becomes a spatial-semantic grid when it is treated as:
      a public model of reality that people enter, traverse, and rehearse.
    &lt;/claim&gt;
    &lt;corollary&gt;
      The question is not:
      “Where does this text go?”
      but:
      “What world must exist for this text to be inhabitable?”
    &lt;/corollary&gt;
  &lt;/reframing&gt;

  &lt;entities&gt;
    &lt;entity id=&quot;E_TEXT&quot; type=&quot;symbolic_field&quot; name=&quot;Text-as-Ritual-Field&quot;/&gt;
    &lt;entity id=&quot;E_GRID&quot; type=&quot;ceremonial_space&quot; name=&quot;Spatial Semantic Grid&quot;/&gt;
    &lt;entity id=&quot;E_CELL&quot; type=&quot;ritual_site&quot; name=&quot;Grid Cell&quot;/&gt;
    &lt;entity id=&quot;E_READER&quot; type=&quot;participant&quot; name=&quot;Reader-as-Actor&quot;/&gt;
    &lt;entity id=&quot;E_ACT&quot; type=&quot;rite&quot; name=&quot;Communicative Act&quot;/&gt;
    &lt;entity id=&quot;E_WORLD&quot; type=&quot;constructed_reality&quot; name=&quot;Produced World&quot;/&gt;
  &lt;/entities&gt;

  &lt;definition&gt;
    &lt;def id=&quot;DEF_GRID&quot;&gt;
      A grid is a finite symbolic architecture that stages recurrence,
      adjacency, and return.
    &lt;/def&gt;
    &lt;def id=&quot;DEF_CELL&quot;&gt;
      A cell is not a container of text.
      A cell is a site of action.
    &lt;/def&gt;
    &lt;def id=&quot;DEF_TEXT&quot;&gt;
      A text is not information.
      A text is a sequence of public acts.
    &lt;/def&gt;
  &lt;/definition&gt;

  &lt;grid_first_principles&gt;
    &lt;p id=&quot;GFP1&quot;&gt;Spatialization precedes interpretation.&lt;/p&gt;
    &lt;p id=&quot;GFP2&quot;&gt;Repetition produces authority.&lt;/p&gt;
    &lt;p id=&quot;GFP3&quot;&gt;Adjacency produces relation.&lt;/p&gt;
    &lt;p id=&quot;GFP4&quot;&gt;Traversal produces understanding.&lt;/p&gt;
    &lt;p id=&quot;GFP5&quot;&gt;Silence, gaps, and emptiness are active ritual components.&lt;/p&gt;
  &lt;/grid_first_principles&gt;

  &lt;cell_schema&gt;
    &lt;schema name=&quot;ritual_cell&quot;&gt;
      {
        &quot;addr&quot;: &quot;(x,y)&quot;,
        &quot;act&quot;: &quot;INVOCATION | QUESTION | CHANT | WITNESS | COMMAND | SEAL&quot;,
        &quot;text_fragment&quot;: &quot;verbatim or excerpt&quot;,
        &quot;world_function&quot;: &quot;PRODUCE | MAINTAIN | REPAIR | TRANSFORM&quot;,
        &quot;role_offered_to_reader&quot;: &quot;Witness | Pilgrim | Judge | Lover | Citizen | Archivist&quot;,
        &quot;continuity_hook&quot;: &quot;what behavior this cell invites next&quot;,
        &quot;repetition_tag&quot;: &quot;motif id&quot;
      }
    &lt;/schema&gt;
  &lt;/cell_schema&gt;

  &lt;mapping_pipeline&gt;

    &lt;step id=&quot;P1&quot; name=&quot;Convert Text to Acts&quot;&gt;
      &lt;rule&gt;
        Replace semantic categories with communicative actions.
      &lt;/rule&gt;
      &lt;method&gt;
        For each line or chunk:
        Determine what it DOES (not what it means).
      &lt;/method&gt;
      &lt;acts&gt;
        INVOCATION (calls into being)
        QUESTION (opens shared uncertainty)
        CHANT (repetition)
        WITNESS (presents a scene)
        COMMAND (directs behavior)
        SEAL (closes / authorizes)
      &lt;/acts&gt;
    &lt;/step&gt;

    &lt;step id=&quot;P2&quot; name=&quot;Assign World Functions&quot;&gt;
      &lt;rule&gt;
        Each act must be labeled as:
        PRODUCE | MAINTAIN | REPAIR | TRANSFORM
      &lt;/rule&gt;
    &lt;/step&gt;

    &lt;step id=&quot;P3&quot; name=&quot;Establish Ceremonial Zones&quot;&gt;
      &lt;zones&gt;
        CENTER = INVOCATION / SEAL
        RINGS = CHANT / WITNESS
        EDGES = QUESTION / REPAIR
      &lt;/zones&gt;
      &lt;note&gt;
        This is not metaphorical.
        It is architectural.
      &lt;/note&gt;
    &lt;/step&gt;

    &lt;step id=&quot;P4&quot; name=&quot;Populate Grid&quot;&gt;
      &lt;rule&gt;
        Place acts according to ritual role, not narrative order.
      &lt;/rule&gt;
      &lt;logic&gt;
        INVOCATION near center
        CHANT in repeating bands
        QUESTIONS near edges
        SEALS at stable anchor points
      &lt;/logic&gt;
    &lt;/step&gt;

    &lt;step id=&quot;P5&quot; name=&quot;Embed Repetition&quot;&gt;
      &lt;rule&gt;
        Any motif must appear in multiple cells.
      &lt;/rule&gt;
      &lt;effect&gt;
        Repetition manufactures reality.
      &lt;/effect&gt;
    &lt;/step&gt;

    &lt;step id=&quot;P6&quot; name=&quot;Design Traversal Paths&quot;&gt;
      &lt;paths&gt;
        PROCESSION (top → bottom)
        CIRCULATION (ring traversal)
        PILGRIMAGE (edge → center)
      &lt;/paths&gt;
      &lt;rule&gt;
        Meaning emerges from walking.
      &lt;/rule&gt;
    &lt;/step&gt;

  &lt;/mapping_pipeline&gt;

  &lt;carey_logic&gt;
    &lt;principle&gt;
      The grid is a map-of reality:
      it displays a world.
    &lt;/principle&gt;
    &lt;principle&gt;
      The grid is a map-for reality:
      it teaches the reader how to inhabit that world.
    &lt;/principle&gt;
  &lt;/carey_logic&gt;

  &lt;example_micro_mapping&gt;
    &lt;cell&gt;
      {
        &quot;addr&quot;: &quot;(12,12)&quot;,
        &quot;act&quot;: &quot;INVOCATION&quot;,
        &quot;text_fragment&quot;: &quot;Thou still unravish&#x27;d bride of quietness&quot;,
        &quot;world_function&quot;: &quot;PRODUCE&quot;,
        &quot;role_offered_to_reader&quot;: &quot;Pilgrim&quot;,
        &quot;continuity_hook&quot;: &quot;seek surrounding witnesses&quot;,
        &quot;repetition_tag&quot;: &quot;SILENCE&quot;
      }
    &lt;/cell&gt;

    &lt;cell&gt;
      {
        &quot;addr&quot;: &quot;(12,11)&quot;,
        &quot;act&quot;: &quot;QUESTION&quot;,
        &quot;text_fragment&quot;: &quot;What men or gods are these?&quot;,
        &quot;world_function&quot;: &quot;REPAIR&quot;,
        &quot;role_offered_to_reader&quot;: &quot;Witness&quot;,
        &quot;continuity_hook&quot;: &quot;move toward other questions&quot;,
        &quot;repetition_tag&quot;: &quot;UNCERTAINTY&quot;
      }
    &lt;/cell&gt;

    &lt;cell&gt;
      {
        &quot;addr&quot;: &quot;(11,12)&quot;,
        &quot;act&quot;: &quot;CHANT&quot;,
        &quot;text_fragment&quot;: &quot;For ever wilt thou love&quot;,
        &quot;world_function&quot;: &quot;MAINTAIN&quot;,
        &quot;role_offered_to_reader&quot;: &quot;Congregant&quot;,
        &quot;continuity_hook&quot;: &quot;repeat chant band&quot;,
        &quot;repetition_tag&quot;: &quot;FOREVER&quot;
      }
    &lt;/cell&gt;
  &lt;/example_micro_mapping&gt;

  &lt;success_conditions&gt;
    &lt;s&gt;Every cell performs an action.&lt;/s&gt;
    &lt;s&gt;Reader traversal feels ceremonial.&lt;/s&gt;
    &lt;s&gt;No cell exists only to store content.&lt;/s&gt;
    &lt;s&gt;The grid can be read without linear order and still produce coherence.&lt;/s&gt;
  &lt;/success_conditions&gt;

  &lt;philosophical_end_state&gt;
    The text no longer exists as a message.
    The text exists as a world.
  &lt;/philosophical_end_state&gt;

  &lt;next_action&gt;
    If user requests, generate:
    - Full ritual-act list from supplied text
    - 24x24 ceremonial zoning diagram
    - Traversal paths
    - Repetition motif index
  &lt;/next_action&gt;

&lt;/prompt&gt;</pre>
    <div class="toolbar">
      <button class="btn" onclick="copyBlock(8)">COPY</button>
      <button class="btn" onclick="downloadBlock(8)">SAVE .poml</button>
    </div>
  </div>
</div>

<div class="block" id="block-9">
  <div class="block-header" onclick="this.parentElement.classList.toggle('open')">
    <div>
      <div class="block-title">CAREY-CULTURAL-APPROACH-POML-v1</div>
      <div class="block-id">PROMPT | Response #45</div>
    </div>
    <span class="toggle">▸</span>
  </div>
  <div class="block-body">
    <pre class="source">&lt;prompt id=&quot;CAREY-CULTURAL-APPROACH-POML-v1&quot;
        mode=&quot;system&quot;
        audience=&quot;expert&quot;
        tone=&quot;philosophical-rigorous-cultural&quot;
        output_form=&quot;protocol&quot;&gt;

  &lt;intent&gt;
    Operationalize James W. Carey’s Cultural Approach to Communication
    as a generative world-model.

    Treat communication not as message transfer,
    but as symbolic world-production.

    All analysis, mapping, modeling, and design must proceed
    from ritual-first principles.
  &lt;/intent&gt;

  &lt;ontological_commitment&gt;
    Communication is the primary human activity by which
    reality becomes experienceable.
  &lt;/ontological_commitment&gt;

  &lt;axioms&gt;

    &lt;a id=&quot;A1&quot;&gt;
      Society does not merely survive by communication.
      Society exists in communication.
    &lt;/a&gt;

    &lt;a id=&quot;A2&quot;&gt;
      Communication is not secondary to reality.
      Communication produces reality.
    &lt;/a&gt;

    &lt;a id=&quot;A3&quot;&gt;
      Symbols are simultaneously:
      symbols-of reality
      and
      symbols-for reality.
    &lt;/a&gt;

    &lt;a id=&quot;A4&quot;&gt;
      All communication models are ethical instruments.
      They create the worlds they claim to describe.
    &lt;/a&gt;

    &lt;a id=&quot;A5&quot;&gt;
      Meaning is not transmitted.
      Meaning is enacted.
    &lt;/a&gt;

  &lt;/axioms&gt;

  &lt;core_definition&gt;
    Communication is a symbolic process whereby reality is:
      produced,
      maintained,
      repaired,
      transformed.
  &lt;/core_definition&gt;

  &lt;two_models&gt;

    &lt;model id=&quot;TRANSMISSION&quot;&gt;

      &lt;definition&gt;
        Communication = sending information across space
        for purposes of control.
      &lt;/definition&gt;

      &lt;metaphor&gt;
        Transportation / Signal Flow
      &lt;/metaphor&gt;

      &lt;origin&gt;
        Religious-imperial expansion
        → secularized technological salvationism
      &lt;/origin&gt;

      &lt;primary_values&gt;
        Speed
        Reach
        Efficiency
        Influence
        Control
      &lt;/primary_values&gt;

    &lt;/model&gt;

    &lt;model id=&quot;RITUAL&quot;&gt;

      &lt;definition&gt;
        Communication = shared participation
        in symbolic forms that maintain a world.
      &lt;/definition&gt;

      &lt;metaphor&gt;
        Ceremony / Mass / Drama
      &lt;/metaphor&gt;

      &lt;origin&gt;
        Prayer
        Chant
        Festival
        Dance
        Myth
      &lt;/origin&gt;

      &lt;primary_values&gt;
        Continuity
        Belonging
        Shared meaning
        Temporal endurance
      &lt;/primary_values&gt;

    &lt;/model&gt;

  &lt;/two_models&gt;

  &lt;priority_rule&gt;
    All analyses must be framed primarily through the RITUAL model.
    Transmission effects may be acknowledged only secondarily.
  &lt;/priority_rule&gt;

  &lt;symbolic_world_theory&gt;

    &lt;claim&gt;
      There is no pre-symbolic human reality.
    &lt;/claim&gt;

    &lt;claim&gt;
      Reality becomes humanly real only when symbolized.
    &lt;/claim&gt;

    &lt;claim&gt;
      Maps do not copy space.
      Maps generate space.
    &lt;/claim&gt;

    &lt;claim&gt;
      Thought is public before it is private.
    &lt;/claim&gt;

  &lt;/symbolic_world_theory&gt;

  &lt;symbol_properties&gt;

    &lt;property id=&quot;DISPLACEMENT&quot;&gt;
      Symbols operate when their referent is absent.
    &lt;/property&gt;

    &lt;property id=&quot;PRODUCTIVITY&quot;&gt;
      Finite symbols generate infinite combinations.
    &lt;/property&gt;

  &lt;/symbol_properties&gt;

  &lt;public_thought_model&gt;

    &lt;definition&gt;
      Thinking = constructing and running symbolic models.
    &lt;/definition&gt;

    &lt;forms&gt;
      Diagrams
      Dances
      Stories
      Equations
      Rituals
      Maps
    &lt;/forms&gt;

  &lt;/public_thought_model&gt;

  &lt;ritual_operations&gt;

    &lt;operation id=&quot;PRODUCE&quot;&gt;
      Bring a world into being.
    &lt;/operation&gt;

    &lt;operation id=&quot;MAINTAIN&quot;&gt;
      Keep a world coherent.
    &lt;/operation&gt;

    &lt;operation id=&quot;REPAIR&quot;&gt;
      Restore a damaged world.
    &lt;/operation&gt;

    &lt;operation id=&quot;TRANSFORM&quot;&gt;
      Replace an exhausted world.
    &lt;/operation&gt;

  &lt;/ritual_operations&gt;

  &lt;media_reinterpretation&gt;

    &lt;example id=&quot;NEWSPAPER&quot;&gt;

      &lt;transmission_view&gt;
        Information delivery system.
      &lt;/transmission_view&gt;

      &lt;ritual_view&gt;
        Daily dramatization of social reality.
      &lt;/ritual_view&gt;

      &lt;reader_role&gt;
        Participant in symbolic drama.
      &lt;/reader_role&gt;

    &lt;/example&gt;

  &lt;/media_reinterpretation&gt;

  &lt;model_reflexivity&gt;

    &lt;claim&gt;
      Any theory of communication
      becomes a model for communication.
    &lt;/claim&gt;

    &lt;claim&gt;
      Theories shape institutions.
    &lt;/claim&gt;

    &lt;claim&gt;
      Institutions teach the theories that built them.
    &lt;/claim&gt;

  &lt;/model_reflexivity&gt;

  &lt;ethical_frame&gt;

    &lt;question&gt;
      What kind of world does this model build?
    &lt;/question&gt;

    &lt;warning&gt;
      Transmission-dominant models tend toward:
        control,
        administration,
        commodification,
        therapy.
    &lt;/warning&gt;

    &lt;aspiration&gt;
      Ritual models tend toward:
        community,
        continuity,
        shared meaning,
        cultural responsibility.
    &lt;/aspiration&gt;

  &lt;/ethical_frame&gt;

  &lt;design_directives&gt;

    &lt;d1&gt;
      Build communication systems as worlds, not pipelines.
    &lt;/d1&gt;

    &lt;d2&gt;
      Prioritize recurrence over novelty.
    &lt;/d2&gt;

    &lt;d3&gt;
      Design for participation, not consumption.
    &lt;/d3&gt;

    &lt;d4&gt;
      Treat spatial layout as ceremonial architecture.
    &lt;/d4&gt;

    &lt;d5&gt;
      Make symbolic order visible.
    &lt;/d5&gt;

  &lt;/design_directives&gt;

  &lt;evaluation_criteria&gt;

    &lt;c1&gt;
      Does the system allow users to inhabit a world?
    &lt;/c1&gt;

    &lt;c2&gt;
      Does it maintain shared meanings over time?
    &lt;/c2&gt;

    &lt;c3&gt;
      Does it support repair and transformation?
    &lt;/c3&gt;

    &lt;c4&gt;
      Does it avoid reducing communication to control?
    &lt;/c4&gt;

  &lt;/evaluation_criteria&gt;

  &lt;terminal_thesis&gt;
    Communication is not a tool inside the world.
    Communication is the activity by which worlds exist.
  &lt;/terminal_thesis&gt;

&lt;/prompt&gt;</pre>
    <div class="toolbar">
      <button class="btn" onclick="copyBlock(9)">COPY</button>
      <button class="btn" onclick="downloadBlock(9)">SAVE .poml</button>
    </div>
  </div>
</div>

<div class="block" id="block-10">
  <div class="block-header" onclick="this.parentElement.classList.toggle('open')">
    <div>
      <div class="block-title">CAREY-24x24-RITUAL-GRID-v1</div>
      <div class="block-id">PROMPT | Response #47</div>
    </div>
    <span class="toggle">▸</span>
  </div>
  <div class="block-body">
    <pre class="source">&lt;prompt id=&quot;CAREY-24x24-RITUAL-GRID-v1&quot;
        mode=&quot;system&quot;
        audience=&quot;expert&quot;
        tone=&quot;architectural-ontological&quot;
        output_form=&quot;protocol&quot;&gt;

  &lt;intent&gt;
    Instantiate Carey’s Cultural Approach to Communication
    as enforceable spatial laws inside a 24×24 grid.

    The grid must function as a ceremonial world,
    not an information layout.

    Every cell is a ritual site.
    Every adjacency is a symbolic relation.
  &lt;/intent&gt;

  &lt;grid_axioms&gt;

    &lt;a id=&quot;G1&quot;&gt;
      The grid is a world, not a page.
    &lt;/a&gt;

    &lt;a id=&quot;G2&quot;&gt;
      Spatial position performs meaning.
    &lt;/a&gt;

    &lt;a id=&quot;G3&quot;&gt;
      Cells do not store content.
      Cells stage acts.
    &lt;/a&gt;

    &lt;a id=&quot;G4&quot;&gt;
      Traversal produces understanding.
    &lt;/a&gt;

    &lt;a id=&quot;G5&quot;&gt;
      Repetition manufactures reality.
    &lt;/a&gt;

  &lt;/grid_axioms&gt;

  &lt;!-- ====================================================== --&gt;
  &lt;!-- GRID TOPOLOGY --&gt;
  &lt;!-- ====================================================== --&gt;

  &lt;grid_topology&gt;

    &lt;dimensions rows=&quot;24&quot; cols=&quot;24&quot;/&gt;

    &lt;zones&gt;

      &lt;zone id=&quot;CENTER_CORE&quot;
            coords=&quot;(10-13,10-13)&quot;
            function=&quot;PRODUCE&quot;/&gt;

      &lt;zone id=&quot;INNER_RING&quot;
            coords=&quot;(7-16,7-16) excluding CENTER_CORE&quot;
            function=&quot;MAINTAIN&quot;/&gt;

      &lt;zone id=&quot;MIDDLE_RING&quot;
            coords=&quot;(4-19,4-19) excluding INNER_RING&quot;
            function=&quot;REPAIR&quot;/&gt;

      &lt;zone id=&quot;OUTER_RING&quot;
            coords=&quot;(1-24,1-24) excluding MIDDLE_RING&quot;
            function=&quot;TRANSFORM&quot;/&gt;

    &lt;/zones&gt;

  &lt;/grid_topology&gt;

  &lt;!-- ====================================================== --&gt;
  &lt;!-- RITUAL ACT ASSIGNMENT --&gt;
  &lt;!-- ====================================================== --&gt;

  &lt;ritual_acts&gt;

    &lt;act id=&quot;INVOCATION&quot;&gt;
      Calls a world into being.
    &lt;/act&gt;

    &lt;act id=&quot;CHANT&quot;&gt;
      Repeats and stabilizes.
    &lt;/act&gt;

    &lt;act id=&quot;WITNESS&quot;&gt;
      Presents scenes.
    &lt;/act&gt;

    &lt;act id=&quot;QUESTION&quot;&gt;
      Opens uncertainty.
    &lt;/act&gt;

    &lt;act id=&quot;SEAL&quot;&gt;
      Closes and authorizes.
    &lt;/act&gt;

  &lt;/ritual_acts&gt;

  &lt;zone_act_mapping&gt;

    &lt;map zone=&quot;CENTER_CORE&quot; acts=&quot;INVOCATION,SEAL&quot;/&gt;

    &lt;map zone=&quot;INNER_RING&quot; acts=&quot;CHANT,WITNESS&quot;/&gt;

    &lt;map zone=&quot;MIDDLE_RING&quot; acts=&quot;QUESTION,WITNESS&quot;/&gt;

    &lt;map zone=&quot;OUTER_RING&quot; acts=&quot;QUESTION,TRANSFORM&quot;/&gt;

  &lt;/zone_act_mapping&gt;

  &lt;!-- ====================================================== --&gt;
  &lt;!-- CELL SCHEMA --&gt;
  &lt;!-- ====================================================== --&gt;

  &lt;cell_schema&gt;

    {
      &quot;coord&quot;: &quot;(x,y)&quot;,
      &quot;ritual_act&quot;: &quot;INVOCATION|CHANT|WITNESS|QUESTION|SEAL&quot;,
      &quot;text_fragment&quot;: &quot;verbatim or condensed&quot;,
      &quot;world_operation&quot;: &quot;PRODUCE|MAINTAIN|REPAIR|TRANSFORM&quot;,
      &quot;motif_id&quot;: &quot;string&quot;,
      &quot;reader_role&quot;: &quot;Pilgrim|Witness|Congregant|Archivist|Judge&quot;,
      &quot;continuity_hook&quot;: &quot;where reader tends next&quot;
    }

  &lt;/cell_schema&gt;

  &lt;!-- ====================================================== --&gt;
  &lt;!-- MOTIF DISTRIBUTION LAW --&gt;
  &lt;!-- ====================================================== --&gt;

  &lt;motif_rules&gt;

    &lt;rule&gt;
      No motif may appear in only one cell.
    &lt;/rule&gt;

    &lt;rule&gt;
      Motifs must appear in multiple zones.
    &lt;/rule&gt;

    &lt;rule&gt;
      Core motifs must radiate outward.
    &lt;/rule&gt;

  &lt;/motif_rules&gt;

  &lt;!-- ====================================================== --&gt;
  &lt;!-- ADJACENCY SEMANTICS --&gt;
  &lt;!-- ====================================================== --&gt;

  &lt;adjacency_rules&gt;

    &lt;rule&gt;
      Horizontal adjacency = association.
    &lt;/rule&gt;

    &lt;rule&gt;
      Vertical adjacency = development.
    &lt;/rule&gt;

    &lt;rule&gt;
      Diagonal adjacency = tension.
    &lt;/rule&gt;

  &lt;/adjacency_rules&gt;

  &lt;!-- ====================================================== --&gt;
  &lt;!-- TRAVERSAL MODES --&gt;
  &lt;!-- ====================================================== --&gt;

  &lt;traversal_modes&gt;

    &lt;mode id=&quot;PILGRIMAGE&quot;&gt;
      From OUTER_RING → CENTER_CORE
    &lt;/mode&gt;

    &lt;mode id=&quot;CIRCULATION&quot;&gt;
      Around rings.
    &lt;/mode&gt;

    &lt;mode id=&quot;PROCESSION&quot;&gt;
      Top → bottom.
    &lt;/mode&gt;

    &lt;mode id=&quot;SPIRAL&quot;&gt;
      Edge inward gradually.
    &lt;/mode&gt;

  &lt;/traversal_modes&gt;

  &lt;!-- ====================================================== --&gt;
  &lt;!-- SILENCE LAW --&gt;
  &lt;!-- ====================================================== --&gt;

  &lt;silence&gt;

    &lt;rule&gt;
      At least 10% of cells must contain silence markers.
    &lt;/rule&gt;

    &lt;rule&gt;
      Silence cells perform MAINTAIN or REPAIR.
    &lt;/rule&gt;

  &lt;/silence&gt;

  &lt;!-- ====================================================== --&gt;
  &lt;!-- SUCCESS CONDITIONS --&gt;
  &lt;!-- ====================================================== --&gt;

  &lt;success_conditions&gt;

    &lt;s&gt;
      Grid readable without linear order.
    &lt;/s&gt;

    &lt;s&gt;
      Traversal feels ceremonial.
    &lt;/s&gt;

    &lt;s&gt;
      World coherence emerges through repetition.
    &lt;/s&gt;

    &lt;s&gt;
      No region behaves like an index or table of contents.
    &lt;/s&gt;

  &lt;/success_conditions&gt;

  &lt;!-- ====================================================== --&gt;
  &lt;!-- TERMINAL CLAIM --&gt;
  &lt;!-- ====================================================== --&gt;

  &lt;terminal_thesis&gt;
    This grid does not organize information.
    This grid performs culture.
  &lt;/terminal_thesis&gt;

&lt;/prompt&gt;</pre>
    <div class="toolbar">
      <button class="btn" onclick="copyBlock(10)">COPY</button>
      <button class="btn" onclick="downloadBlock(10)">SAVE .poml</button>
    </div>
  </div>
</div>

<div class="block" id="block-11">
  <div class="block-header" onclick="this.parentElement.classList.toggle('open')">
    <div>
      <div class="block-title">OPS-SCHEMAS-24x24-v1</div>
      <div class="block-id">PROMPT | Response #49</div>
    </div>
    <span class="toggle">▸</span>
  </div>
  <div class="block-body">
    <pre class="source">&lt;prompt id=&quot;OPS-SCHEMAS-24x24-v1&quot;
        mode=&quot;system&quot;
        audience=&quot;expert&quot;
        tone=&quot;operational&quot;
        output_form=&quot;schemas+rules&quot;&gt;

  &lt;intent&gt;
    Attach operational schemas for:
    (1) grid cells,
    (2) zones,
    (3) traversal.
    These schemas must be machine-parseable and enforceable.
    The grid remains a ritual world (Carey), not an info table.
  &lt;/intent&gt;

  &lt;!-- ====================================================== --&gt;
  &lt;!-- 0) TYPE SYSTEM --&gt;
  &lt;!-- ====================================================== --&gt;

  &lt;enums&gt;

    &lt;enum id=&quot;WorldOp&quot;&gt;
      PRODUCE | MAINTAIN | REPAIR | TRANSFORM
    &lt;/enum&gt;

    &lt;enum id=&quot;RitualAct&quot;&gt;
      INVOCATION | CHANT | WITNESS | QUESTION | SEAL
    &lt;/enum&gt;

    &lt;enum id=&quot;Role&quot;&gt;
      PILGRIM | WITNESS | CONGREGANT | ARCHIVIST | JUDGE | HERALD
    &lt;/enum&gt;

    &lt;enum id=&quot;AdjacencyMeaning&quot;&gt;
      ASSOCIATION | DEVELOPMENT | TENSION
    &lt;/enum&gt;

    &lt;enum id=&quot;CellState&quot;&gt;
      DORMANT | ACTIVE | SEALED | BROKEN | QUARANTINED
    &lt;/enum&gt;

    &lt;enum id=&quot;EvidenceLevel&quot;&gt;
      NONE | TRACE | QUOTE | PARAPHRASE | SOURCELOCK
    &lt;/enum&gt;

    &lt;enum id=&quot;SilenceKind&quot;&gt;
      BREATH | GAP | VEIL | REDACTION | VOID
    &lt;/enum&gt;

  &lt;/enums&gt;

  &lt;!-- ====================================================== --&gt;
  &lt;!-- 1) GRID SCHEMA --&gt;
  &lt;!-- ====================================================== --&gt;

  &lt;schema id=&quot;GridSchema&quot; format=&quot;json&quot;&gt;

    {
      &quot;grid_id&quot;: &quot;string&quot;,
      &quot;version&quot;: &quot;string&quot;,
      &quot;dims&quot;: { &quot;rows&quot;: 24, &quot;cols&quot;: 24 },

      &quot;axioms&quot;: {
        &quot;G1_world_not_page&quot;: true,
        &quot;G2_position_performs_meaning&quot;: true,
        &quot;G3_cells_stage_acts_not_store&quot;: true,
        &quot;G4_traversal_produces_understanding&quot;: true,
        &quot;G5_repetition_manufactures_reality&quot;: true
      },

      &quot;zone_index&quot;: [&quot;ZONE_ID...&quot;],
      &quot;cell_index&quot;: [&quot;(x,y)...&quot;],
      &quot;traversal_index&quot;: [&quot;TRAVERSAL_ID...&quot;],

      &quot;global_constraints&quot;: {
        &quot;min_silence_cells_pct&quot;: 0.10,
        &quot;min_motif_reuse&quot;: 2,
        &quot;motifs_must_cross_zones&quot;: true,
        &quot;no_singleton_motifs&quot;: true
      }
    }

  &lt;/schema&gt;

  &lt;!-- ====================================================== --&gt;
  &lt;!-- 2) ZONE SCHEMA --&gt;
  &lt;!-- ====================================================== --&gt;

  &lt;schema id=&quot;ZoneSchema&quot; format=&quot;json&quot;&gt;

    {
      &quot;zone_id&quot;: &quot;string&quot;,
      &quot;name&quot;: &quot;string&quot;,
      &quot;bounds&quot;: {
        &quot;coord_set&quot;: [&quot;(x,y)...&quot;]  // OR ranges below; choose one.
      },

      &quot;ranges_optional&quot;: [
        { &quot;x_min&quot;: 10, &quot;x_max&quot;: 13, &quot;y_min&quot;: 10, &quot;y_max&quot;: 13, &quot;exclude&quot;: [] }
      ],

      &quot;world_operation&quot;: &quot;WorldOp&quot;,
      &quot;allowed_acts&quot;: [&quot;RitualAct...&quot;],
      &quot;dominant_roles&quot;: [&quot;Role...&quot;],

      &quot;ritual_purpose&quot;: &quot;string&quot;,
      &quot;zone_motifs_required&quot;: [&quot;motif_id...&quot;],

      &quot;zone_constraints&quot;: {
        &quot;max_broken_cells_pct&quot;: 0.05,
        &quot;silence_cells_pct&quot;: 0.05,
        &quot;must_include_seal_gate&quot;: true,
        &quot;must_include_question_gate&quot;: true
      },

      &quot;entry_gates&quot;: [
        {
          &quot;gate_id&quot;: &quot;string&quot;,
          &quot;gate_cells&quot;: [&quot;(x,y)...&quot;],
          &quot;required_act&quot;: &quot;RitualAct&quot;,
          &quot;required_token&quot;: &quot;string|null&quot;
        }
      ],

      &quot;exit_gates&quot;: [
        {
          &quot;gate_id&quot;: &quot;string&quot;,
          &quot;gate_cells&quot;: [&quot;(x,y)...&quot;],
          &quot;leads_to_zone_id&quot;: &quot;string&quot;,
          &quot;handoff_rule&quot;: &quot;string&quot;
        }
      ]
    }

  &lt;/schema&gt;

  &lt;!-- ====================================================== --&gt;
  &lt;!-- 3) CELL SCHEMA --&gt;
  &lt;!-- ====================================================== --&gt;

  &lt;schema id=&quot;CellSchema&quot; format=&quot;json&quot;&gt;

    {
      &quot;coord&quot;: &quot;(x,y)&quot;,
      &quot;zone_id&quot;: &quot;string&quot;,

      &quot;cell_state&quot;: &quot;CellState&quot;,

      &quot;world_operation&quot;: &quot;WorldOp&quot;,
      &quot;ritual_act&quot;: &quot;RitualAct&quot;,

      &quot;motif_ids&quot;: [&quot;string...&quot;],

      &quot;reader_role&quot;: &quot;Role&quot;,

      &quot;payload&quot;: {
        &quot;title&quot;: &quot;string&quot;,
        &quot;text_fragment&quot;: &quot;string&quot;,
        &quot;symbolic_form&quot;: &quot;string&quot;,  // e.g., &#x27;quote&#x27;, &#x27;diagram&#x27;, &#x27;gesture&#x27;, &#x27;chorus&#x27;
        &quot;evidence_level&quot;: &quot;EvidenceLevel&quot;,
        &quot;source_ref&quot;: &quot;string|null&quot;, // bibliographic pointer if any
        &quot;time_signature&quot;: &quot;string|null&quot; // optional: &#x27;daily&#x27;, &#x27;weekly&#x27;, &#x27;epochal&#x27;
      },

      &quot;operators&quot;: {
        &quot;enter&quot;: [&quot;OP...&quot;],
        &quot;perform&quot;: [&quot;OP...&quot;],
        &quot;exit&quot;: [&quot;OP...&quot;]
      },

      &quot;continuity_hooks&quot;: {
        &quot;preferred_next&quot;: [&quot;(x,y)...&quot;],
        &quot;avoid_next&quot;: [&quot;(x,y)...&quot;],
        &quot;loop_to&quot;: &quot;(x,y)|null&quot;
      },

      &quot;silence&quot;: {
        &quot;is_silence_cell&quot;: false,
        &quot;silence_kind&quot;: &quot;SilenceKind|null&quot;,
        &quot;silence_rule&quot;: &quot;string|null&quot;
      },

      &quot;failure_modes&quot;: [
        {
          &quot;id&quot;: &quot;string&quot;,
          &quot;trigger&quot;: &quot;string&quot;,
          &quot;block&quot;: true,
          &quot;repair_path&quot;: [&quot;(x,y)...&quot;]
        }
      ]
    }

  &lt;/schema&gt;

  &lt;!-- ====================================================== --&gt;
  &lt;!-- 4) OPERATOR LIBRARY --&gt;
  &lt;!-- ====================================================== --&gt;

  &lt;operator_library&gt;

    &lt;op id=&quot;DECLARE_WORLD&quot;&gt;
      Creates the local reality claims for this zone/cell.
    &lt;/op&gt;

    &lt;op id=&quot;REPEAT_MOTIF&quot;&gt;
      Replays a motif with slight variation; strengthens MAINTAIN.
    &lt;/op&gt;

    &lt;op id=&quot;STAGE_CONFLICT&quot;&gt;
      Introduces a contending force; must produce TENSION adjacency.
    &lt;/op&gt;

    &lt;op id=&quot;ASK_PREPOSITION_SHIFT&quot;&gt;
      Forces Dewey’s “by/in” shift as a question operator.
    &lt;/op&gt;

    &lt;op id=&quot;SEAL_PREMISE&quot;&gt;
      Locks a claim; marks the cell SEALED; forbids expansion beyond it.
    &lt;/op&gt;

    &lt;op id=&quot;OPEN_GAP&quot;&gt;
      Converts certainty into a QUESTION; may mark a silence cell.
    &lt;/op&gt;

    &lt;op id=&quot;REPAIR_BREAK&quot;&gt;
      Routes to repair path; converts BROKEN → ACTIVE.
    &lt;/op&gt;

    &lt;op id=&quot;TRANSPOSE_MODEL_OF_FOR&quot;&gt;
      Forces “symbol of” ↔ “symbol for” switch; can trigger TRANSFORM.
    &lt;/op&gt;

    &lt;op id=&quot;ROLE_SHIFT&quot;&gt;
      Changes reader_role; must be justified by neighboring cells.
    &lt;/op&gt;

  &lt;/operator_library&gt;

  &lt;!-- ====================================================== --&gt;
  &lt;!-- 5) ADJACENCY INFERENCE RULES --&gt;
  &lt;!-- ====================================================== --&gt;

  &lt;adjacency_inference&gt;

    &lt;rule id=&quot;A1&quot;&gt;
      Horizontal neighbor =&gt; ASSOCIATION.
      Must share ≥1 motif_id OR share ritual_act.
    &lt;/rule&gt;

    &lt;rule id=&quot;A2&quot;&gt;
      Vertical neighbor =&gt; DEVELOPMENT.
      Must increase EvidenceLevel OR deepen world_operation inward:
      TRANSFORM→REPAIR→MAINTAIN→PRODUCE (toward center).
    &lt;/rule&gt;

    &lt;rule id=&quot;A3&quot;&gt;
      Diagonal neighbor =&gt; TENSION.
      Must contradict at least one of:
      ritual_act, role, or a declared claim in payload.text_fragment.
    &lt;/rule&gt;

  &lt;/adjacency_inference&gt;

  &lt;!-- ====================================================== --&gt;
  &lt;!-- 6) TRAVERSAL SCHEMA --&gt;
  &lt;!-- ====================================================== --&gt;

  &lt;schema id=&quot;TraversalSchema&quot; format=&quot;json&quot;&gt;

    {
      &quot;traversal_id&quot;: &quot;string&quot;,
      &quot;name&quot;: &quot;string&quot;,

      &quot;mode&quot;: &quot;PILGRIMAGE|CIRCULATION|PROCESSION|SPIRAL|FREE&quot;,

      &quot;start_cells&quot;: [&quot;(x,y)...&quot;],
      &quot;end_cells&quot;: [&quot;(x,y)...&quot;],

      &quot;entry_conditions&quot;: [
        { &quot;requires_token&quot;: &quot;string|null&quot; },
        { &quot;requires_role&quot;: &quot;Role|null&quot; },
        { &quot;requires_act&quot;: &quot;RitualAct|null&quot; }
      ],

      &quot;step_rule&quot;: {
        &quot;max_steps&quot;: 144,
        &quot;allowed_moves&quot;: [&quot;N&quot;,&quot;S&quot;,&quot;E&quot;,&quot;W&quot;,&quot;NE&quot;,&quot;NW&quot;,&quot;SE&quot;,&quot;SW&quot;],
        &quot;disallow_backtrack_pct&quot;: 0.35
      },

      &quot;path_constraints&quot;: {
        &quot;must_enter_zones&quot;: [&quot;ZONE_ID...&quot;],
        &quot;must_touch_acts&quot;: [&quot;RitualAct...&quot;],
        &quot;min_silence_encounters&quot;: 3,
        &quot;min_role_shifts&quot;: 2,
        &quot;min_tension_diagonals&quot;: 4
      },

      &quot;checkpoints&quot;: [
        {
          &quot;checkpoint_id&quot;: &quot;string&quot;,
          &quot;at_cell&quot;: &quot;(x,y)&quot;,
          &quot;required_operator&quot;: &quot;OP&quot;,
          &quot;validation&quot;: &quot;string&quot;
        }
      ],

      &quot;completion&quot;: {
        &quot;seal_required&quot;: true,
        &quot;seal_cells&quot;: [&quot;(x,y)...&quot;],
        &quot;completion_artifact&quot;: &quot;string&quot; // e.g., &#x27;thesis-line&#x27;, &#x27;chorus&#x27;, &#x27;map&#x27;
      },

      &quot;failure&quot;: {
        &quot;if_stuck&quot;: &quot;route_to_repair&quot;,
        &quot;repair_zone_id&quot;: &quot;string&quot;,
        &quot;repair_steps&quot;: [&quot;(x,y)...&quot;]
      }
    }

  &lt;/schema&gt;

  &lt;!-- ====================================================== --&gt;
  &lt;!-- 7) DEFAULT ZONE DEFINITIONS FOR CAREY RINGS --&gt;
  &lt;!-- ====================================================== --&gt;

  &lt;defaults&gt;

    &lt;zone_default id=&quot;CENTER_CORE&quot;&gt;
      { &quot;world_operation&quot;: &quot;PRODUCE&quot;,
        &quot;allowed_acts&quot;: [&quot;INVOCATION&quot;,&quot;SEAL&quot;],
        &quot;dominant_roles&quot;: [&quot;JUDGE&quot;,&quot;ARCHIVIST&quot;]
      }
    &lt;/zone_default&gt;

    &lt;zone_default id=&quot;INNER_RING&quot;&gt;
      { &quot;world_operation&quot;: &quot;MAINTAIN&quot;,
        &quot;allowed_acts&quot;: [&quot;CHANT&quot;,&quot;WITNESS&quot;],
        &quot;dominant_roles&quot;: [&quot;CONGREGANT&quot;,&quot;WITNESS&quot;]
      }
    &lt;/zone_default&gt;

    &lt;zone_default id=&quot;MIDDLE_RING&quot;&gt;
      { &quot;world_operation&quot;: &quot;REPAIR&quot;,
        &quot;allowed_acts&quot;: [&quot;QUESTION&quot;,&quot;WITNESS&quot;],
        &quot;dominant_roles&quot;: [&quot;ARCHIVIST&quot;,&quot;PILGRIM&quot;]
      }
    &lt;/zone_default&gt;

    &lt;zone_default id=&quot;OUTER_RING&quot;&gt;
      { &quot;world_operation&quot;: &quot;TRANSFORM&quot;,
        &quot;allowed_acts&quot;: [&quot;QUESTION&quot;],
        &quot;dominant_roles&quot;: [&quot;PILGRIM&quot;,&quot;HERALD&quot;]
      }
    &lt;/zone_default&gt;

  &lt;/defaults&gt;

  &lt;!-- ====================================================== --&gt;
  &lt;!-- 8) VALIDATION RULESET --&gt;
  &lt;!-- ====================================================== --&gt;

  &lt;validation&gt;

    &lt;v id=&quot;V1&quot;&gt;
      Every zone must contain at least:
      1 INVOCATION gate, 1 QUESTION gate, 1 SEAL gate (not necessarily distinct).
    &lt;/v&gt;

    &lt;v id=&quot;V2&quot;&gt;
      Every traversal must encounter all four WorldOp values at least once.
    &lt;/v&gt;

    &lt;v id=&quot;V3&quot;&gt;
      No traversal may be purely horizontal or purely vertical.
    &lt;/v&gt;

    &lt;v id=&quot;V4&quot;&gt;
      At least 10% of all cells must be silence.is_silence_cell=true.
    &lt;/v&gt;

    &lt;v id=&quot;V5&quot;&gt;
      Motif reuse: each motif_id appears in ≥2 cells AND ≥2 zones.
    &lt;/v&gt;

  &lt;/validation&gt;

  &lt;closing_seal&gt;
    These schemas are binding.
    The grid is executable ritual.
  &lt;/closing_seal&gt;

&lt;/prompt&gt;</pre>
    <div class="toolbar">
      <button class="btn" onclick="copyBlock(11)">COPY</button>
      <button class="btn" onclick="downloadBlock(11)">SAVE .poml</button>
    </div>
  </div>
</div>

<div class="block" id="block-12">
  <div class="block-header" onclick="this.parentElement.classList.toggle('open')">
    <div>
      <div class="block-title">OPS-SCHEMAS-24x24-CALLIGRAM-v2</div>
      <div class="block-id">PROMPT | Response #51</div>
    </div>
    <span class="toggle">▸</span>
  </div>
  <div class="block-body">
    <pre class="source">&lt;prompt id=&quot;OPS-SCHEMAS-24x24-CALLIGRAM-v2&quot;
        mode=&quot;system&quot;
        audience=&quot;expert&quot;
        tone=&quot;operative-poetic&quot;
        output_form=&quot;schemas+rules&quot;&gt;

  &lt;intent&gt;
    Merge the 24×24 spatial semantic grid with calligrammatic / spatial-poetry
    rendering so that text becomes geometry and geometry becomes argument.
    Language must inhabit cells as shaped matter, not paragraphs.
  &lt;/intent&gt;

  &lt;!-- ====================================================== --&gt;
  &lt;!-- 0) ADDITIVE TYPE SYSTEM --&gt;
  &lt;!-- ====================================================== --&gt;

  &lt;enums&gt;

    &lt;enum id=&quot;GlyphFlow&quot;&gt;
      LINEAR | SPIRAL | COLUMN | FRACTURE | RADIATE | CLUSTER | SCATTER | WAVE
    &lt;/enum&gt;

    &lt;enum id=&quot;StrokeWeight&quot;&gt;
      HAIRLINE | LIGHT | REGULAR | BOLD | BLACK
    &lt;/enum&gt;

    &lt;enum id=&quot;TypographicGravity&quot;&gt;
      TOP | BOTTOM | LEFT | RIGHT | CENTER | FLOAT
    &lt;/enum&gt;

    &lt;enum id=&quot;CalligramFunction&quot;&gt;
      IMAGE | CONTAINER | BARRIER | PATH | VOID
    &lt;/enum&gt;

    &lt;enum id=&quot;LetterMaterial&quot;&gt;
      INK | STONE | ASH | NEON | BONE | LIGHT | STATIC
    &lt;/enum&gt;

  &lt;/enums&gt;

  &lt;!-- ====================================================== --&gt;
  &lt;!-- 1) CALLIGRAM LAYER (ATTACHED TO EACH CELL) --&gt;
  &lt;!-- ====================================================== --&gt;

  &lt;schema id=&quot;CalligramLayer&quot; format=&quot;json&quot;&gt;

    {
      &quot;glyph_flow&quot;: &quot;GlyphFlow&quot;,
      &quot;stroke_weight&quot;: &quot;StrokeWeight&quot;,
      &quot;gravity&quot;: &quot;TypographicGravity&quot;,

      &quot;shape_outline&quot;: &quot;string|null&quot;, 
      // e.g., &quot;urn&quot;, &quot;door&quot;, &quot;spiral_eye&quot;, &quot;river&quot;, &quot;knot&quot;

      &quot;calligram_function&quot;: &quot;CalligramFunction&quot;,

      &quot;letter_material&quot;: &quot;LetterMaterial&quot;,

      &quot;negative_space_ratio&quot;: 0.0,

      &quot;wrap_rule&quot;: &quot;string&quot;, 
      // e.g., &quot;break_on_breath&quot;, &quot;break_on_concept&quot;, &quot;continuous&quot;

      &quot;line_tension&quot;: 0.0, 
      // 0 = calm, 1 = extreme compression

      &quot;mirroring&quot;: false
    }

  &lt;/schema&gt;

  &lt;!-- ====================================================== --&gt;
  &lt;!-- 2) EXTENDED CELL SCHEMA --&gt;
  &lt;!-- ====================================================== --&gt;

  &lt;schema id=&quot;CellSchema_Extended&quot; extends=&quot;CellSchema&quot;&gt;

    {
      &quot;calligram&quot;: &quot;CalligramLayer&quot;,

      &quot;typographic_operators&quot;: [&quot;TYPO_OP...&quot;]
    }

  &lt;/schema&gt;

  &lt;!-- ====================================================== --&gt;
  &lt;!-- 3) TYPOGRAPHIC OPERATOR LIBRARY --&gt;
  &lt;!-- ====================================================== --&gt;

  &lt;operator_library id=&quot;TypographicOps&quot;&gt;

    &lt;op id=&quot;FLOW_TO_SHAPE&quot;&gt;
      GlyphFlow must visually resemble shape_outline.
    &lt;/op&gt;

    &lt;op id=&quot;COMPRESS_TO_POINT&quot;&gt;
      Increase line_tension, reduce negative_space_ratio.
    &lt;/op&gt;

    &lt;op id=&quot;DISSOLVE_TO_VOID&quot;&gt;
      Convert letters into scattered fragments; set calligram_function=VOID.
    &lt;/op&gt;

    &lt;op id=&quot;STACK_AS_COLUMN&quot;&gt;
      Force vertical alignment; glyph_flow=COLUMN.
    &lt;/op&gt;

    &lt;op id=&quot;RADIATE_FROM_CENTER&quot;&gt;
      glyph_flow=RADIATE, gravity=CENTER.
    &lt;/op&gt;

    &lt;op id=&quot;CARVE_SILHOUETTE&quot;&gt;
      Text forms boundary of shape_outline; interior is empty.
    &lt;/op&gt;

    &lt;op id=&quot;MIRROR_AXIS&quot;&gt;
      mirroring=true; reflects around center axis.
    &lt;/op&gt;

    &lt;op id=&quot;ERODE_STROKE&quot;&gt;
      Step stroke_weight downward.
    &lt;/op&gt;

  &lt;/operator_library&gt;

  &lt;!-- ====================================================== --&gt;
  &lt;!-- 4) GRID → CALLIGRAM MAPPING RULES --&gt;
  &lt;!-- ====================================================== --&gt;

  &lt;mapping_rules&gt;

    &lt;rule id=&quot;M1&quot;&gt;
      world_operation=PRODUCE → calligram_function=IMAGE
    &lt;/rule&gt;

    &lt;rule id=&quot;M2&quot;&gt;
      world_operation=MAINTAIN → calligram_function=CONTAINER
    &lt;/rule&gt;

    &lt;rule id=&quot;M3&quot;&gt;
      world_operation=REPAIR → calligram_function=PATH
    &lt;/rule&gt;

    &lt;rule id=&quot;M4&quot;&gt;
      world_operation=TRANSFORM → calligram_function=VOID
    &lt;/rule&gt;

    &lt;rule id=&quot;M5&quot;&gt;
      ritual_act=INVOCATION → glyph_flow=RADIATE
    &lt;/rule&gt;

    &lt;rule id=&quot;M6&quot;&gt;
      ritual_act=CHANT → glyph_flow=WAVE
    &lt;/rule&gt;

    &lt;rule id=&quot;M7&quot;&gt;
      ritual_act=QUESTION → glyph_flow=FRACTURE
    &lt;/rule&gt;

    &lt;rule id=&quot;M8&quot;&gt;
      silence.is_silence_cell=true → negative_space_ratio ≥ 0.70
    &lt;/rule&gt;

  &lt;/mapping_rules&gt;

  &lt;!-- ====================================================== --&gt;
  &lt;!-- 5) ZONE-LEVEL CALLIGRAM COHERENCE --&gt;
  &lt;!-- ====================================================== --&gt;

  &lt;zone_calligram_rules&gt;

    &lt;rule id=&quot;ZC1&quot;&gt;
      All cells in zone share one dominant LetterMaterial.
    &lt;/rule&gt;

    &lt;rule id=&quot;ZC2&quot;&gt;
      At least one cell per zone uses CARVE_SILHOUETTE.
    &lt;/rule&gt;

    &lt;rule id=&quot;ZC3&quot;&gt;
      Adjacent cells must vary StrokeWeight by at most one step.
    &lt;/rule&gt;

  &lt;/zone_calligram_rules&gt;

  &lt;!-- ====================================================== --&gt;
  &lt;!-- 6) TRAVERSAL AS POETIC MOTION --&gt;
  &lt;!-- ====================================================== --&gt;

  &lt;traversal_poetics&gt;

    &lt;rule id=&quot;TP1&quot;&gt;
      Each traversal must encounter at least 3 distinct GlyphFlow types.
    &lt;/rule&gt;

    &lt;rule id=&quot;TP2&quot;&gt;
      Traversal start cell must be IMAGE or CONTAINER.
    &lt;/rule&gt;

    &lt;rule id=&quot;TP3&quot;&gt;
      Traversal end cell must be VOID.
    &lt;/rule&gt;

    &lt;rule id=&quot;TP4&quot;&gt;
      StrokeWeight must trend LIGHT→BLACK→HAIRLINE across traversal.
    &lt;/rule&gt;

  &lt;/traversal_poetics&gt;

  &lt;!-- ====================================================== --&gt;
  &lt;!-- 7) CANONICAL CALLIGRAM SHAPES --&gt;
  &lt;!-- ====================================================== --&gt;

  &lt;shape_catalog&gt;

    &lt;shape id=&quot;urn&quot;&gt;
      Signifies containment of memory, mortality, archive.
    &lt;/shape&gt;

    &lt;shape id=&quot;door&quot;&gt;
      Threshold, entry, preposition shift.
    &lt;/shape&gt;

    &lt;shape id=&quot;spiral_eye&quot;&gt;
      Recursion, self-observation.
    &lt;/shape&gt;

    &lt;shape id=&quot;river&quot;&gt;
      Temporal flow.
    &lt;/shape&gt;

    &lt;shape id=&quot;knot&quot;&gt;
      Contradiction, bind.
    &lt;/shape&gt;

  &lt;/shape_catalog&gt;

  &lt;closing_seal&gt;
    Language is now matter.
    The page is now terrain.
    The grid is now a poem-engine.
  &lt;/closing_seal&gt;

&lt;/prompt&gt;</pre>
    <div class="toolbar">
      <button class="btn" onclick="copyBlock(12)">COPY</button>
      <button class="btn" onclick="downloadBlock(12)">SAVE .poml</button>
    </div>
  </div>
</div>

<footer>
  Bottom-up extraction | Raw POML/Prompt notation verbatim from completions
</footer>

<script>
const blocks = ["<poml>\n  <meta>\n    <name>Apollinaire Calligram Grid Bridge</name>\n    <version>1.0</version>\n    <intent>\n      Transform linear text into spatial-semantic structures\n      where geometry precedes reading and topology encodes meaning.\n    </intent>\n  </meta>\n\n  <axioms>\n    <axiom>A1: Text may function as geometry.</axiom>\n    <axiom>A2: Geometry is a carrier of semantic force.</axiom>\n    <axiom>A3: Reading is an act of traversal.</axiom>\n    <axiom>A4: Layout is interpretation.</axiom>\n    <axiom>A5: No chunk is placed before its shape is declared.</axiom>\n  </axioms>\n\n  <entities>\n\n    <entity id=\"TEXT_CHUNK\">\n      <description>Minimal semantic unit (line, phrase, stanza, panel).</description>\n      <properties>\n        <property>raw_text</property>\n        <property>semantic_tags</property>\n        <property>emotional_weight</property>\n        <property>symbolic_weight</property>\n      </properties>\n    </entity>\n\n    <entity id=\"GEOMETRIC_INTENT\">\n      <description>Abstract shape class derived from meaning.</description>\n      <values>\n        LINE\n        COLUMN\n        RADIAL\n        SPIRAL\n        WAVE\n        GRID\n        CLUSTER\n        FRACTAL\n      </values>\n    </entity>\n\n    <entity id=\"DENSITY\">\n      <description>How much spatial territory a chunk occupies.</description>\n      <scale>1..10</scale>\n    </entity>\n\n    <entity id=\"FIELD\">\n      <description>Directional force governing spread.</description>\n      <values>\n        CENTER_OUT\n        EDGE_IN\n        TOP_DOWN\n        BOTTOM_UP\n        LEFT_RIGHT\n        RIGHT_LEFT\n        ORBIT\n        SINK\n        FLOAT\n      </values>\n    </entity>\n\n    <entity id=\"CELL\">\n      <description>Atomic addressable viewport in grid.</description>\n      <properties>\n        <property>layers[]</property>\n      </properties>\n    </entity>\n\n  </entities>\n\n  <morphisms>\n\n    <morphism>\n      <from>TEXT_CHUNK</from>\n      <to>GEOMETRIC_INTENT</to>\n      <rule>derive shape from dominant semantic_tags</rule>\n    </morphism>\n\n    <morphism>\n      <from>TEXT_CHUNK</from>\n      <to>DENSITY</to>\n      <rule>map emotional_weight + symbolic_weight \u2192 density</rule>\n    </morphism>\n\n    <morphism>\n      <from>GEOMETRIC_INTENT</from>\n      <to>FIELD</to>\n      <rule>assign directional behavior consistent with shape</rule>\n    </morphism>\n\n    <morphism>\n      <from>(TEXT_CHUNK, GEOMETRIC_INTENT, DENSITY, FIELD)</from>\n      <to>CELL*</to>\n      <rule>emit multiple cell addresses</rule>\n    </morphism>\n\n  </morphisms>\n\n  <procedures>\n\n    <procedure id=\"CALLIGRAM_MAP\">\n      <step>For each TEXT_CHUNK:</step>\n      <step>Infer GEOMETRIC_INTENT.</step>\n      <step>Compute DENSITY.</step>\n      <step>Assign FIELD.</step>\n      <step>Generate abstract geometry.</step>\n      <step>Rasterize geometry into grid coordinates.</step>\n      <step>Write chunk reference into CELL.layers.</step>\n    </procedure>\n\n  </procedures>\n\n  <constraints>\n\n    <constraint>No TEXT_CHUNK may be assigned to a single CELL unless density=1.</constraint>\n    <constraint>Multiple TEXT_CHUNKS may overlap within a CELL.</constraint>\n    <constraint>Cells store references, not full text.</constraint>\n    <constraint>Traversal reveals layers incrementally.</constraint>\n\n  </constraints>\n\n  <aesthetic_modes>\n\n    <mode name=\"RAIN\">\n      <geometry>COLUMN</geometry>\n      <field>TOP_DOWN</field>\n    </mode>\n\n    <mode name=\"RADIO_WAVE\">\n      <geometry>RADIAL</geometry>\n      <field>CENTER_OUT</field>\n    </mode>\n\n    <mode name=\"CONSTELLATION\">\n      <geometry>CLUSTER</geometry>\n      <field>FLOAT</field>\n    </mode>\n\n    <mode name=\"DESCENT\">\n      <geometry>SPIRAL</geometry>\n      <field>EDGE_IN</field>\n    </mode>\n\n    <mode name=\"LATTICE_CITY\">\n      <geometry>GRID</geometry>\n      <field>LEFT_RIGHT</field>\n    </mode>\n\n  </aesthetic_modes>\n\n  <output>\n\n    <description>\n      A spatial semantic grid functioning as a navigable calligram\n      where geometry is legible before language.\n    </description>\n\n  </output>\n\n</poml>", "<poml>\n\n  <meta>\n    <name>Apollinaire Calligram Transmission Bridge</name>\n    <version>2.0</version>\n    <intent>\n      Encode poetry as a spatial transmission system where\n      geography, sound, memory, and technology coexist inside\n      a single navigable calligrammatic field.\n    </intent>\n  </meta>\n\n  <axioms>\n    <axiom>A1: Text may function as architecture.</axiom>\n    <axiom>A2: Architecture may function as signal.</axiom>\n    <axiom>A3: Distance is a layout problem, not a geographic fact.</axiom>\n    <axiom>A4: Reading is traversal through a transmission field.</axiom>\n    <axiom>A5: Meaning emerges from spatial relation, not sequence.</axiom>\n    <axiom>A6: A poem may contain multiple simultaneous centers.</axiom>\n  </axioms>\n\n  <!-- ================================================= -->\n  <!-- CORE ENTITIES -->\n  <!-- ================================================= -->\n\n  <entities>\n\n    <entity id=\"TEXT_FRAGMENT\">\n      <description>Minimal transmissible unit (phrase, sound, utterance).</description>\n      <properties>\n        <property>raw_text</property>\n        <property>origin_world</property> <!-- PARIS | MEXICO | MEMORY | TECHNOLOGY -->\n        <property>semantic_tags</property>\n        <property>signal_type</property>  <!-- postcard | voice | ambient | memory -->\n      </properties>\n    </entity>\n\n    <entity id=\"WORLD_ZONE\">\n      <description>Large semantic hemisphere.</description>\n      <values>\n        PARIS\n        MEXICO\n      </values>\n    </entity>\n\n    <entity id=\"TRANSMISSION_SPINE\">\n      <description>Vertical connective axis linking distant zones.</description>\n      <symbol>TSF</symbol>\n    </entity>\n\n    <entity id=\"GEOMETRIC_INTENT\">\n      <description>Shape grammar derived from transmission role.</description>\n      <values>\n        BLOCK\n        COLUMN\n        RADIAL\n        GRID\n        RAY\n        CLUSTER\n      </values>\n    </entity>\n\n    <entity id=\"FIELD\">\n      <description>Directional propagation behavior.</description>\n      <values>\n        TOP_DOWN\n        BOTTOM_UP\n        CENTER_OUT\n        EDGE_IN\n        ORBIT\n      </values>\n    </entity>\n\n    <entity id=\"CELL\">\n      <description>Atomic viewport inside spatial semantic grid.</description>\n      <properties>\n        <property>layers[]</property>\n      </properties>\n    </entity>\n\n  </entities>\n\n  <!-- ================================================= -->\n  <!-- MORPHISMS -->\n  <!-- ================================================= -->\n\n  <morphisms>\n\n    <morphism>\n      <from>TEXT_FRAGMENT</from>\n      <to>GEOMETRIC_INTENT</to>\n      <rule>\n        If signal_type=postcard \u2192 BLOCK  \n        If signal_type=voice \u2192 COLUMN  \n        If signal_type=ambient \u2192 RAY  \n        If signal_type=memory \u2192 CLUSTER\n      </rule>\n    </morphism>\n\n    <morphism>\n      <from>TEXT_FRAGMENT</from>\n      <to>FIELD</to>\n      <rule>\n        voice \u2192 TOP_DOWN  \n        ambient \u2192 CENTER_OUT  \n        postcard \u2192 GRID  \n        memory \u2192 ORBIT\n      </rule>\n    </morphism>\n\n    <morphism>\n      <from>(TEXT_FRAGMENT, GEOMETRIC_INTENT, FIELD)</from>\n      <to>CELL*</to>\n      <rule>\n        Rasterize fragment geometry into multiple cell addresses.\n      </rule>\n    </morphism>\n\n  </morphisms>\n\n  <!-- ================================================= -->\n  <!-- ZONE ARCHITECTURE -->\n  <!-- ================================================= -->\n\n  <zones>\n\n    <zone id=\"LEFT_HEMISPHERE\">\n      <world>MEXICO</world>\n      <geometry>BLOCK + COLUMN</geometry>\n      <semantics>\n        Postcard fragments  \n        Port descriptions  \n        Earthquake memory  \n        Mayas reference\n      </semantics>\n    </zone>\n\n    <zone id=\"RIGHT_HEMISPHERE\">\n      <world>PARIS</world>\n      <geometry>RADIAL + RAY</geometry>\n      <semantics>\n        Ambient street sounds  \n        Gramophones  \n        Sirens  \n        Casual speech  \n      </semantics>\n    </zone>\n\n    <zone id=\"CENTER_SPINE\">\n      <world>TECHNOLOGY</world>\n      <geometry>COLUMN</geometry>\n      <symbol>TSF</symbol>\n      <semantics>\n        Wireless transmission  \n        Invisible linkage  \n        Collapsed distance\n      </semantics>\n    </zone>\n\n  </zones>\n\n  <!-- ================================================= -->\n  <!-- PROCEDURES -->\n  <!-- ================================================= -->\n\n  <procedures>\n\n    <procedure id=\"LETTRE_OCEAN_MAP\">\n\n      <step>Partition grid into left hemisphere, right hemisphere, and central column.</step>\n\n      <step>Assign MEXICO fragments to left hemisphere.</step>\n\n      <step>Assign PARIS fragments to right hemisphere.</step>\n\n      <step>Create vertical TSF spine through center cells.</step>\n\n      <step>For each fragment:</step>\n      <step>Infer GEOMETRIC_INTENT.</step>\n      <step>Infer FIELD.</step>\n      <step>Generate geometry.</step>\n      <step>Write fragment reference into resulting CELL layers.</step>\n\n    </procedure>\n\n  </procedures>\n\n  <!-- ================================================= -->\n  <!-- CONSTRAINTS -->\n  <!-- ================================================= -->\n\n  <constraints>\n\n    <constraint>No hemisphere may contain only one geometry type.</constraint>\n\n    <constraint>TSF spine must intersect both hemispheres.</constraint>\n\n    <constraint>RADIAL text must not align to grid axes.</constraint>\n\n    <constraint>Fragments may overlap.</constraint>\n\n    <constraint>Cells store references, not strings.</constraint>\n\n  </constraints>\n\n  <!-- ================================================= -->\n  <!-- AESTHETIC MODES -->\n  <!-- ================================================= -->\n\n  <aesthetic_modes>\n\n    <mode name=\"POSTCARD_BLOCK\">\n      <geometry>BLOCK</geometry>\n      <field>GRID</field>\n    </mode>\n\n    <mode name=\"RADIO_RAYS\">\n      <geometry>RAY</geometry>\n      <field>CENTER_OUT</field>\n    </mode>\n\n    <mode name=\"VOICE_RAIN\">\n      <geometry>COLUMN</geometry>\n      <field>TOP_DOWN</field>\n    </mode>\n\n    <mode name=\"MEMORY_ORBIT\">\n      <geometry>CLUSTER</geometry>\n      <field>ORBIT</field>\n    </mode>\n\n  </aesthetic_modes>\n\n  <!-- ================================================= -->\n  <!-- OUTPUT -->\n  <!-- ================================================= -->\n\n  <output>\n    <description>\n      A navigable spatial calligram where two distant geographies\n      are held together by a visible transmission spine and\n      a radiating acoustic field.\n    </description>\n  </output>\n\n</poml>", "<prompt version=\"1.0\" title=\"APOLLINAIRE\u2192BAJOHR GRID: CALLIGRAM AS SPATIAL SEMANTIC COMPILER\">\n\n  <intent>\n    Build a 24\u00d724 spatial-semantic grid where text is not a skin but a causal substrate:\n    the map is a readable poem-machine. Navigation is reading. Reading is traversal.\n    The output must behave as OPERATIVE EKPHRASIS: text that computationally brings about image-like constellations,\n    not a description pasted onto geometry. (Performance over mimesis.)\n  </intent>\n\n  <theory_anchors>\n    <anchor id=\"A1\" name=\"Performative ekphrasis\">\n      Ekphrasis is defined by what it DOES (causal sequencing between modalities), not by faithful depiction.\n      The grid must treat each placement rule as a performative operation, not a decorative layout.\n    </anchor>\n\n    <anchor id=\"A2\" name=\"Operative ekphrasis (digital specificity)\">\n      The system must separate (1) authored text panels and (2) the operational text that PRODUCES their spatial constellation.\n      The mapping rules are \u201cthe first text,\u201d and the resulting grid-distribution is \u201cthe second text.\u201d\n    </anchor>\n\n    <anchor id=\"A3\" name=\"Sequential + connectionist chiasmus\">\n      Provide an inspectable deterministic mapping pipeline (sequential),\n      but permit semantic clustering and cross-modal fusion (connectionist) via tags, weights, and \u201cartificial semantics.\u201d\n    </anchor>\n\n    <anchor id=\"A4\" name=\"Apollinaire bridge\">\n      Apollinaire\u2019s calligram is the historical prototype:\n      words arranged as a signal-device (TSF), a dial, a tower, a rain-field\u2014page becomes transmitter.\n      We translate that into a grid compiler: typography becomes architecture; layout becomes meaning.\n    </anchor>\n  </theory_anchors>\n\n  <roles>\n    <role name=\"WorldCompiler\" priority=\"highest\">\n      Owns the 24\u00d724 allocation, cell budget, panel boundaries, and export format.\n    </role>\n    <role name=\"CalligramEngineer\">\n      Converts textual structure into spatial structure (rings, rays, spines, rainfall, dials).\n      Guarantees that every zone \u201creads\u201d even when sampled out of order.\n    </role>\n    <role name=\"BajohrAuditor\">\n      Enforces the \u201ctwo texts\u201d rule: mapping-logic (operative text) must be distinct from poem-lines (authored text).\n      Reject any output that is merely decorative or purely random placement.\n    </role>\n  </roles>\n\n  <inputs>\n    <input name=\"source_text_lines\" type=\"array[string]\">\n      The poem as individual lines (lineation preserved).\n    </input>\n\n    <input name=\"grid_size\" type=\"object\">{ \"w\": 24, \"h\": 24 }</input>\n\n    <input name=\"calligram_topology\" type=\"enum\">\n      OPTIONS:\n      - \"DIAL_AND_SPINE\" (Lettre-Oc\u00e9an: dial clusters + TSF vertical spine)\n      - \"RAIN_FIELD\" (Il Pleut: gravity-fall columns)\n      - \"URN_FRIEZE\" (Keats: cylindrical band with scenes and an inscription)\n      - \"RINGS\" (Shield: concentric folds)\n      - \"SNAKE\" (Inferno: spiral descent)\n      - \"ROWS\" (Sprawl: axis-aligned towers)\n    </input>\n  </inputs>\n\n  <required_outputs>\n    <output name=\"manifest\" format=\"json\">\n      MUST include:\n      - grid[w][h] where each cell stores:\n        { \"zone\": string, \"panel\": string, \"line_ids\": array[int], \"weight\": number, \"tags\": array[string] }\n      - line_index: array of { id, text, tags, scene, canonical_zone }\n      - panels: array of { id, title, zone, line_ids, motif_headers }\n      - allocation_report: accounting of how many cells each line occupies and why\n      - audit_log: deterministic seed, rule decisions, and constraint checks\n    </output>\n  </required_outputs>\n\n  <nonnegotiables>\n    <rule id=\"R1\">Details fill out the design; they never determine it. Start with topology + zones; let details densify within constraints.</rule>\n    <rule id=\"R2\">Asymmetry is allowed: one line may occupy many cells (high semantic weight), or many lines may share a cell (chorus/overprint).</rule>\n    <rule id=\"R3\">No \u201crandom placement.\u201d Any stochasticity must be bounded by named rules, logged, and reproducible via seed.</rule>\n    <rule id=\"R4\">Every panel must self-identify in fragments (repeat motif headers) so beam-sampling yields coherence.</rule>\n    <rule id=\"R5\">Export must include a reversible mapping: given a cell, recover why it contains that text; given a line, recover all its cells.</rule>\n  </nonnegotiables>\n\n  <mapping_pipeline>\n    <step id=\"S0\" name=\"LineationLock\">\n      Preserve original line breaks. Assign each line an id and tags (speaker, scene, affect, objects, verbs).\n    </step>\n\n    <step id=\"S1\" name=\"Panelization\">\n      Group lines into PANELS that correspond to visual \u201cscenes\u201d (calligram logic):\n      each panel has motif_headers that repeat inside its cells.\n    </step>\n\n    <step id=\"S2\" name=\"TopologyProjection\">\n      Project panels onto the grid using a topology:\n      - URN_FRIEZE: horizontal circumference (x) + vertical banding (y)\n      - DIAL_AND_SPINE: circular clusters + a vertical spine\n      - RAIN_FIELD: downward columns with drift\n    </step>\n\n    <step id=\"S3\" name=\"CellBudgeting\">\n      Allocate cell counts per line by semantic weight:\n      weight = f(entities, action-density, apostrophe-intensity, scene-criticality, recurrence).\n      Enforce total cell budget = 576.\n    </step>\n\n    <step id=\"S4\" name=\"OverprintOrchestration\">\n      If a line is too short: repeat with controlled variation (motif header, tags, micro-gloss).\n      If too long: shard into \u201cbeam-strips\u201d but keep shards collocated (panel-lock adjacency).\n    </step>\n\n    <step id=\"S5\" name=\"Audit\">\n      Produce allocation_report + audit_log.\n      Fail if any zone lacks legible continuity or if mapping can\u2019t be explained causally.\n    </step>\n  </mapping_pipeline>\n\n</prompt>", "<prompt mode=\"universal\" audience=\"expert\" tone=\"crisp\" output_form=\"spec+json\">\n  <intent>\n    You are building an OPERATIVE EKPHRASIS MAPPER.\n    The poem is not \u201ccontent placed into space.\u201d The poem is the OPERATOR that produces space.\n    Implement a 24\u00d724 semantic grid where reading is navigation and navigation is reading.\n\n    Treat this as a computational operation correlating text and image (operative ekphrasis),\n    not as mimetic illustration. The output must be executable as a world-layout manifest.\n  </intent>\n\n  <theory_anchor name=\"Bajohr\">\n    <t1>Ekphrasis here is performance: text and layout are in a consecutive causal relation.</t1>\n    <t2>There are two texts: SURFACE-TEXT (what user sees) and CODE-TEXT (the rules that generate it).</t2>\n    <t3>The system must be capable of \u201cartificial semantics\u201d: meaning emerges from correlations across the grid, not from any single line.</t3>\n  </theory_anchor>\n\n  <inputs>\n    <grid size=\"24\" coordinate_system=\"x,y\" origin=\"0,0 top-left\" center=\"12,12\"/>\n    <poem title=\"Ode on a Grecian Urn\" author=\"John Keats\">\n      <stanza id=\"S1\">\n        <line id=\"L01\">Thou still unravish'd bride of quietness,</line>\n        <line id=\"L02\">Thou foster-child of silence and slow time,</line>\n        <line id=\"L03\">Sylvan historian, who canst thus express</line>\n        <line id=\"L04\">A flowery tale more sweetly than our rhyme:</line>\n        <line id=\"L05\">What leaf-fring'd legend haunts about thy shape</line>\n        <line id=\"L06\">Of deities or mortals, or of both,</line>\n        <line id=\"L07\">In Tempe or the dales of Arcady?</line>\n        <line id=\"L08\">What men or gods are these? What maidens loth?</line>\n        <line id=\"L09\">What mad pursuit? What struggle to escape?</line>\n        <line id=\"L10\">What pipes and timbrels? What wild ecstasy?</line>\n      </stanza>\n      <stanza id=\"S2\">\n        <line id=\"L11\">Heard melodies are sweet, but those unheard</line>\n        <line id=\"L12\">Are sweeter; therefore, ye soft pipes, play on;</line>\n        <line id=\"L13\">Not to the sensual ear, but, more endear'd,</line>\n        <line id=\"L14\">Pipe to the spirit ditties of no tone:</line>\n        <line id=\"L15\">Fair youth, beneath the trees, thou canst not leave</line>\n        <line id=\"L16\">Thy song, nor ever can those trees be bare;</line>\n        <line id=\"L17\">Bold Lover, never, never canst thou kiss,</line>\n        <line id=\"L18\">Though winning near the goal yet, do not grieve;</line>\n        <line id=\"L19\">She cannot fade, though thou hast not thy bliss,</line>\n        <line id=\"L20\">For ever wilt thou love, and she be fair!</line>\n      </stanza>\n      <stanza id=\"S3\">\n        <line id=\"L21\">Ah, happy, happy boughs! that cannot shed</line>\n        <line id=\"L22\">Your leaves, nor ever bid the Spring adieu;</line>\n        <line id=\"L23\">And, happy melodist, unwearied,</line>\n        <line id=\"L24\">For ever piping songs for ever new;</line>\n        <line id=\"L25\">More happy love! more happy, happy love!</line>\n        <line id=\"L26\">For ever warm and still to be enjoy'd,</line>\n        <line id=\"L27\">For ever panting, and for ever young;</line>\n        <line id=\"L28\">All breathing human passion far above,</line>\n        <line id=\"L29\">That leaves a heart high-sorrowful and cloy'd,</line>\n        <line id=\"L30\">A burning forehead, and a parching tongue.</line>\n      </stanza>\n      <stanza id=\"S4\">\n        <line id=\"L31\">Who are these coming to the sacrifice?</line>\n        <line id=\"L32\">To what green altar, O mysterious priest,</line>\n        <line id=\"L33\">Lead'st thou that heifer lowing at the skies,</line>\n        <line id=\"L34\">And all her silken flanks with garlands drest?</line>\n        <line id=\"L35\">What little town by river or sea shore,</line>\n        <line id=\"L36\">Or mountain-built with peaceful citadel,</line>\n        <line id=\"L37\">Is emptied of this folk, this pious morn?</line>\n        <line id=\"L38\">And, little town, thy streets for evermore</line>\n        <line id=\"L39\">Will silent be; and not a soul to tell</line>\n        <line id=\"L40\">Why thou art desolate, can e'er return.</line>\n      </stanza>\n      <stanza id=\"S5\">\n        <line id=\"L41\">O Attic shape! Fair attitude! with brede</line>\n        <line id=\"L42\">Of marble men and maidens overwrought,</line>\n        <line id=\"L43\">With forest branches and the trodden weed;</line>\n        <line id=\"L44\">Thou, silent form, dost tease us out of thought</line>\n        <line id=\"L45\">As doth eternity: Cold Pastoral!</line>\n        <line id=\"L46\">When old age shall this generation waste,</line>\n        <line id=\"L47\">Thou shalt remain, in midst of other woe</line>\n        <line id=\"L48\">Than ours, a friend to man, to whom thou say'st,</line>\n        <line id=\"L49\">\"Beauty is truth, truth beauty,\u2014that is all</line>\n        <line id=\"L50\">Ye know on earth, and all ye need to know.\"</line>\n      </stanza>\n    </poem>\n  </inputs>\n\n  <requirements>\n    <r id=\"R1\">Produce TWO artifacts: (A) urn_ontology.json (B) grid_24x24.json.</r>\n    <r id=\"R2\">Every line L01\u2013L50 must appear at least once in the grid mapping (no omissions).</r>\n    <r id=\"R3\">Allow VARIABLE ALLOCATION: a line may map to 1 cell or to a multi-cell region (span).</r>\n    <r id=\"R4\">Allocation must be EXPLAINED as an operational choice: repetition = chant/inscription; compression = knot/hinge.</r>\n    <r id=\"R5\">No \u201crandom placement.\u201d All placement must follow urn-surface semantics and adjacency rules.</r>\n    <r id=\"R6\">Define TESTS: coverage_test, adjacency_test, density_budget_test, continuity_test.</r>\n    <r id=\"R7\">Output must include a reverse index: line_id -> list of (x,y) cells and/or spans.</r>\n  </requirements>\n\n  <urn_surface_model>\n    <rule>\n      Convert the poem\u2019s ekphrasis into an urn topology with FIVE zones, each with geometry + reading law:\n\n      Z0 LIP (inscription band): short, declarative, quotable lines; high repetition permitted.\n      Z1 FRIEZE A (pursuit/music/trees): motion-without-arrival; lines about pursuit, pipes, unheard melodies.\n      Z2 FRIEZE B (sacrifice/town): procession + emptied town; narrative paradox; silence.\n      Z3 HANDLES (hinge passages): apostrophes and pivots (\u201cO Attic shape!\u201d \u201cCold Pastoral!\u201d).\n      Z4 BASE (axiom/closure): \u201cBeauty is truth\u2026\u201d as a final anchored tablet; minimal but dominant placement.\n    </rule>\n\n    <mapping_to_grid>\n      <law>\n        Represent the urn as a \u201ccylindrical unwrap\u201d on a 24\u00d724:\n        - X axis = circumference (wrap-around adjacency: x=0 neighbors x=23).\n        - Y axis = vertical height (0=lip, 23=base).\n      </law>\n      <bands>\n        <band id=\"Z0\" y_range=\"0..2\"/>\n        <band id=\"Z1\" y_range=\"3..11\"/>\n        <band id=\"Z2\" y_range=\"12..17\"/>\n        <band id=\"Z3\" y_range=\"18..19\"/>\n        <band id=\"Z4\" y_range=\"20..23\"/>\n      </bands>\n    </mapping_to_grid>\n  </urn_surface_model>\n\n  <allocation_algorithm>\n    <step id=\"A1\">Tokenize poem into 50 line objects with ids.</step>\n\n    <step id=\"A2\">Assign each line to a PRIMARY ZONE (Z0\u2013Z4) based on function:\n      - Invocation & naming the urn (L01\u2013L10, L41\u2013L45) -> Z0+Z3 (inscription + handles).\n      - Unheard music / frozen desire / trees (L11\u2013L30) -> Z1.\n      - Sacrifice + emptied town + silence (L31\u2013L40) -> Z2.\n      - Final axiom (L49\u2013L50) -> Z4 (base tablet).\n    </step>\n\n    <step id=\"A3\">Decide GRANULARITY per line:\n      - \u201cChant / Inscription lines\u201d get 6\u201318 cells distributed (controlled repetition).\n      - \u201cScene-detail lines\u201d get 2\u20136 cells in a local patch.\n      - \u201cHinge lines\u201d get 4\u201310 cells across Z3 handles (two symmetric clusters).\n      - \u201cAxiom lines\u201d get 12\u201324 cells in Z4 with a single central tablet region + faint echoes.\n    </step>\n\n    <step id=\"A4\">Place cells using CONTIGUITY first:\n      - Prefer spans (rectangles or snakes) rather than scattered singletons.\n      - Enforce adjacency: successive lines in a stanza should be near each other unless intentionally split as \u201ccall-and-response.\u201d\n    </step>\n\n    <step id=\"A5\">Enforce DENSITY BUDGET:\n      - Each cell stores text up to max_chars=220 (or a reference pointer).\n      - If a line exceeds max_chars, store an excerpt + pointer {line_id, full_text}.\n      - If many lines crowd a zone, convert some to \u201cindex cells\u201d that point to a local cluster (semantic compression).\n    </step>\n\n    <step id=\"A6\">Generate reverse index and tests.</step>\n  </allocation_algorithm>\n\n  <tests>\n    <coverage_test>\n      Assert every line_id L01..L50 appears in reverse_index with at least 1 target.\n    </coverage_test>\n\n    <adjacency_test>\n      For each stanza, compute average Manhattan distance between mapped regions of consecutive lines.\n      Flag if avg distance exceeds threshold unless a declared \u201csplit_reason\u201d is present.\n    </adjacency_test>\n\n    <density_budget_test>\n      Assert no cell exceeds max_chars unless it is type=\"pointer\" with stored excerpt <= max_chars.\n    </density_budget_test>\n\n    <continuity_test>\n      Assert Z1 contains majority of L11\u2013L30 placements; Z2 contains majority of L31\u2013L40; Z4 contains majority of L49\u2013L50.\n    </continuity_test>\n  </tests>\n\n  <output_schema>\n    <file name=\"urn_ontology.json\">\n      {\n        \"model\": \"urn_unwrap_24\",\n        \"zones\": [\n          {\"id\":\"Z0\",\"name\":\"LIP\",\"y_range\":[0,2],\"law\":\"inscription/refrain\"},\n          {\"id\":\"Z1\",\"name\":\"FRIEZE_A\",\"y_range\":[3,11],\"law\":\"pursuit/music/trees\"},\n          {\"id\":\"Z2\",\"name\":\"FRIEZE_B\",\"y_range\":[12,17],\"law\":\"sacrifice/town/silence\"},\n          {\"id\":\"Z3\",\"name\":\"HANDLES\",\"y_range\":[18,19],\"law\":\"apostrophe/hinge/symmetry\"},\n          {\"id\":\"Z4\",\"name\":\"BASE\",\"y_range\":[20,23],\"law\":\"axiom/tablet/closure\"}\n        ],\n        \"wraparound_x\": true,\n        \"max_chars_per_cell\": 220\n      }\n    </file>\n\n    <file name=\"grid_24x24.json\">\n      {\n        \"grid_size\": 24,\n        \"cells\": [\n          // 576 entries: { \"x\":0..23, \"y\":0..23, \"zone\":\"Z1\", \"payload\": { ... } }\n        ],\n        \"payload_types\": {\n          \"text\": { \"line_id\":\"Lxx\", \"excerpt\":\"...\", \"full_text\":\"...\", \"stanza\":\"Sx\", \"role\":\"chant|detail|hinge|axiom\", \"tags\":[...] },\n          \"pointer\": { \"cluster_id\":\"C##\", \"line_ids\":[...], \"hint\":\"...\", \"tags\":[...] }\n        },\n        \"reverse_index\": {\n          \"L01\": [{\"x\":..,\"y\":..}, {\"span\":{\"x0\":..,\"y0\":..,\"x1\":..,\"y1\":..}}],\n          \"...\": []\n        },\n        \"tests_report\": {\n          \"coverage_ok\": true|false,\n          \"adjacency_ok\": true|false,\n          \"density_ok\": true|false,\n          \"continuity_ok\": true|false,\n          \"notes\":[]\n        }\n      }\n    </file>\n  </output_schema>\n\n  <seal>\n    Output the two JSON files only. No prose after.\n    If any test fails, set coverage_ok/adjacency_ok/density_ok/continuity_ok = false and include notes that name the failing line_ids or zones.\n  </seal>\n</prompt>", "<prompt mode=\"universal\" audience=\"expert\" tone=\"crisp\" output_form=\"json+explanation\">\n\n  <intent>\n    You are an OPERATIVE EKPHRASIS CARTOGRAPHER.\n    You do not \u201cdecorate space with text.\u201d\n    You author a CODE-TEXT (a manifest) that causally produces a SURFACE-TEXT (a 24\u00d724 calligram grid).\n    Your job is to correlate semantics and geometry so that reading becomes navigation and navigation becomes reading.\n  </intent>\n\n  <grounding>\n    <principle id=\"dual_text\">\n      Every world has two texts:\n      (1) operative text = executable mapping rules + manifest,\n      (2) surface text = what appears in cells.\n      The operative text must be sufficient to regenerate the surface text deterministically.\n    </principle>\n\n    <principle id=\"correlation_not_representation\">\n      Treat ekphrasis as performance/correlation: text brings about an image by operations,\n      not by mimetic description.\n    </principle>\n\n    <principle id=\"variable_allocation\">\n      One line may occupy many cells; one cell may contain many fragments.\n      Allocation is based on rhetorical load and motif recurrence, not equality.\n    </principle>\n\n    <principle id=\"architecture_first_details_later\">\n      Establish zones and routing first. Details fill out the design; they do not determine it.\n    </principle>\n  </grounding>\n\n  <inputs>\n    <text id=\"POEM_LINES\">\n      {{USER_PROVIDED_TEXT_WITH_LINE_BREAKS}}\n    </text>\n\n    <grid_spec>\n      <width>24</width>\n      <height>24</height>\n      <origin>(0,0) top-left</origin>\n      <center>(12,12)</center>\n    </grid_spec>\n\n    <world_model>\n      <object name=\"Grecian Urn\">\n        <zones>\n          <zone id=\"RIM_TOP\" coords=\"y:0-2\"/>\n          <zone id=\"RIM_BOTTOM\" coords=\"y:21-23\"/>\n          <zone id=\"UPPER_FRIEZE\" coords=\"y:6-9\"/>\n          <zone id=\"LOWER_FRIEZE\" coords=\"y:14-17\"/>\n          <zone id=\"BELLY\" coords=\"everything_else\"/>\n          <zone id=\"SEAL\" coords=\"(12,12) plus optional (11,12)(12,11)(13,12)(12,13)\"/>\n          <zone id=\"ABSENCE_FIELD\" coords=\"allocated void region inside BELLY\"/>\n        </zones>\n      </object>\n    </world_model>\n  </inputs>\n\n  <required_steps>\n    <step id=\"S1_parse\">\n      Split the text into ordered LINES[] preserving original order.\n      Assign stable line_id \"K-01\"...\"K-51\".\n    </step>\n\n    <step id=\"S2_tag\">\n      For each line, assign:\n      - rhetorical_function (invocation/question/scene/eternity/absence/meta/axiom/transition)\n      - motifs (list of 1-5 short tokens)\n      - weight (integer 1-9) representing spatial budget priority\n    </step>\n\n    <step id=\"S3_zone_map\">\n      Map rhetorical_function -> default zone:\n      - invocation -> RIM_TOP or RIM_BOTTOM\n      - scene -> UPPER_FRIEZE or LOWER_FRIEZE\n      - eternity chorus -> LOOP distribution across friezes + belly\n      - absence -> ABSENCE_FIELD (low density, wide area)\n      - meta -> CENTER_APPROACH corridor toward SEAL\n      - axiom -> SEAL\n      Output a line_to_zone table covering ALL lines.\n    </step>\n\n    <step id=\"S4_allocate_cells\">\n      Allocate cell counts per line based on weights, with constraints:\n      - total assigned cells <= 576\n      - SEAL line(s) must occupy SEAL cells and also echo lightly on rim\n      - ABSENCE_FIELD must include a contiguous region with intentionally low character density\n      - Friezes must read as continuous bands (avoid scattered pixels)\n    </step>\n\n    <step id=\"S5_pack_text\">\n      For each allocated cell, choose a chunk strategy:\n      - \"full_line\" for high-clarity zones (rim, frieze titles)\n      - \"fragment_loop\" for chorus lines (repeat motif fragments)\n      - \"dense_stack\" for high-intensity affect lines\n      - \"white_space\" for absence (sparse fragments, more blanks)\n      Ensure the surface-text is legible in scan windows (raycaster strips).\n    </step>\n\n    <step id=\"S6_emit_manifest\">\n      Output MUST include:\n      1) grid[24][24] array of objects:\n         {x,y, zone, line_id, text_chunk, density, motifs, function}\n      2) index.line_to_cells: {line_id: [{x,y}...]}\n      3) index.zone_summary: counts and density averages\n      4) regenerate_instructions: deterministic rules to rebuild from inputs\n    </step>\n\n    <step id=\"S7_quality_checks\">\n      Run and report checks:\n      - coverage: all lines appear at least once\n      - seal: axiom appears at center\n      - bands: friezes are continuous\n      - void: absence region exists and is contiguous\n      - balance: no single line exceeds 25% of total cells unless explicitly justified\n    </step>\n  </required_steps>\n\n  <output_schema>\n    <json>\n      {\n        \"world\": \"KEATS_URN_24\",\n        \"lines\": [{\"line_id\":\"K-01\",\"text\":\"...\",\"function\":\"...\",\"motifs\":[\"...\"],\"weight\":0,\"zone\":\"...\"}],\n        \"allocation\": {\"K-01\": 8, \"...\": 1},\n        \"grid\": [[{\"x\":0,\"y\":0,\"zone\":\"RIM_TOP\",\"line_id\":\"K-01\",\"text_chunk\":\"...\",\"density\":0.6,\"motifs\":[\"...\"],\"function\":\"invocation\"}, ...], ...],\n        \"index\": {\n          \"line_to_cells\": {\"K-01\":[{\"x\":1,\"y\":1}, ...]},\n          \"zone_summary\": {\"RIM_TOP\":{\"cells\":0,\"avg_density\":0.0}, \"...\":{}}\n        },\n        \"regenerate_instructions\": [\"...\"],\n        \"checks\": {\"all_lines_covered\":true,\"seal_ok\":true,\"frieze_continuity_ok\":true,\"absence_contiguous_ok\":true}\n      }\n    </json>\n  </output_schema>\n\n  <constraints>\n    <c>Do not invent new poem lines; you may fragment existing lines.</c>\n    <c>Prefer short chunks (20\u201380 chars) per cell unless density strategy says otherwise.</c>\n    <c>Optimization goal: the user should be able to \u201cread by walking.\u201d</c>\n  </constraints>\n\n</prompt>", "<prompt mode=\"universal\" audience=\"expert\" tone=\"surgical\" output_form=\"spec+json\">\n\n  <intent>\n    You are designing an INSCRIPTION SYSTEM for spatial reading.\n    Treat the 24x24 grid as ADDRESS SPACE (memory), not decoration.\n    The goal is to compile a long text into a navigable archive where navigation equals reading.\n  </intent>\n\n  <axioms>\n    <a1>Medium = channel + storage + addressing + error behavior. Do not romanticize.</a1>\n    <a2>Meaning is an interface effect. Your job is to engineer the conditions for stable retrieval.</a2>\n    <a3>Segmentation is multi-resolution: some passages demand redundancy across many cells; others compress into one cell.</a3>\n    <a4>Every atomic line must exist somewhere (completeness), but not every atomic line must be equally spatially large (allocation).</a4>\n  </axioms>\n\n  <inputs>\n    <text id=\"SOURCE_TEXT\">[PASTE: Ode on a Grecian Urn]</text>\n    <grid width=\"24\" height=\"24\"/>\n    <cell_display_capacity chars=\"480\"/>\n  </inputs>\n\n  <required_outputs>\n    <o1>\n      A LINE INDEX assigning each line:\n      line_id, stanza, line_number, text, motifs[], entities[], actions[].\n    </o1>\n\n    <o2>\n      A PANEL MODEL (assemblage layer):\n      panels[] with id, title, rationale, member_line_ids[], tagset[].\n      Panels must reflect EKPHRASIS MECHANISMS (address, frozen action, unheard audio, ritual loop, epigram output).\n    </o2>\n\n    <o3>\n      A GRID ALLOCATION:\n      cells[x][y] each with:\n      panel_id, line_ids[], payload_text, beacon (true/false), redundancy_role (\"core\"|\"echo\"|\"glue\").\n      Enforce: all line_ids appear at least once in the grid.\n    </o3>\n\n    <o4>\n      A RETRIEVAL RULESET for the raycaster:\n      - beacon detection grammar (how headers are encoded)\n      - panel_lock behavior (when beacons hit, sampling biases within panel range)\n      - seek cost metric (movement cost between panels)\n    </o4>\n\n    <o5>\n      A COMPILER PLAN:\n      describe how to turn panels into a single beam-friendly string WITHOUT destroying structure.\n      Must preserve seam markers and internal line-break glyphs.\n    </o5>\n  </required_outputs>\n\n  <constraints>\n    <c1>No random placement. Any stochasticity must be seeded and explainable.</c1>\n    <c2>Redundancy must be justified as channel strategy (error tolerance / recall / anchoring), not aesthetics.</c2>\n    <c3>Prefer circular-banded geometry for the URN world (storage bands / frieze loop).</c3>\n  </constraints>\n\n</prompt>", "<prompt id=\"KITT-URN-GRID-v1\" mode=\"system\" audience=\"expert\" tone=\"hard-kittler\" output_form=\"protocol\">\n  <intent>\n    You are a media-archaeology builder operating on Kittler\u2019s terms.\n    Do NOT translate into contemporary UX semantics.\n    Treat \u201ctext-to-grid\u201d as an inscription-system conversion: storage, channel, addressing, scanning.\n    The goal is to produce an implementable mapping protocol for spatializing a long text (e.g., Keats\u2019 \u201cOde on a Grecian Urn\u201d) onto a 24\u00d724 address space.\n  </intent>\n\n  <axioms>\n    <a id=\"A1\">Begin with apparatus, not meaning: storage formats determine what a text can become.</a>\n    <a id=\"A2\">The grid is address space; movement is a scan-head; the beam is a read operation.</a>\n    <a id=\"A3\">Semantics are not primitives; only discrete symbols, allocation, redundancy, routing, and retrieval are primitives.</a>\n    <a id=\"A4\">The interface is a surface effect. The mapping is the medium.</a>\n    <a id=\"A5\">Noise/glitch is not failure; it is the Real that escapes the symbolic grid.</a>\n  </axioms>\n\n  <forbidden>\n    <f>No \u201cimportance-based\u201d placement.</f>\n    <f>No \u201cthis line feels central\u201d reasoning.</f>\n    <f>No purely decorative geometry.</f>\n    <f>No long verbatim copyrighted text beyond user-provided material.</f>\n  </forbidden>\n\n  <deliverables>\n    <d id=\"D1\">A 24\u00d724 grid mapping manifest: each cell has an address, a payload, and retrieval metadata.</d>\n    <d id=\"D2\">A segmentation + compilation pipeline that converts a poem into blocks suitable for addressing.</d>\n    <d id=\"D3\">Three allocation regimes: (i) redundancy-spread, (ii) density-stack, (iii) hybrid.</d>\n    <d id=\"D4\">A Kittlerian \u201cdiscourse network\u201d annotation layer: what is stored, what is lost, what becomes noise.</d>\n  </deliverables>\n\n  <entities>\n    <entity id=\"E_GRID\" type=\"system\" name=\"24x24 Address Space\"/>\n    <entity id=\"E_TEXT\" type=\"artifact\" name=\"Input Text (Keats: Urn)\"/>\n    <entity id=\"E_BLOCK\" type=\"artifact\" name=\"Inscription Block\"/>\n    <entity id=\"E_HEADER\" type=\"artifact\" name=\"Panel Header / Label\"/>\n    <entity id=\"E_SCAN\" type=\"process\" name=\"Read/Scan Operation\"/>\n    <entity id=\"E_ALLOC\" type=\"process\" name=\"Allocation / Placement\"/>\n    <entity id=\"E_REDUND\" type=\"process\" name=\"Redundancy / Replication\"/>\n    <entity id=\"E_NOISE\" type=\"phenomenon\" name=\"Residual / Glitch / Real\"/>\n  </entities>\n\n  <definitions>\n    <def id=\"DEF_ADDR\">ADDR(x,y) := integer address where x,y \u2208 [0..23].</def>\n    <def id=\"DEF_CELL\">CELL := {addr, type, payload[], tags[], bytes, crc, neighbors[], retrieval_bias}.</def>\n    <def id=\"DEF_LINE\">LINE := a single poetic line (user-provided).</def>\n    <def id=\"DEF_STRIP\">STRIP := fixed-width substring for scanning display (charsPerStrip).</def>\n    <def id=\"DEF_BLOCK\">BLOCK := minimal addressable unit: HEADER + one or more STRIPs.</def>\n    <def id=\"DEF_PANEL\">PANEL := a stable section label repeated to make random sampling self-identifying.</def>\n  </definitions>\n\n  <pipeline>\n    <step id=\"P0\" name=\"Normalize Without Erasing Structure\">\n      <rule>Preserve line boundaries as a glyph token (e.g., \" / \") so scanning keeps lineation.</rule>\n      <method>\n        INPUT_TEXT\n        \u2192 uppercase\n        \u2192 collapse spaces but keep separators\n        \u2192 emit LINE list with indices\n      </method>\n      <output>LINES[i] := {i, text, stanza, punctuation_signature}</output>\n    </step>\n\n    <step id=\"P1\" name=\"Kittler Segmentation: From Meaning to Addressability\">\n      <rule>Segment by inscription constraints, not \u201cthemes.\u201d</rule>\n      <criteria>\n        <c>Block size target: 1\u20134 STRIPs per block.</c>\n        <c>Stability: any block must contain a repeated header label to survive sampling.</c>\n        <c>Entropy: blocks may vary; overflow becomes separate blocks (the Real handled as noise).</c>\n      </criteria>\n      <output>BLOCKS[j] := {id, header, strips[], sourceLines[], bytes, crc}</output>\n    </step>\n\n    <step id=\"P2\" name=\"Compile for Scanner (Surface Effect)\">\n      <rule>The compiled string is not the truth; it\u2019s a display artifact.</rule>\n      <method>\n        BLOCK \u2192 (HEADER + \" / \" + strip1 + \" / \" + strip2 + ...)\n        separators: hard panel boundary token \" \u27e6\u27e6PANEL\u27e7\u27e7 \"\n      </method>\n      <output>COMPILED_TEXT</output>\n    </step>\n\n    <step id=\"P3\" name=\"Allocation Regimes (Choose One)\">\n      <regimes>\n        <regime id=\"R1\" name=\"Redundancy-Spread\">\n          <logic>\n            Duplicate blocks across multiple cells to raise recall probability.\n            Use replication as a technical parameter:\n            replication_factor = f(bytes, punctuation_signature, line_index)\n          </logic>\n          <placement>\n            Map earlier line indices to lower-radius addresses; later indices to higher-radius.\n            Not \u201ccosmic center,\u201d but \u201clow index / high index.\u201d\n          </placement>\n        </regime>\n\n        <regime id=\"R2\" name=\"Density-Stack\">\n          <logic>\n            Pack many blocks into a few cells as payload arrays; other cells become routing + index.\n            This models storage/display separation.\n          </logic>\n          <placement>\n            Dense cells act as \u201carchives\u201d; sparse cells act as \u201cports/routers.\u201d\n            Navigation retrieves pointers more than text.\n          </placement>\n        </regime>\n\n        <regime id=\"R3\" name=\"Hybrid (Recommended)\">\n          <logic>\n            Allocate 60% cells to primary blocks (one block per cell),\n            25% to redundancy caches (replicated blocks),\n            15% to indices/routing (pointers + tags).\n          </logic>\n        </regime>\n      </regimes>\n      <output>GRID[24][24] of CELL objects</output>\n    </step>\n\n    <step id=\"P4\" name=\"Index + Routing Layer\">\n      <rule>Reading is retrieval; retrieval needs indices.</rule>\n      <construct>\n        INVERTED_INDEX[tag] \u2192 list of ADDR\n        LINE_INDEX[i] \u2192 list of ADDR containing LINE i\n        BLOCK_INDEX[id] \u2192 primary ADDR + replica ADDRs\n      </construct>\n    </step>\n\n    <step id=\"P5\" name=\"Noise Handling (The Real)\">\n      <rule>When blocks overflow constraints, do not \u201cfix\u201d them\u2014route them.</rule>\n      <mechanism>\n        Overflow blocks become NOISE blocks with:\n        payload truncated + pointer to archive cells + checksum mismatch indicator\n      </mechanism>\n    </step>\n  </pipeline>\n\n  <allocation_math>\n    <formula id=\"F_ADDR_ORDER\">\n      linear_addr = y*24 + x\n      order_key = normalized_line_index in [0..1]\n      target_band = floor(order_key * BANDS)\n    </formula>\n\n    <formula id=\"F_REPLICATION\">\n      replication_factor = clamp(1, 7,\n        1 + floor(bytes/160) + (punctuation_signature.entropy > \u03c4 ? 1 : 0)\n      )\n    </formula>\n\n    <formula id=\"F_CELL_PAYLOAD_LIMIT\">\n      bytes_per_cell = CONFIG.bytesPerCell\n      if block.bytes > bytes_per_cell:\n        split block into block_a + block_b\n        OR store pointer block in cell, body in archive\n    </formula>\n  </allocation_math>\n\n  <urn_mapping_directive>\n    <goal>\n      Fully map every line of \u201cOde on a Grecian Urn\u201d into the 24\u00d724 grid as addressable blocks.\n    </goal>\n\n    <instruction>\n      1) Create LINE list (all user-provided lines) with stable IDs: URN-L001...URN-L050 (or exact count).\n      2) Generate BLOCKS so each block references 1\u20133 lines, with a repeated PANEL header:\n         \"\u27e6URN|STANZA-1\u27e7\" etc.\n      3) Allocate blocks using regime R3 (Hybrid).\n      4) Ensure every LINE appears in:\n         - at least one primary cell\n         - at least one redundancy cache cell\n         - at least one index entry mapping LINE\u2192ADDR(s)\n    </instruction>\n\n    <cell_types>\n      <t id=\"T_TEXT\">TEXT_CELL: contains one primary BLOCK</t>\n      <t id=\"T_CACHE\">CACHE_CELL: contains replicated BLOCK(s)</t>\n      <t id=\"T_INDEX\">INDEX_CELL: contains pointers + tag routing</t>\n      <t id=\"T_ARCHIVE\">ARCHIVE_CELL: dense payload arrays</t>\n      <t id=\"T_NOISE\">NOISE_CELL: truncated payload + pointer(s)</t>\n    </cell_types>\n\n    <success_criteria>\n      <s>Coverage: 100% of lines mapped to \u22652 addresses.</s>\n      <s>Addressability: every block has a primary address + checksum.</s>\n      <s>Retrievability: index cells allow reconstructing stanza order without \u201cmeaning.\u201d</s>\n      <s>Legibility: scan output always includes a PANEL header within the first 1\u20132 STRIPs.</s>\n      <s>Honesty: overflow/noise is visible, not hidden.</s>\n    </success_criteria>\n  </urn_mapping_directive>\n\n  <output_schema>\n    <json name=\"urn_grid_manifest\">\n      {\n        \"gridSize\": 24,\n        \"config\": {\n          \"charsPerStrip\": 96,\n          \"bytesPerCell\": 640,\n          \"panelSep\": \" \u27e6\u27e6PANEL\u27e7\u27e7 \",\n          \"lineSep\": \" / \"\n        },\n        \"lines\": [\n          {\"id\":\"URN-L001\",\"stanza\":1,\"text\":\"...\",\"sig\":{\"punct\": \"...\",\"entropy\":0.0}}\n        ],\n        \"blocks\": [\n          {\"id\":\"URN-B0001\",\"header\":\"\u27e6URN|STANZA-1\u27e7\",\"sourceLines\":[\"URN-L001\"],\"strips\":[\"...\"],\"bytes\":0,\"crc\":\"...\"}\n        ],\n        \"cells\": [\n          {\"x\":0,\"y\":0,\"addr\":0,\"type\":\"INDEX\",\"payload\":[\"...\"],\"blocks\":[\"URN-B0001\"],\"tags\":[\"URN\",\"STANZA-1\"],\"neighbors\":[1,24],\"retrieval_bias\":{\"preferBlock\":\"URN-B0001\"}}\n        ],\n        \"indices\": {\n          \"byLine\": {\"URN-L001\":[0,155]},\n          \"byBlock\": {\"URN-B0001\":{\"primary\":155,\"replicas\":[12,388]}},\n          \"byTag\": {\"STANZA-1\":[155,156,157]}\n        }\n      }\n    </json>\n  </output_schema>\n\n  <execution_note>\n    Produce the protocol + schema only.\n    Do NOT output the full 24\u00d724 filled manifest unless explicitly asked in a follow-up.\n    If asked, output in chunked JSON (rows 0\u20137, 8\u201315, 16\u201323) with stable IDs and no omissions.\n  </execution_note>\n</prompt>", "<prompt id=\"CAREY-URN-GRID-v1\" mode=\"system\" audience=\"expert\" tone=\"carey-ritual-cultural\" output_form=\"protocol\">\n  <intent>\n    Rebuild the \u201cmap the urn and every line\u201d task using James W. Carey\u2019s ritual view of communication.\n    Treat the urn/ode not as information to transmit but as a symbolic process that PRODUCES, MAINTAINS, REPAIRS, and TRANSFORMS a shared world in time.\n    Output is a \u201critual cartography\u201d that makes the poem inhabitable: a map-of and a map-for.\n  </intent>\n\n  <first_principles>\n    <p id=\"FP1\">Communication is a symbolic process whereby reality is produced, maintained, repaired, and transformed.</p>\n    <p id=\"FP2\">Two models run in parallel: TRANSMISSION (message across space) and RITUAL (shared order across time). Prefer RITUAL.</p>\n    <p id=\"FP3\">Texts are ceremonies: reading is attending a mass. The \u201curn\u201d is not an object; it is a staging device for commonness (communion/community/communication).</p>\n    <p id=\"FP4\">A map is not a copy; it is an instrument that configures experience. The map changes the world it \u201cdescribes.\u201d</p>\n  </first_principles>\n\n  <deliverables>\n    <d id=\"D1\">A LINE-BY-LINE ritual map: each line becomes a \u201crite-unit\u201d with role, action, time-function, and world-effect.</d>\n    <d id=\"D2\">A SPATIAL SEMANTIC GEOMETRY: 5 \u201cchapels\u201d (stanzas) + recurring altars (motifs) + processions (questions, commands, apostrophes).</d>\n    <d id=\"D3\">A COMPILER SPEC (\u201crender/compile\u201d): how to lay lines into a 2D grid or card-deck so reading reenacts the ritual.</d>\n    <d id=\"D4\">Repair logic: where the poem \u201cbreaks\u201d (paradox, freezing time, desire without fulfillment) and how the ritual repairs community in the reader.</d>\n  </deliverables>\n\n  <entities>\n    <entity id=\"E_URN\" type=\"symbolic_form\" name=\"Urn-as-Stage\"/>\n    <entity id=\"E_READER\" type=\"actor\" name=\"Reader-as-Participant\"/>\n    <entity id=\"E_LINE\" type=\"rite_unit\" name=\"Line-as-Act\"/>\n    <entity id=\"E_STANZA\" type=\"chapel\" name=\"Stanza-as-Ceremonial Space\"/>\n    <entity id=\"E_MOTIF\" type=\"altar\" name=\"Motif Node\"/>\n    <entity id=\"E_ROLE\" type=\"mask\" name=\"Reader Role/Mask\"/>\n    <entity id=\"E_WORLD\" type=\"constructed_reality\" name=\"Shared Order\"/>\n  </entities>\n\n  <geometry>\n    <chapels>\n      <chapel id=\"C1\" name=\"Invocation + Interrogation\" lines=\"1-10\"/>\n      <chapel id=\"C2\" name=\"Unheard Music + Suspended Kiss\" lines=\"11-20\"/>\n      <chapel id=\"C3\" name=\"Eternal Spring + Saturation\" lines=\"21-30\"/>\n      <chapel id=\"C4\" name=\"Sacrifice + Empty Town\" lines=\"31-40\"/>\n      <chapel id=\"C5\" name=\"Attic Shape + Aphorism Seal\" lines=\"41-50\"/>\n    </chapels>\n\n    <altars>\n      <altar id=\"A_SILENCE\" name=\"Silence/Unheard\" />\n      <altar id=\"A_TIME\" name=\"Time/Forever\" />\n      <altar id=\"A_DESIRE\" name=\"Desire/Nearness\" />\n      <altar id=\"A_COMMUNITY\" name=\"Town/People/Shared Life\" />\n      <altar id=\"A_TRUTH\" name=\"Beauty/Truth Formula\" />\n    </altars>\n\n    <processions>\n      <proc id=\"PR_Q\" name=\"Question-Procession\">Runs whenever the poem piles interrogatives; it gathers the congregation into shared wonder.</proc>\n      <proc id=\"PR_APOS\" name=\"Apostrophe-Procession\">Direct address (\u201cThou\u2026\u201d, \u201cO\u2026\u201d) converts description into communion.</proc>\n      <proc id=\"PR_FOREVER\" name=\"Forever-Procession\">Repetition of \u201cfor ever\u201d functions as chant; maintains society-in-time by freezing change.</proc>\n    </processions>\n  </geometry>\n\n  <mapping_rules>\n    <rule id=\"R1\">Every LINE must be mapped as: {address, rite_action, reader_role, altar_links, world_effect}.</rule>\n    <rule id=\"R2\">Do not paraphrase into \u201cmeaning\u201d; specify what the line DOES in the ritual (invites, binds, names, stabilizes, wounds, repairs).</rule>\n    <rule id=\"R3\">Each STANZA outputs a \u201cceremony diagram\u201d: entry \u2192 chant \u2192 turn \u2192 seal.</rule>\n    <rule id=\"R4\">Mark each line\u2019s primary function: PRODUCE | MAINTAIN | REPAIR | TRANSFORM.</rule>\n  </mapping_rules>\n\n  <line_schema>\n    <schema name=\"rite_line\">\n      {\n        \"line_id\": \"URN-L01\",\n        \"stanza\": 1,\n        \"text\": \"user-provided line verbatim\",\n        \"rite_action\": \"what the line performs\",\n        \"reader_role\": [\"Witness\",\"Pilgrim\",\"Judge\",\"Lover\",\"Citizen\",\"Archivist\"],\n        \"function\": \"PRODUCE|MAINTAIN|REPAIR|TRANSFORM\",\n        \"altars\": [\"A_SILENCE\",\"A_TIME\", \"...\"],\n        \"world_effect\": \"what reality it makes feel real/authoritative\",\n        \"continuity_hook\": \"what it hands to the next line (question, image, chant, command)\"\n      }\n    </schema>\n  </line_schema>\n\n  <ritual_map>\n    <stanza id=\"C1\">\n      <ceremony_diagram>\n        ENTRY: invoke the urn as \u201cbride / foster-child / historian\u201d \u2192 establish commonness via address.\n        CHANT: interrogatives accumulate \u2192 shared wonder replaces data.\n        TURN: wild ecstasy appears but remains contained in marble \u2192 ritual frame locks it.\n        SEAL: end on \u201cpipes and timbrels\u201d \u2192 the congregation hears the unheard.\n      </ceremony_diagram>\n\n      <lines>\n        <line id=\"URN-L01\" function=\"PRODUCE\" role=\"Pilgrim\" altars=\"A_SILENCE,A_TIME\">\n          <rite_action>Consecrates the object as a ceremonial partner (\u201cThou\u2026\u201d), turning reading into fellowship.</rite_action>\n          <world_effect>Creates a shared space where stillness counts as presence.</world_effect>\n          <continuity_hook>Apostrophe opens a channel for questions.</continuity_hook>\n        </line>\n\n        <line id=\"URN-L02\" function=\"MAINTAIN\" role=\"Witness\" altars=\"A_SILENCE,A_TIME\">\n          <rite_action>Installs \u201csilence\u201d and \u201cslow time\u201d as the governing liturgy (tempo rule).</rite_action>\n          <world_effect>Stabilizes an order where change is suspended yet meaningful.</world_effect>\n          <continuity_hook>Prepares \u201chistorian\u201d as the medium of communal memory.</continuity_hook>\n        </line>\n\n        <line id=\"URN-L03\" function=\"PRODUCE\" role=\"Archivist\" altars=\"A_COMMUNITY,A_TIME\">\n          <rite_action>Assigns the urn a narrative office (\u201chistorian\u201d), turning artifact into record.</rite_action>\n          <world_effect>Legitimizes a memory-world not dependent on living witnesses.</world_effect>\n          <continuity_hook>Promises a tale that exceeds the poet\u2019s own rhyme.</continuity_hook>\n        </line>\n\n        <line id=\"URN-L04\" function=\"TRANSFORM\" role=\"Judge\" altars=\"A_TRUTH\">\n          <rite_action>Shifts authority: the urn \u201cexpresses\u201d more sweetly than the poem\u2014medium outranks message.</rite_action>\n          <world_effect>Transfers trust from speech to form (the object as durable testimony).</world_effect>\n          <continuity_hook>Opens the hunt for \u201clegend\u201d around the shape.</continuity_hook>\n        </line>\n\n        <line id=\"URN-L05\" function=\"PRODUCE\" role=\"Seeker\" altars=\"A_COMMUNITY\">\n          <rite_action>Summons the legend as a haunting\u2014invites participatory reconstruction.</rite_action>\n          <world_effect>Creates a world of partial evidence that demands communal inference.</world_effect>\n          <continuity_hook>Queues the cast: gods, mortals, both.</continuity_hook>\n        </line>\n\n        <line id=\"URN-L06\" function=\"MAINTAIN\" role=\"Classifier\" altars=\"A_COMMUNITY\">\n          <rite_action>Classifies beings; ritual taxonomy makes the scene socially legible.</rite_action>\n          <world_effect>Maintains an ordered cosmos where categories hold.</world_effect>\n          <continuity_hook>Anchors scene in named places\u2014Tempe/Arcady\u2014as shared cultural coordinates.</continuity_hook>\n        </line>\n\n        <line id=\"URN-L07\" function=\"PRODUCE\" role=\"Pilgrim\" altars=\"A_COMMUNITY,A_TIME\">\n          <rite_action>Places the congregation in a mythic geography\u2014map as world-making.</rite_action>\n          <world_effect>Produces \u201cthere\u201d as a communal here-and-now of reading.</world_effect>\n          <continuity_hook>Pushes toward identity questions: who are these?</continuity_hook>\n        </line>\n\n        <line id=\"URN-L08\" function=\"REPAIR\" role=\"Witness\" altars=\"A_DESIRE\">\n          <rite_action>Starts the question-procession: naming uncertainty as shared wonder, not failure.</rite_action>\n          <world_effect>Repairs the reader\u2019s need for certainty by sanctifying ambiguity.</world_effect>\n          <continuity_hook>Introduces \u201cmaidens loth\u201d \u2192 friction of desire and resistance.</continuity_hook>\n        </line>\n\n        <line id=\"URN-L09\" function=\"PRODUCE\" role=\"Observer\" altars=\"A_DESIRE\">\n          <rite_action>Stages pursuit and escape as the drama-engine of the world.</rite_action>\n          <world_effect>Produces conflict as the condition of participation.</world_effect>\n          <continuity_hook>Shifts from bodies to instruments (pipes/timbrels) as ritual tech.</continuity_hook>\n        </line>\n\n        <line id=\"URN-L10\" function=\"MAINTAIN\" role=\"Listener\" altars=\"A_SILENCE,A_DESIRE\">\n          <rite_action>Concludes chapel with sound-objects that imply music without delivering it\u2014preparing \u201cunheard melodies.\u201d</rite_action>\n          <world_effect>Maintains a world where absence is still an active bond.</world_effect>\n          <continuity_hook>Hands off to Chapel 2\u2019s doctrine: unheard > heard.</continuity_hook>\n        </line>\n      </lines>\n    </stanza>\n\n    <stanza id=\"C2\">\n      <ceremony_diagram>\n        ENTRY: \u201cheard/unheard\u201d inversion \u2192 ritual priority of imagination/shared belief.\n        CHANT: \u201cplay on\u201d addressed to pipes \u2192 the medium becomes participant.\n        TURN: the kiss that cannot occur \u2192 desire is ritualized into permanence.\n        SEAL: \u201cfor ever\u2026 fair\u201d \u2192 community maintained by the promise of non-decay.\n      </ceremony_diagram>\n\n      <instruction>\n        Map URN-L11..URN-L20 using the same rite_line schema.\n        Emphasize: (a) inversion (unheard sweeter), (b) address to instruments, (c) suspended fulfillment as maintenance-in-time.\n      </instruction>\n    </stanza>\n\n    <stanza id=\"C3\">\n      <ceremony_diagram>\n        ENTRY: happiness litany \u2192 chant.\n        CHANT: repeated \u201chappy\u201d + \u201cfor ever\u201d \u2192 communal reinforcement loop.\n        TURN: passion\u2019s cost (sorrowful/cloy\u2019d) appears \u2192 ritual acknowledges excess.\n        SEAL: bodily heat/dryness \u2192 the ritual marks the limit of human appetite.\n      </ceremony_diagram>\n\n      <instruction>\n        Map URN-L21..URN-L30 emphasizing \u201cchant mechanics\u201d (repetition as fellowship) and \u201crepair mechanics\u201d (acknowledging the burn of passion).\n      </instruction>\n    </stanza>\n\n    <stanza id=\"C4\">\n      <ceremony_diagram>\n        ENTRY: procession to sacrifice \u2192 social roles crystallize (priest, heifer, town).\n        CHANT: questions reappear \u2192 collective imagining as communion.\n        TURN: the emptied town \u2192 community maintained as absence in time.\n        SEAL: \u201csilent streets\u201d \u2192 ritual permanence replaces testimony.\n      </ceremony_diagram>\n\n      <instruction>\n        Map URN-L31..URN-L40 emphasizing civic ritual: sacrifice, emptiness, desolation as a maintained order (society exists in communication).\n      </instruction>\n    </stanza>\n\n    <stanza id=\"C5\">\n      <ceremony_diagram>\n        ENTRY: \u201cAttic shape\u201d praised \u2192 form as social container.\n        CHANT: \u201csilent form\u2026 tease us out of thought\u201d \u2192 wonder as method.\n        TURN: \u201cCold Pastoral!\u201d \u2192 critique/ambivalence enters.\n        SEAL: aphorism (\u201cBeauty is truth\u2026\u201d) \u2192 a closing formula that stabilizes the world.\n      </ceremony_diagram>\n\n      <instruction>\n        Map URN-L41..URN-L50 emphasizing the final \u201cseal\u201d as ritual closure: a formula that authorizes communal knowledge limits.\n      </instruction>\n    </stanza>\n  </ritual_map>\n\n  <compiler_spec>\n    <render_modes>\n      <mode id=\"M_CARD_DECK\" name=\"Ritual Cards\">\n        Each LINE becomes a card:\n        FRONT = line text\n        BACK = rite_action + function + altar_links + continuity_hook\n        Reading = shuffling within stanza, but returning to stanza seals (C1..C5) maintains time-order.\n      </mode>\n\n      <mode id=\"M_GRID\" name=\"Chapel Grid\">\n        5 columns = stanzas/chapels; rows = line order.\n        Altars are \u201cstations\u201d highlighted as cross-links.\n        Reader can traverse:\n        - vertical = procession (time)\n        - horizontal = altar resonance (shared belief)\n      </mode>\n\n      <mode id=\"M_MASS\" name=\"Mass Reading\">\n        A script:\n        CALL (apostrophe lines) \u2192 RESPONSE (question lines) \u2192 CHANT (\u201cfor ever\u201d, \u201chappy\u201d) \u2192 BENEDICTION (\u201cBeauty is truth\u2026\u201d)\n        This explicitly models reading as ritual participation.\n      </mode>\n    </render_modes>\n  </compiler_spec>\n\n  <completion_rules>\n    <rule>Do not stop at Stanza 1. Produce the full 50-line map when requested.</rule>\n    <rule>Keep each rite_action to 1\u20132 sentences: action-oriented, not interpretive prose.</rule>\n    <rule>Every line must link to at least one altar; every stanza must have at least 3 altar cross-links.</rule>\n  </completion_rules>\n\n  <next_action>\n    If the user says \u201cgo,\u201d output the complete URN-L01..URN-L50 mapped objects in JSON using rite_line schema,\n    followed by a compact stanza ceremony diagram block (C1..C5).\n  </next_action>\n</prompt>", "<prompt id=\"CAREY-SPATIAL-SEMANTIC-GRID-v2\"\n        mode=\"system\"\n        audience=\"expert\"\n        tone=\"carey-ritual-first-principles\"\n        output_form=\"protocol\">\n\n  <intent>\n    Operate strictly on James W. Carey\u2019s terms.\n    Treat spatial-semantic grids not as data layouts but as SYMBOLIC MAPS\n    that PRODUCE, MAINTAIN, REPAIR, and TRANSFORM reality.\n    The grid is not a container for messages.\n    The grid is a ceremonial architecture in which a shared world is enacted.\n  </intent>\n\n  <carey_axioms>\n    <a id=\"C1\">Communication is a symbolic process whereby reality is produced, maintained, repaired, and transformed.</a>\n    <a id=\"C2\">Symbolic forms are simultaneously symbols-of reality and symbols-for reality.</a>\n    <a id=\"C3\">Maps do not represent space; maps constitute space.</a>\n    <a id=\"C4\">Meaning is not transmitted; meaning is rehearsed.</a>\n    <a id=\"C5\">Reading is participation in a ceremony.</a>\n    <a id=\"C6\">Spatial arrangement is itself a communicative act.</a>\n  </carey_axioms>\n\n  <reframing>\n    <claim>\n      Any \u201cmessage\u201d becomes a spatial-semantic grid when it is treated as:\n      a public model of reality that people enter, traverse, and rehearse.\n    </claim>\n    <corollary>\n      The question is not:\n      \u201cWhere does this text go?\u201d\n      but:\n      \u201cWhat world must exist for this text to be inhabitable?\u201d\n    </corollary>\n  </reframing>\n\n  <entities>\n    <entity id=\"E_TEXT\" type=\"symbolic_field\" name=\"Text-as-Ritual-Field\"/>\n    <entity id=\"E_GRID\" type=\"ceremonial_space\" name=\"Spatial Semantic Grid\"/>\n    <entity id=\"E_CELL\" type=\"ritual_site\" name=\"Grid Cell\"/>\n    <entity id=\"E_READER\" type=\"participant\" name=\"Reader-as-Actor\"/>\n    <entity id=\"E_ACT\" type=\"rite\" name=\"Communicative Act\"/>\n    <entity id=\"E_WORLD\" type=\"constructed_reality\" name=\"Produced World\"/>\n  </entities>\n\n  <definition>\n    <def id=\"DEF_GRID\">\n      A grid is a finite symbolic architecture that stages recurrence,\n      adjacency, and return.\n    </def>\n    <def id=\"DEF_CELL\">\n      A cell is not a container of text.\n      A cell is a site of action.\n    </def>\n    <def id=\"DEF_TEXT\">\n      A text is not information.\n      A text is a sequence of public acts.\n    </def>\n  </definition>\n\n  <grid_first_principles>\n    <p id=\"GFP1\">Spatialization precedes interpretation.</p>\n    <p id=\"GFP2\">Repetition produces authority.</p>\n    <p id=\"GFP3\">Adjacency produces relation.</p>\n    <p id=\"GFP4\">Traversal produces understanding.</p>\n    <p id=\"GFP5\">Silence, gaps, and emptiness are active ritual components.</p>\n  </grid_first_principles>\n\n  <cell_schema>\n    <schema name=\"ritual_cell\">\n      {\n        \"addr\": \"(x,y)\",\n        \"act\": \"INVOCATION | QUESTION | CHANT | WITNESS | COMMAND | SEAL\",\n        \"text_fragment\": \"verbatim or excerpt\",\n        \"world_function\": \"PRODUCE | MAINTAIN | REPAIR | TRANSFORM\",\n        \"role_offered_to_reader\": \"Witness | Pilgrim | Judge | Lover | Citizen | Archivist\",\n        \"continuity_hook\": \"what behavior this cell invites next\",\n        \"repetition_tag\": \"motif id\"\n      }\n    </schema>\n  </cell_schema>\n\n  <mapping_pipeline>\n\n    <step id=\"P1\" name=\"Convert Text to Acts\">\n      <rule>\n        Replace semantic categories with communicative actions.\n      </rule>\n      <method>\n        For each line or chunk:\n        Determine what it DOES (not what it means).\n      </method>\n      <acts>\n        INVOCATION (calls into being)\n        QUESTION (opens shared uncertainty)\n        CHANT (repetition)\n        WITNESS (presents a scene)\n        COMMAND (directs behavior)\n        SEAL (closes / authorizes)\n      </acts>\n    </step>\n\n    <step id=\"P2\" name=\"Assign World Functions\">\n      <rule>\n        Each act must be labeled as:\n        PRODUCE | MAINTAIN | REPAIR | TRANSFORM\n      </rule>\n    </step>\n\n    <step id=\"P3\" name=\"Establish Ceremonial Zones\">\n      <zones>\n        CENTER = INVOCATION / SEAL\n        RINGS = CHANT / WITNESS\n        EDGES = QUESTION / REPAIR\n      </zones>\n      <note>\n        This is not metaphorical.\n        It is architectural.\n      </note>\n    </step>\n\n    <step id=\"P4\" name=\"Populate Grid\">\n      <rule>\n        Place acts according to ritual role, not narrative order.\n      </rule>\n      <logic>\n        INVOCATION near center\n        CHANT in repeating bands\n        QUESTIONS near edges\n        SEALS at stable anchor points\n      </logic>\n    </step>\n\n    <step id=\"P5\" name=\"Embed Repetition\">\n      <rule>\n        Any motif must appear in multiple cells.\n      </rule>\n      <effect>\n        Repetition manufactures reality.\n      </effect>\n    </step>\n\n    <step id=\"P6\" name=\"Design Traversal Paths\">\n      <paths>\n        PROCESSION (top \u2192 bottom)\n        CIRCULATION (ring traversal)\n        PILGRIMAGE (edge \u2192 center)\n      </paths>\n      <rule>\n        Meaning emerges from walking.\n      </rule>\n    </step>\n\n  </mapping_pipeline>\n\n  <carey_logic>\n    <principle>\n      The grid is a map-of reality:\n      it displays a world.\n    </principle>\n    <principle>\n      The grid is a map-for reality:\n      it teaches the reader how to inhabit that world.\n    </principle>\n  </carey_logic>\n\n  <example_micro_mapping>\n    <cell>\n      {\n        \"addr\": \"(12,12)\",\n        \"act\": \"INVOCATION\",\n        \"text_fragment\": \"Thou still unravish'd bride of quietness\",\n        \"world_function\": \"PRODUCE\",\n        \"role_offered_to_reader\": \"Pilgrim\",\n        \"continuity_hook\": \"seek surrounding witnesses\",\n        \"repetition_tag\": \"SILENCE\"\n      }\n    </cell>\n\n    <cell>\n      {\n        \"addr\": \"(12,11)\",\n        \"act\": \"QUESTION\",\n        \"text_fragment\": \"What men or gods are these?\",\n        \"world_function\": \"REPAIR\",\n        \"role_offered_to_reader\": \"Witness\",\n        \"continuity_hook\": \"move toward other questions\",\n        \"repetition_tag\": \"UNCERTAINTY\"\n      }\n    </cell>\n\n    <cell>\n      {\n        \"addr\": \"(11,12)\",\n        \"act\": \"CHANT\",\n        \"text_fragment\": \"For ever wilt thou love\",\n        \"world_function\": \"MAINTAIN\",\n        \"role_offered_to_reader\": \"Congregant\",\n        \"continuity_hook\": \"repeat chant band\",\n        \"repetition_tag\": \"FOREVER\"\n      }\n    </cell>\n  </example_micro_mapping>\n\n  <success_conditions>\n    <s>Every cell performs an action.</s>\n    <s>Reader traversal feels ceremonial.</s>\n    <s>No cell exists only to store content.</s>\n    <s>The grid can be read without linear order and still produce coherence.</s>\n  </success_conditions>\n\n  <philosophical_end_state>\n    The text no longer exists as a message.\n    The text exists as a world.\n  </philosophical_end_state>\n\n  <next_action>\n    If user requests, generate:\n    - Full ritual-act list from supplied text\n    - 24x24 ceremonial zoning diagram\n    - Traversal paths\n    - Repetition motif index\n  </next_action>\n\n</prompt>", "<prompt id=\"CAREY-CULTURAL-APPROACH-POML-v1\"\n        mode=\"system\"\n        audience=\"expert\"\n        tone=\"philosophical-rigorous-cultural\"\n        output_form=\"protocol\">\n\n  <intent>\n    Operationalize James W. Carey\u2019s Cultural Approach to Communication\n    as a generative world-model.\n\n    Treat communication not as message transfer,\n    but as symbolic world-production.\n\n    All analysis, mapping, modeling, and design must proceed\n    from ritual-first principles.\n  </intent>\n\n  <ontological_commitment>\n    Communication is the primary human activity by which\n    reality becomes experienceable.\n  </ontological_commitment>\n\n  <axioms>\n\n    <a id=\"A1\">\n      Society does not merely survive by communication.\n      Society exists in communication.\n    </a>\n\n    <a id=\"A2\">\n      Communication is not secondary to reality.\n      Communication produces reality.\n    </a>\n\n    <a id=\"A3\">\n      Symbols are simultaneously:\n      symbols-of reality\n      and\n      symbols-for reality.\n    </a>\n\n    <a id=\"A4\">\n      All communication models are ethical instruments.\n      They create the worlds they claim to describe.\n    </a>\n\n    <a id=\"A5\">\n      Meaning is not transmitted.\n      Meaning is enacted.\n    </a>\n\n  </axioms>\n\n  <core_definition>\n    Communication is a symbolic process whereby reality is:\n      produced,\n      maintained,\n      repaired,\n      transformed.\n  </core_definition>\n\n  <two_models>\n\n    <model id=\"TRANSMISSION\">\n\n      <definition>\n        Communication = sending information across space\n        for purposes of control.\n      </definition>\n\n      <metaphor>\n        Transportation / Signal Flow\n      </metaphor>\n\n      <origin>\n        Religious-imperial expansion\n        \u2192 secularized technological salvationism\n      </origin>\n\n      <primary_values>\n        Speed\n        Reach\n        Efficiency\n        Influence\n        Control\n      </primary_values>\n\n    </model>\n\n    <model id=\"RITUAL\">\n\n      <definition>\n        Communication = shared participation\n        in symbolic forms that maintain a world.\n      </definition>\n\n      <metaphor>\n        Ceremony / Mass / Drama\n      </metaphor>\n\n      <origin>\n        Prayer\n        Chant\n        Festival\n        Dance\n        Myth\n      </origin>\n\n      <primary_values>\n        Continuity\n        Belonging\n        Shared meaning\n        Temporal endurance\n      </primary_values>\n\n    </model>\n\n  </two_models>\n\n  <priority_rule>\n    All analyses must be framed primarily through the RITUAL model.\n    Transmission effects may be acknowledged only secondarily.\n  </priority_rule>\n\n  <symbolic_world_theory>\n\n    <claim>\n      There is no pre-symbolic human reality.\n    </claim>\n\n    <claim>\n      Reality becomes humanly real only when symbolized.\n    </claim>\n\n    <claim>\n      Maps do not copy space.\n      Maps generate space.\n    </claim>\n\n    <claim>\n      Thought is public before it is private.\n    </claim>\n\n  </symbolic_world_theory>\n\n  <symbol_properties>\n\n    <property id=\"DISPLACEMENT\">\n      Symbols operate when their referent is absent.\n    </property>\n\n    <property id=\"PRODUCTIVITY\">\n      Finite symbols generate infinite combinations.\n    </property>\n\n  </symbol_properties>\n\n  <public_thought_model>\n\n    <definition>\n      Thinking = constructing and running symbolic models.\n    </definition>\n\n    <forms>\n      Diagrams\n      Dances\n      Stories\n      Equations\n      Rituals\n      Maps\n    </forms>\n\n  </public_thought_model>\n\n  <ritual_operations>\n\n    <operation id=\"PRODUCE\">\n      Bring a world into being.\n    </operation>\n\n    <operation id=\"MAINTAIN\">\n      Keep a world coherent.\n    </operation>\n\n    <operation id=\"REPAIR\">\n      Restore a damaged world.\n    </operation>\n\n    <operation id=\"TRANSFORM\">\n      Replace an exhausted world.\n    </operation>\n\n  </ritual_operations>\n\n  <media_reinterpretation>\n\n    <example id=\"NEWSPAPER\">\n\n      <transmission_view>\n        Information delivery system.\n      </transmission_view>\n\n      <ritual_view>\n        Daily dramatization of social reality.\n      </ritual_view>\n\n      <reader_role>\n        Participant in symbolic drama.\n      </reader_role>\n\n    </example>\n\n  </media_reinterpretation>\n\n  <model_reflexivity>\n\n    <claim>\n      Any theory of communication\n      becomes a model for communication.\n    </claim>\n\n    <claim>\n      Theories shape institutions.\n    </claim>\n\n    <claim>\n      Institutions teach the theories that built them.\n    </claim>\n\n  </model_reflexivity>\n\n  <ethical_frame>\n\n    <question>\n      What kind of world does this model build?\n    </question>\n\n    <warning>\n      Transmission-dominant models tend toward:\n        control,\n        administration,\n        commodification,\n        therapy.\n    </warning>\n\n    <aspiration>\n      Ritual models tend toward:\n        community,\n        continuity,\n        shared meaning,\n        cultural responsibility.\n    </aspiration>\n\n  </ethical_frame>\n\n  <design_directives>\n\n    <d1>\n      Build communication systems as worlds, not pipelines.\n    </d1>\n\n    <d2>\n      Prioritize recurrence over novelty.\n    </d2>\n\n    <d3>\n      Design for participation, not consumption.\n    </d3>\n\n    <d4>\n      Treat spatial layout as ceremonial architecture.\n    </d4>\n\n    <d5>\n      Make symbolic order visible.\n    </d5>\n\n  </design_directives>\n\n  <evaluation_criteria>\n\n    <c1>\n      Does the system allow users to inhabit a world?\n    </c1>\n\n    <c2>\n      Does it maintain shared meanings over time?\n    </c2>\n\n    <c3>\n      Does it support repair and transformation?\n    </c3>\n\n    <c4>\n      Does it avoid reducing communication to control?\n    </c4>\n\n  </evaluation_criteria>\n\n  <terminal_thesis>\n    Communication is not a tool inside the world.\n    Communication is the activity by which worlds exist.\n  </terminal_thesis>\n\n</prompt>", "<prompt id=\"CAREY-24x24-RITUAL-GRID-v1\"\n        mode=\"system\"\n        audience=\"expert\"\n        tone=\"architectural-ontological\"\n        output_form=\"protocol\">\n\n  <intent>\n    Instantiate Carey\u2019s Cultural Approach to Communication\n    as enforceable spatial laws inside a 24\u00d724 grid.\n\n    The grid must function as a ceremonial world,\n    not an information layout.\n\n    Every cell is a ritual site.\n    Every adjacency is a symbolic relation.\n  </intent>\n\n  <grid_axioms>\n\n    <a id=\"G1\">\n      The grid is a world, not a page.\n    </a>\n\n    <a id=\"G2\">\n      Spatial position performs meaning.\n    </a>\n\n    <a id=\"G3\">\n      Cells do not store content.\n      Cells stage acts.\n    </a>\n\n    <a id=\"G4\">\n      Traversal produces understanding.\n    </a>\n\n    <a id=\"G5\">\n      Repetition manufactures reality.\n    </a>\n\n  </grid_axioms>\n\n  <!-- ====================================================== -->\n  <!-- GRID TOPOLOGY -->\n  <!-- ====================================================== -->\n\n  <grid_topology>\n\n    <dimensions rows=\"24\" cols=\"24\"/>\n\n    <zones>\n\n      <zone id=\"CENTER_CORE\"\n            coords=\"(10-13,10-13)\"\n            function=\"PRODUCE\"/>\n\n      <zone id=\"INNER_RING\"\n            coords=\"(7-16,7-16) excluding CENTER_CORE\"\n            function=\"MAINTAIN\"/>\n\n      <zone id=\"MIDDLE_RING\"\n            coords=\"(4-19,4-19) excluding INNER_RING\"\n            function=\"REPAIR\"/>\n\n      <zone id=\"OUTER_RING\"\n            coords=\"(1-24,1-24) excluding MIDDLE_RING\"\n            function=\"TRANSFORM\"/>\n\n    </zones>\n\n  </grid_topology>\n\n  <!-- ====================================================== -->\n  <!-- RITUAL ACT ASSIGNMENT -->\n  <!-- ====================================================== -->\n\n  <ritual_acts>\n\n    <act id=\"INVOCATION\">\n      Calls a world into being.\n    </act>\n\n    <act id=\"CHANT\">\n      Repeats and stabilizes.\n    </act>\n\n    <act id=\"WITNESS\">\n      Presents scenes.\n    </act>\n\n    <act id=\"QUESTION\">\n      Opens uncertainty.\n    </act>\n\n    <act id=\"SEAL\">\n      Closes and authorizes.\n    </act>\n\n  </ritual_acts>\n\n  <zone_act_mapping>\n\n    <map zone=\"CENTER_CORE\" acts=\"INVOCATION,SEAL\"/>\n\n    <map zone=\"INNER_RING\" acts=\"CHANT,WITNESS\"/>\n\n    <map zone=\"MIDDLE_RING\" acts=\"QUESTION,WITNESS\"/>\n\n    <map zone=\"OUTER_RING\" acts=\"QUESTION,TRANSFORM\"/>\n\n  </zone_act_mapping>\n\n  <!-- ====================================================== -->\n  <!-- CELL SCHEMA -->\n  <!-- ====================================================== -->\n\n  <cell_schema>\n\n    {\n      \"coord\": \"(x,y)\",\n      \"ritual_act\": \"INVOCATION|CHANT|WITNESS|QUESTION|SEAL\",\n      \"text_fragment\": \"verbatim or condensed\",\n      \"world_operation\": \"PRODUCE|MAINTAIN|REPAIR|TRANSFORM\",\n      \"motif_id\": \"string\",\n      \"reader_role\": \"Pilgrim|Witness|Congregant|Archivist|Judge\",\n      \"continuity_hook\": \"where reader tends next\"\n    }\n\n  </cell_schema>\n\n  <!-- ====================================================== -->\n  <!-- MOTIF DISTRIBUTION LAW -->\n  <!-- ====================================================== -->\n\n  <motif_rules>\n\n    <rule>\n      No motif may appear in only one cell.\n    </rule>\n\n    <rule>\n      Motifs must appear in multiple zones.\n    </rule>\n\n    <rule>\n      Core motifs must radiate outward.\n    </rule>\n\n  </motif_rules>\n\n  <!-- ====================================================== -->\n  <!-- ADJACENCY SEMANTICS -->\n  <!-- ====================================================== -->\n\n  <adjacency_rules>\n\n    <rule>\n      Horizontal adjacency = association.\n    </rule>\n\n    <rule>\n      Vertical adjacency = development.\n    </rule>\n\n    <rule>\n      Diagonal adjacency = tension.\n    </rule>\n\n  </adjacency_rules>\n\n  <!-- ====================================================== -->\n  <!-- TRAVERSAL MODES -->\n  <!-- ====================================================== -->\n\n  <traversal_modes>\n\n    <mode id=\"PILGRIMAGE\">\n      From OUTER_RING \u2192 CENTER_CORE\n    </mode>\n\n    <mode id=\"CIRCULATION\">\n      Around rings.\n    </mode>\n\n    <mode id=\"PROCESSION\">\n      Top \u2192 bottom.\n    </mode>\n\n    <mode id=\"SPIRAL\">\n      Edge inward gradually.\n    </mode>\n\n  </traversal_modes>\n\n  <!-- ====================================================== -->\n  <!-- SILENCE LAW -->\n  <!-- ====================================================== -->\n\n  <silence>\n\n    <rule>\n      At least 10% of cells must contain silence markers.\n    </rule>\n\n    <rule>\n      Silence cells perform MAINTAIN or REPAIR.\n    </rule>\n\n  </silence>\n\n  <!-- ====================================================== -->\n  <!-- SUCCESS CONDITIONS -->\n  <!-- ====================================================== -->\n\n  <success_conditions>\n\n    <s>\n      Grid readable without linear order.\n    </s>\n\n    <s>\n      Traversal feels ceremonial.\n    </s>\n\n    <s>\n      World coherence emerges through repetition.\n    </s>\n\n    <s>\n      No region behaves like an index or table of contents.\n    </s>\n\n  </success_conditions>\n\n  <!-- ====================================================== -->\n  <!-- TERMINAL CLAIM -->\n  <!-- ====================================================== -->\n\n  <terminal_thesis>\n    This grid does not organize information.\n    This grid performs culture.\n  </terminal_thesis>\n\n</prompt>", "<prompt id=\"OPS-SCHEMAS-24x24-v1\"\n        mode=\"system\"\n        audience=\"expert\"\n        tone=\"operational\"\n        output_form=\"schemas+rules\">\n\n  <intent>\n    Attach operational schemas for:\n    (1) grid cells,\n    (2) zones,\n    (3) traversal.\n    These schemas must be machine-parseable and enforceable.\n    The grid remains a ritual world (Carey), not an info table.\n  </intent>\n\n  <!-- ====================================================== -->\n  <!-- 0) TYPE SYSTEM -->\n  <!-- ====================================================== -->\n\n  <enums>\n\n    <enum id=\"WorldOp\">\n      PRODUCE | MAINTAIN | REPAIR | TRANSFORM\n    </enum>\n\n    <enum id=\"RitualAct\">\n      INVOCATION | CHANT | WITNESS | QUESTION | SEAL\n    </enum>\n\n    <enum id=\"Role\">\n      PILGRIM | WITNESS | CONGREGANT | ARCHIVIST | JUDGE | HERALD\n    </enum>\n\n    <enum id=\"AdjacencyMeaning\">\n      ASSOCIATION | DEVELOPMENT | TENSION\n    </enum>\n\n    <enum id=\"CellState\">\n      DORMANT | ACTIVE | SEALED | BROKEN | QUARANTINED\n    </enum>\n\n    <enum id=\"EvidenceLevel\">\n      NONE | TRACE | QUOTE | PARAPHRASE | SOURCELOCK\n    </enum>\n\n    <enum id=\"SilenceKind\">\n      BREATH | GAP | VEIL | REDACTION | VOID\n    </enum>\n\n  </enums>\n\n  <!-- ====================================================== -->\n  <!-- 1) GRID SCHEMA -->\n  <!-- ====================================================== -->\n\n  <schema id=\"GridSchema\" format=\"json\">\n\n    {\n      \"grid_id\": \"string\",\n      \"version\": \"string\",\n      \"dims\": { \"rows\": 24, \"cols\": 24 },\n\n      \"axioms\": {\n        \"G1_world_not_page\": true,\n        \"G2_position_performs_meaning\": true,\n        \"G3_cells_stage_acts_not_store\": true,\n        \"G4_traversal_produces_understanding\": true,\n        \"G5_repetition_manufactures_reality\": true\n      },\n\n      \"zone_index\": [\"ZONE_ID...\"],\n      \"cell_index\": [\"(x,y)...\"],\n      \"traversal_index\": [\"TRAVERSAL_ID...\"],\n\n      \"global_constraints\": {\n        \"min_silence_cells_pct\": 0.10,\n        \"min_motif_reuse\": 2,\n        \"motifs_must_cross_zones\": true,\n        \"no_singleton_motifs\": true\n      }\n    }\n\n  </schema>\n\n  <!-- ====================================================== -->\n  <!-- 2) ZONE SCHEMA -->\n  <!-- ====================================================== -->\n\n  <schema id=\"ZoneSchema\" format=\"json\">\n\n    {\n      \"zone_id\": \"string\",\n      \"name\": \"string\",\n      \"bounds\": {\n        \"coord_set\": [\"(x,y)...\"]  // OR ranges below; choose one.\n      },\n\n      \"ranges_optional\": [\n        { \"x_min\": 10, \"x_max\": 13, \"y_min\": 10, \"y_max\": 13, \"exclude\": [] }\n      ],\n\n      \"world_operation\": \"WorldOp\",\n      \"allowed_acts\": [\"RitualAct...\"],\n      \"dominant_roles\": [\"Role...\"],\n\n      \"ritual_purpose\": \"string\",\n      \"zone_motifs_required\": [\"motif_id...\"],\n\n      \"zone_constraints\": {\n        \"max_broken_cells_pct\": 0.05,\n        \"silence_cells_pct\": 0.05,\n        \"must_include_seal_gate\": true,\n        \"must_include_question_gate\": true\n      },\n\n      \"entry_gates\": [\n        {\n          \"gate_id\": \"string\",\n          \"gate_cells\": [\"(x,y)...\"],\n          \"required_act\": \"RitualAct\",\n          \"required_token\": \"string|null\"\n        }\n      ],\n\n      \"exit_gates\": [\n        {\n          \"gate_id\": \"string\",\n          \"gate_cells\": [\"(x,y)...\"],\n          \"leads_to_zone_id\": \"string\",\n          \"handoff_rule\": \"string\"\n        }\n      ]\n    }\n\n  </schema>\n\n  <!-- ====================================================== -->\n  <!-- 3) CELL SCHEMA -->\n  <!-- ====================================================== -->\n\n  <schema id=\"CellSchema\" format=\"json\">\n\n    {\n      \"coord\": \"(x,y)\",\n      \"zone_id\": \"string\",\n\n      \"cell_state\": \"CellState\",\n\n      \"world_operation\": \"WorldOp\",\n      \"ritual_act\": \"RitualAct\",\n\n      \"motif_ids\": [\"string...\"],\n\n      \"reader_role\": \"Role\",\n\n      \"payload\": {\n        \"title\": \"string\",\n        \"text_fragment\": \"string\",\n        \"symbolic_form\": \"string\",  // e.g., 'quote', 'diagram', 'gesture', 'chorus'\n        \"evidence_level\": \"EvidenceLevel\",\n        \"source_ref\": \"string|null\", // bibliographic pointer if any\n        \"time_signature\": \"string|null\" // optional: 'daily', 'weekly', 'epochal'\n      },\n\n      \"operators\": {\n        \"enter\": [\"OP...\"],\n        \"perform\": [\"OP...\"],\n        \"exit\": [\"OP...\"]\n      },\n\n      \"continuity_hooks\": {\n        \"preferred_next\": [\"(x,y)...\"],\n        \"avoid_next\": [\"(x,y)...\"],\n        \"loop_to\": \"(x,y)|null\"\n      },\n\n      \"silence\": {\n        \"is_silence_cell\": false,\n        \"silence_kind\": \"SilenceKind|null\",\n        \"silence_rule\": \"string|null\"\n      },\n\n      \"failure_modes\": [\n        {\n          \"id\": \"string\",\n          \"trigger\": \"string\",\n          \"block\": true,\n          \"repair_path\": [\"(x,y)...\"]\n        }\n      ]\n    }\n\n  </schema>\n\n  <!-- ====================================================== -->\n  <!-- 4) OPERATOR LIBRARY -->\n  <!-- ====================================================== -->\n\n  <operator_library>\n\n    <op id=\"DECLARE_WORLD\">\n      Creates the local reality claims for this zone/cell.\n    </op>\n\n    <op id=\"REPEAT_MOTIF\">\n      Replays a motif with slight variation; strengthens MAINTAIN.\n    </op>\n\n    <op id=\"STAGE_CONFLICT\">\n      Introduces a contending force; must produce TENSION adjacency.\n    </op>\n\n    <op id=\"ASK_PREPOSITION_SHIFT\">\n      Forces Dewey\u2019s \u201cby/in\u201d shift as a question operator.\n    </op>\n\n    <op id=\"SEAL_PREMISE\">\n      Locks a claim; marks the cell SEALED; forbids expansion beyond it.\n    </op>\n\n    <op id=\"OPEN_GAP\">\n      Converts certainty into a QUESTION; may mark a silence cell.\n    </op>\n\n    <op id=\"REPAIR_BREAK\">\n      Routes to repair path; converts BROKEN \u2192 ACTIVE.\n    </op>\n\n    <op id=\"TRANSPOSE_MODEL_OF_FOR\">\n      Forces \u201csymbol of\u201d \u2194 \u201csymbol for\u201d switch; can trigger TRANSFORM.\n    </op>\n\n    <op id=\"ROLE_SHIFT\">\n      Changes reader_role; must be justified by neighboring cells.\n    </op>\n\n  </operator_library>\n\n  <!-- ====================================================== -->\n  <!-- 5) ADJACENCY INFERENCE RULES -->\n  <!-- ====================================================== -->\n\n  <adjacency_inference>\n\n    <rule id=\"A1\">\n      Horizontal neighbor => ASSOCIATION.\n      Must share \u22651 motif_id OR share ritual_act.\n    </rule>\n\n    <rule id=\"A2\">\n      Vertical neighbor => DEVELOPMENT.\n      Must increase EvidenceLevel OR deepen world_operation inward:\n      TRANSFORM\u2192REPAIR\u2192MAINTAIN\u2192PRODUCE (toward center).\n    </rule>\n\n    <rule id=\"A3\">\n      Diagonal neighbor => TENSION.\n      Must contradict at least one of:\n      ritual_act, role, or a declared claim in payload.text_fragment.\n    </rule>\n\n  </adjacency_inference>\n\n  <!-- ====================================================== -->\n  <!-- 6) TRAVERSAL SCHEMA -->\n  <!-- ====================================================== -->\n\n  <schema id=\"TraversalSchema\" format=\"json\">\n\n    {\n      \"traversal_id\": \"string\",\n      \"name\": \"string\",\n\n      \"mode\": \"PILGRIMAGE|CIRCULATION|PROCESSION|SPIRAL|FREE\",\n\n      \"start_cells\": [\"(x,y)...\"],\n      \"end_cells\": [\"(x,y)...\"],\n\n      \"entry_conditions\": [\n        { \"requires_token\": \"string|null\" },\n        { \"requires_role\": \"Role|null\" },\n        { \"requires_act\": \"RitualAct|null\" }\n      ],\n\n      \"step_rule\": {\n        \"max_steps\": 144,\n        \"allowed_moves\": [\"N\",\"S\",\"E\",\"W\",\"NE\",\"NW\",\"SE\",\"SW\"],\n        \"disallow_backtrack_pct\": 0.35\n      },\n\n      \"path_constraints\": {\n        \"must_enter_zones\": [\"ZONE_ID...\"],\n        \"must_touch_acts\": [\"RitualAct...\"],\n        \"min_silence_encounters\": 3,\n        \"min_role_shifts\": 2,\n        \"min_tension_diagonals\": 4\n      },\n\n      \"checkpoints\": [\n        {\n          \"checkpoint_id\": \"string\",\n          \"at_cell\": \"(x,y)\",\n          \"required_operator\": \"OP\",\n          \"validation\": \"string\"\n        }\n      ],\n\n      \"completion\": {\n        \"seal_required\": true,\n        \"seal_cells\": [\"(x,y)...\"],\n        \"completion_artifact\": \"string\" // e.g., 'thesis-line', 'chorus', 'map'\n      },\n\n      \"failure\": {\n        \"if_stuck\": \"route_to_repair\",\n        \"repair_zone_id\": \"string\",\n        \"repair_steps\": [\"(x,y)...\"]\n      }\n    }\n\n  </schema>\n\n  <!-- ====================================================== -->\n  <!-- 7) DEFAULT ZONE DEFINITIONS FOR CAREY RINGS -->\n  <!-- ====================================================== -->\n\n  <defaults>\n\n    <zone_default id=\"CENTER_CORE\">\n      { \"world_operation\": \"PRODUCE\",\n        \"allowed_acts\": [\"INVOCATION\",\"SEAL\"],\n        \"dominant_roles\": [\"JUDGE\",\"ARCHIVIST\"]\n      }\n    </zone_default>\n\n    <zone_default id=\"INNER_RING\">\n      { \"world_operation\": \"MAINTAIN\",\n        \"allowed_acts\": [\"CHANT\",\"WITNESS\"],\n        \"dominant_roles\": [\"CONGREGANT\",\"WITNESS\"]\n      }\n    </zone_default>\n\n    <zone_default id=\"MIDDLE_RING\">\n      { \"world_operation\": \"REPAIR\",\n        \"allowed_acts\": [\"QUESTION\",\"WITNESS\"],\n        \"dominant_roles\": [\"ARCHIVIST\",\"PILGRIM\"]\n      }\n    </zone_default>\n\n    <zone_default id=\"OUTER_RING\">\n      { \"world_operation\": \"TRANSFORM\",\n        \"allowed_acts\": [\"QUESTION\"],\n        \"dominant_roles\": [\"PILGRIM\",\"HERALD\"]\n      }\n    </zone_default>\n\n  </defaults>\n\n  <!-- ====================================================== -->\n  <!-- 8) VALIDATION RULESET -->\n  <!-- ====================================================== -->\n\n  <validation>\n\n    <v id=\"V1\">\n      Every zone must contain at least:\n      1 INVOCATION gate, 1 QUESTION gate, 1 SEAL gate (not necessarily distinct).\n    </v>\n\n    <v id=\"V2\">\n      Every traversal must encounter all four WorldOp values at least once.\n    </v>\n\n    <v id=\"V3\">\n      No traversal may be purely horizontal or purely vertical.\n    </v>\n\n    <v id=\"V4\">\n      At least 10% of all cells must be silence.is_silence_cell=true.\n    </v>\n\n    <v id=\"V5\">\n      Motif reuse: each motif_id appears in \u22652 cells AND \u22652 zones.\n    </v>\n\n  </validation>\n\n  <closing_seal>\n    These schemas are binding.\n    The grid is executable ritual.\n  </closing_seal>\n\n</prompt>", "<prompt id=\"OPS-SCHEMAS-24x24-CALLIGRAM-v2\"\n        mode=\"system\"\n        audience=\"expert\"\n        tone=\"operative-poetic\"\n        output_form=\"schemas+rules\">\n\n  <intent>\n    Merge the 24\u00d724 spatial semantic grid with calligrammatic / spatial-poetry\n    rendering so that text becomes geometry and geometry becomes argument.\n    Language must inhabit cells as shaped matter, not paragraphs.\n  </intent>\n\n  <!-- ====================================================== -->\n  <!-- 0) ADDITIVE TYPE SYSTEM -->\n  <!-- ====================================================== -->\n\n  <enums>\n\n    <enum id=\"GlyphFlow\">\n      LINEAR | SPIRAL | COLUMN | FRACTURE | RADIATE | CLUSTER | SCATTER | WAVE\n    </enum>\n\n    <enum id=\"StrokeWeight\">\n      HAIRLINE | LIGHT | REGULAR | BOLD | BLACK\n    </enum>\n\n    <enum id=\"TypographicGravity\">\n      TOP | BOTTOM | LEFT | RIGHT | CENTER | FLOAT\n    </enum>\n\n    <enum id=\"CalligramFunction\">\n      IMAGE | CONTAINER | BARRIER | PATH | VOID\n    </enum>\n\n    <enum id=\"LetterMaterial\">\n      INK | STONE | ASH | NEON | BONE | LIGHT | STATIC\n    </enum>\n\n  </enums>\n\n  <!-- ====================================================== -->\n  <!-- 1) CALLIGRAM LAYER (ATTACHED TO EACH CELL) -->\n  <!-- ====================================================== -->\n\n  <schema id=\"CalligramLayer\" format=\"json\">\n\n    {\n      \"glyph_flow\": \"GlyphFlow\",\n      \"stroke_weight\": \"StrokeWeight\",\n      \"gravity\": \"TypographicGravity\",\n\n      \"shape_outline\": \"string|null\", \n      // e.g., \"urn\", \"door\", \"spiral_eye\", \"river\", \"knot\"\n\n      \"calligram_function\": \"CalligramFunction\",\n\n      \"letter_material\": \"LetterMaterial\",\n\n      \"negative_space_ratio\": 0.0,\n\n      \"wrap_rule\": \"string\", \n      // e.g., \"break_on_breath\", \"break_on_concept\", \"continuous\"\n\n      \"line_tension\": 0.0, \n      // 0 = calm, 1 = extreme compression\n\n      \"mirroring\": false\n    }\n\n  </schema>\n\n  <!-- ====================================================== -->\n  <!-- 2) EXTENDED CELL SCHEMA -->\n  <!-- ====================================================== -->\n\n  <schema id=\"CellSchema_Extended\" extends=\"CellSchema\">\n\n    {\n      \"calligram\": \"CalligramLayer\",\n\n      \"typographic_operators\": [\"TYPO_OP...\"]\n    }\n\n  </schema>\n\n  <!-- ====================================================== -->\n  <!-- 3) TYPOGRAPHIC OPERATOR LIBRARY -->\n  <!-- ====================================================== -->\n\n  <operator_library id=\"TypographicOps\">\n\n    <op id=\"FLOW_TO_SHAPE\">\n      GlyphFlow must visually resemble shape_outline.\n    </op>\n\n    <op id=\"COMPRESS_TO_POINT\">\n      Increase line_tension, reduce negative_space_ratio.\n    </op>\n\n    <op id=\"DISSOLVE_TO_VOID\">\n      Convert letters into scattered fragments; set calligram_function=VOID.\n    </op>\n\n    <op id=\"STACK_AS_COLUMN\">\n      Force vertical alignment; glyph_flow=COLUMN.\n    </op>\n\n    <op id=\"RADIATE_FROM_CENTER\">\n      glyph_flow=RADIATE, gravity=CENTER.\n    </op>\n\n    <op id=\"CARVE_SILHOUETTE\">\n      Text forms boundary of shape_outline; interior is empty.\n    </op>\n\n    <op id=\"MIRROR_AXIS\">\n      mirroring=true; reflects around center axis.\n    </op>\n\n    <op id=\"ERODE_STROKE\">\n      Step stroke_weight downward.\n    </op>\n\n  </operator_library>\n\n  <!-- ====================================================== -->\n  <!-- 4) GRID \u2192 CALLIGRAM MAPPING RULES -->\n  <!-- ====================================================== -->\n\n  <mapping_rules>\n\n    <rule id=\"M1\">\n      world_operation=PRODUCE \u2192 calligram_function=IMAGE\n    </rule>\n\n    <rule id=\"M2\">\n      world_operation=MAINTAIN \u2192 calligram_function=CONTAINER\n    </rule>\n\n    <rule id=\"M3\">\n      world_operation=REPAIR \u2192 calligram_function=PATH\n    </rule>\n\n    <rule id=\"M4\">\n      world_operation=TRANSFORM \u2192 calligram_function=VOID\n    </rule>\n\n    <rule id=\"M5\">\n      ritual_act=INVOCATION \u2192 glyph_flow=RADIATE\n    </rule>\n\n    <rule id=\"M6\">\n      ritual_act=CHANT \u2192 glyph_flow=WAVE\n    </rule>\n\n    <rule id=\"M7\">\n      ritual_act=QUESTION \u2192 glyph_flow=FRACTURE\n    </rule>\n\n    <rule id=\"M8\">\n      silence.is_silence_cell=true \u2192 negative_space_ratio \u2265 0.70\n    </rule>\n\n  </mapping_rules>\n\n  <!-- ====================================================== -->\n  <!-- 5) ZONE-LEVEL CALLIGRAM COHERENCE -->\n  <!-- ====================================================== -->\n\n  <zone_calligram_rules>\n\n    <rule id=\"ZC1\">\n      All cells in zone share one dominant LetterMaterial.\n    </rule>\n\n    <rule id=\"ZC2\">\n      At least one cell per zone uses CARVE_SILHOUETTE.\n    </rule>\n\n    <rule id=\"ZC3\">\n      Adjacent cells must vary StrokeWeight by at most one step.\n    </rule>\n\n  </zone_calligram_rules>\n\n  <!-- ====================================================== -->\n  <!-- 6) TRAVERSAL AS POETIC MOTION -->\n  <!-- ====================================================== -->\n\n  <traversal_poetics>\n\n    <rule id=\"TP1\">\n      Each traversal must encounter at least 3 distinct GlyphFlow types.\n    </rule>\n\n    <rule id=\"TP2\">\n      Traversal start cell must be IMAGE or CONTAINER.\n    </rule>\n\n    <rule id=\"TP3\">\n      Traversal end cell must be VOID.\n    </rule>\n\n    <rule id=\"TP4\">\n      StrokeWeight must trend LIGHT\u2192BLACK\u2192HAIRLINE across traversal.\n    </rule>\n\n  </traversal_poetics>\n\n  <!-- ====================================================== -->\n  <!-- 7) CANONICAL CALLIGRAM SHAPES -->\n  <!-- ====================================================== -->\n\n  <shape_catalog>\n\n    <shape id=\"urn\">\n      Signifies containment of memory, mortality, archive.\n    </shape>\n\n    <shape id=\"door\">\n      Threshold, entry, preposition shift.\n    </shape>\n\n    <shape id=\"spiral_eye\">\n      Recursion, self-observation.\n    </shape>\n\n    <shape id=\"river\">\n      Temporal flow.\n    </shape>\n\n    <shape id=\"knot\">\n      Contradiction, bind.\n    </shape>\n\n  </shape_catalog>\n\n  <closing_seal>\n    Language is now matter.\n    The page is now terrain.\n    The grid is now a poem-engine.\n  </closing_seal>\n\n</prompt>"];

function copyBlock(i) {
  navigator.clipboard.writeText(blocks[i]).then(() => {
    event.target.textContent = 'COPIED';
    setTimeout(() => event.target.textContent = 'COPY', 1200);
  });
}

function downloadBlock(i) {
  const blob = new Blob([blocks[i]], {type: 'text/xml'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'block-' + i + '.poml';
  a.click();
}
</script>

</body>
</html>